# Build Failure: 2025_05_02_patch_51

## Chromium Revision

`a3ffac36a0fd4cbdc95cd5ec879816b9634a1d56`

## Code Changes (Diff)

```diff
diff --git a/third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc b/third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc
index cd4a96cf772b3..5cc52d47bdb46 100644
--- a/third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc
+++ b/third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style license that can be
 // found in the LICENSE file.
 
+#include "base/containers/span.h"
+
 #ifdef UNSAFE_BUFFERS_BUILD
 // TODO(crbug.com/351564777): Remove this and convert code to safer constructs.
 #pragma allow_unsafe_buffers
@@ -1196,7 +1198,7 @@ void Unpack<WebGLImageConversion::kDataFormatRGBA16F, uint16_t, uint8_t>(
 // the browser: uint8_t, for RGBA8, and float, for RGBA16F.
 
 template <int format, int alphaOp, typename SourceType, typename DstType>
-void Pack(const SourceType*, DstType*, unsigned) {
+void Pack(base::span<const SourceType>, DstType*, unsigned) {
   NOTREACHED();
 }
 
@@ -1204,12 +1206,12 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatA8,
           WebGLImageConversion::kAlphaDoNothing,
           uint8_t,
-          uint8_t>(const uint8_t* source,
+          uint8_t>(base::span<const uint8_t> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = source[3];
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1218,12 +1220,12 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatA8,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          uint8_t>(const float* source,
+          uint8_t>(base::span<const float> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = ClampAndScaleFloat<uint8_t>(source[3]);
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1232,12 +1234,12 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatR8,
           WebGLImageConversion::kAlphaDoNothing,
           uint8_t,
-          uint8_t>(const uint8_t* source,
+          uint8_t>(base::span<const uint8_t> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = source[0];
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1246,12 +1248,12 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatR8,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          uint8_t>(const float* source,
+          uint8_t>(base::span<const float> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = ClampAndScaleFloat<uint8_t>(source[0]);
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1260,7 +1262,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatR8,
           WebGLImageConversion::kAlphaDoPremultiply,
           uint8_t,
-          uint8_t>(const uint8_t* source,
+          uint8_t>(base::span<const uint8_t> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1268,7 +1270,7 @@ void Pack<WebGLImageConversion::kDataFormatR8,
     uint8_t source_r =
         static_cast<uint8_t>(static_cast<float>(source[0]) * scale_factor);
     destination[0] = source_r;
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1277,13 +1279,13 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatR8,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          uint8_t>(const float* source,
+          uint8_t>(base::span<const float> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     uint8_t source_r = ClampAndScaleFloat<uint8_t>(source[0] * source[3]);
     destination[0] = source_r;
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1292,7 +1294,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatR8,
           WebGLImageConversion::kAlphaDoUnmultiply,
           uint8_t,
-          uint8_t>(const uint8_t* source,
+          uint8_t>(base::span<const uint8_t> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
 #if defined(ARCH_CPU_X86_FAMILY)
@@ -1309,7 +1311,7 @@ void Pack<WebGLImageConversion::kDataFormatR8,
     uint8_t source_r =
         static_cast<uint8_t>(static_cast<float>(source[0]) * scale_factor);
     destination[0] = source_r;
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1318,14 +1320,14 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatR8,
           WebGLImageConversion::kAlphaDoUnmultiply,
           float,
-          uint8_t>(const float* source,
+          uint8_t>(base::span<const float> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     float scale_factor = source[3] ? 1.0f / source[3] : 1.0f;
     uint8_t source_r = ClampAndScaleFloat<uint8_t>(source[0] * scale_factor);
     destination[0] = source_r;
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1334,13 +1336,13 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRA8,
           WebGLImageConversion::kAlphaDoNothing,
           uint8_t,
-          uint8_t>(const uint8_t* source,
+          uint8_t>(base::span<const uint8_t> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = source[0];
     destination[1] = source[3];
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -1349,13 +1351,13 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRA8,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          uint8_t>(const float* source,
+          uint8_t>(base::span<const float> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = ClampAndScaleFloat<uint8_t>(source[0]);
     destination[1] = ClampAndScaleFloat<uint8_t>(source[3]);
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -1364,7 +1366,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRA8,
           WebGLImageConversion::kAlphaDoPremultiply,
           uint8_t,
-          uint8_t>(const uint8_t* source,
+          uint8_t>(base::span<const uint8_t> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1373,7 +1375,7 @@ void Pack<WebGLImageConversion::kDataFormatRA8,
         static_cast<uint8_t>(static_cast<float>(source[0]) * scale_factor);
     destination[0] = source_r;
     destination[1] = source[3];
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -1382,13 +1384,13 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRA8,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          uint8_t>(const float* source,
+          uint8_t>(base::span<const float> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = ClampAndScaleFloat<uint8_t>(source[0] * source[3]);
     destination[1] = ClampAndScaleFloat<uint8_t>(source[3]);
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -1397,7 +1399,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRA8,
           WebGLImageConversion::kAlphaDoUnmultiply,
           uint8_t,
-          uint8_t>(const uint8_t* source,
+          uint8_t>(base::span<const uint8_t> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
 #if defined(ARCH_CPU_X86_FAMILY)
@@ -1415,7 +1417,7 @@ void Pack<WebGLImageConversion::kDataFormatRA8,
         static_cast<uint8_t>(static_cast<float>(source[0]) * scale_factor);
     destination[0] = source_r;
     destination[1] = source[3];
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -1424,7 +1426,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRA8,
           WebGLImageConversion::kAlphaDoUnmultiply,
           float,
-          uint8_t>(const float* source,
+          uint8_t>(base::span<const float> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1432,7 +1434,7 @@ void Pack<WebGLImageConversion::kDataFormatRA8,
     uint8_t source_r = ClampAndScaleFloat<uint8_t>(source[0] * scale_factor);
     destination[0] = source_r;
     destination[1] = ClampAndScaleFloat<uint8_t>(source[3]);
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -1441,14 +1443,14 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGB8,
           WebGLImageConversion::kAlphaDoNothing,
           uint8_t,
-          uint8_t>(const uint8_t* source,
+          uint8_t>(base::span<const uint8_t> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = source[0];
     destination[1] = source[1];
     destination[2] = source[2];
-    source += 4;
+    source = source.subspan(4);
     destination += 3;
   }
 }
@@ -1457,14 +1459,14 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGB8,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          uint8_t>(const float* source,
+          uint8_t>(base::span<const float> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = ClampAndScaleFloat<uint8_t>(source[0]);
     destination[1] = ClampAndScaleFloat<uint8_t>(source[1]);
     destination[2] = ClampAndScaleFloat<uint8_t>(source[2]);
-    source += 4;
+    source = source.subspan(4);
     destination += 3;
   }
 }
@@ -1473,7 +1475,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGB8,
           WebGLImageConversion::kAlphaDoPremultiply,
           uint8_t,
-          uint8_t>(const uint8_t* source,
+          uint8_t>(base::span<const uint8_t> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1487,7 +1489,7 @@ void Pack<WebGLImageConversion::kDataFormatRGB8,
     destination[0] = source_r;
     destination[1] = source_g;
     destination[2] = source_b;
-    source += 4;
+    source = source.subspan(4);
     destination += 3;
   }
 }
@@ -1496,14 +1498,14 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGB8,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          uint8_t>(const float* source,
+          uint8_t>(base::span<const float> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = ClampAndScaleFloat<uint8_t>(source[0] * source[3]);
     destination[1] = ClampAndScaleFloat<uint8_t>(source[1] * source[3]);
     destination[2] = ClampAndScaleFloat<uint8_t>(source[2] * source[3]);
-    source += 4;
+    source = source.subspan(4);
     destination += 3;
   }
 }
@@ -1512,7 +1514,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGB8,
           WebGLImageConversion::kAlphaDoUnmultiply,
           uint8_t,
-          uint8_t>(const uint8_t* source,
+          uint8_t>(base::span<const uint8_t> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1526,7 +1528,7 @@ void Pack<WebGLImageConversion::kDataFormatRGB8,
     destination[0] = source_r;
     destination[1] = source_g;
     destination[2] = source_b;
-    source += 4;
+    source = source.subspan(4);
     destination += 3;
   }
 }
@@ -1535,7 +1537,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGB8,
           WebGLImageConversion::kAlphaDoUnmultiply,
           float,
-          uint8_t>(const float* source,
+          uint8_t>(base::span<const float> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1543,7 +1545,7 @@ void Pack<WebGLImageConversion::kDataFormatRGB8,
     destination[0] = ClampAndScaleFloat<uint8_t>(source[0] * scale_factor);
     destination[1] = ClampAndScaleFloat<uint8_t>(source[1] * scale_factor);
     destination[2] = ClampAndScaleFloat<uint8_t>(source[2] * scale_factor);
-    source += 4;
+    source = source.subspan(4);
     destination += 3;
   }
 }
@@ -1552,7 +1554,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA8,
           WebGLImageConversion::kAlphaDoPremultiply,
           uint8_t,
-          uint8_t>(const uint8_t* source,
+          uint8_t>(base::span<const uint8_t> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1567,7 +1569,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA8,
     destination[1] = source_g;
     destination[2] = source_b;
     destination[3] = source[3];
-    source += 4;
+    source = source.subspan(4);
     destination += 4;
   }
 }
@@ -1576,7 +1578,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA8,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          uint8_t>(const float* source,
+          uint8_t>(base::span<const float> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1584,7 +1586,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA8,
     destination[1] = ClampAndScaleFloat<uint8_t>(source[1] * source[3]);
     destination[2] = ClampAndScaleFloat<uint8_t>(source[2] * source[3]);
     destination[3] = ClampAndScaleFloat<uint8_t>(source[3]);
-    source += 4;
+    source = source.subspan(4);
     destination += 4;
   }
 }
@@ -1593,7 +1595,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA8,
           WebGLImageConversion::kAlphaDoUnmultiply,
           uint8_t,
-          uint8_t>(const uint8_t* source,
+          uint8_t>(base::span<const uint8_t> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
 #if defined(ARCH_CPU_X86_FAMILY)
@@ -1617,7 +1619,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA8,
     destination[1] = source_g;
     destination[2] = source_b;
     destination[3] = source[3];
-    source += 4;
+    source = source.subspan(4);
     destination += 4;
   }
 }
@@ -1626,7 +1628,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA8,
           WebGLImageConversion::kAlphaDoUnmultiply,
           float,
-          uint8_t>(const float* source,
+          uint8_t>(base::span<const float> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1635,7 +1637,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA8,
     destination[1] = ClampAndScaleFloat<uint8_t>(source[1] * scale_factor);
     destination[2] = ClampAndScaleFloat<uint8_t>(source[2] * scale_factor);
     destination[3] = ClampAndScaleFloat<uint8_t>(source[3]);
-    source += 4;
+    source = source.subspan(4);
     destination += 4;
   }
 }
@@ -1644,7 +1646,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA4444,
           WebGLImageConversion::kAlphaDoNothing,
           uint8_t,
-          uint16_t>(const uint8_t* source,
+          uint16_t>(base::span<const uint8_t> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
 #if defined(CPU_ARM_NEON)
@@ -1658,7 +1660,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA4444,
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     *destination = (((source[0] & 0xF0) << 8) | ((source[1] & 0xF0) << 4) |
                     (source[2] & 0xF0) | (source[3] >> 4));
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1667,7 +1669,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA4444,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1677,7 +1679,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA4444,
     uint8_t a = ClampAndScaleFloat<uint8_t>(source[3]);
     *destination =
         (((r & 0xF0) << 8) | ((g & 0xF0) << 4) | (b & 0xF0) | (a >> 4));
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1686,7 +1688,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA4444,
           WebGLImageConversion::kAlphaDoPremultiply,
           uint8_t,
-          uint16_t>(const uint8_t* source,
+          uint16_t>(base::span<const uint8_t> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1699,7 +1701,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA4444,
         static_cast<uint8_t>(static_cast<float>(source[2]) * scale_factor);
     *destination = (((source_r & 0xF0) << 8) | ((source_g & 0xF0) << 4) |
                     (source_b & 0xF0) | (source[3] >> 4));
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1708,7 +1710,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA4444,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1718,7 +1720,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA4444,
     uint8_t a = ClampAndScaleFloat<uint8_t>(source[3]);
     *destination =
         (((r & 0xF0) << 8) | ((g & 0xF0) << 4) | (b & 0xF0) | (a >> 4));
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1727,7 +1729,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA4444,
           WebGLImageConversion::kAlphaDoUnmultiply,
           uint8_t,
-          uint16_t>(const uint8_t* source,
+          uint16_t>(base::span<const uint8_t> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1740,7 +1742,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA4444,
         static_cast<uint8_t>(static_cast<float>(source[2]) * scale_factor);
     *destination = (((source_r & 0xF0) << 8) | ((source_g & 0xF0) << 4) |
                     (source_b & 0xF0) | (source[3] >> 4));
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1749,7 +1751,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA4444,
           WebGLImageConversion::kAlphaDoUnmultiply,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1760,7 +1762,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA4444,
     uint8_t a = ClampAndScaleFloat<uint8_t>(source[3]);
     *destination =
         (((r & 0xF0) << 8) | ((g & 0xF0) << 4) | (b & 0xF0) | (a >> 4));
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1769,7 +1771,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA5551,
           WebGLImageConversion::kAlphaDoNothing,
           uint8_t,
-          uint16_t>(const uint8_t* source,
+          uint16_t>(base::span<const uint8_t> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
 #if defined(CPU_ARM_NEON)
@@ -1783,7 +1785,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA5551,
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     *destination = (((source[0] & 0xF8) << 8) | ((source[1] & 0xF8) << 3) |
                     ((source[2] & 0xF8) >> 2) | (source[3] >> 7));
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1792,7 +1794,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA5551,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1802,7 +1804,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA5551,
     uint8_t a = ClampAndScaleFloat<uint8_t>(source[3]);
     *destination =
         (((r & 0xF8) << 8) | ((g & 0xF8) << 3) | ((b & 0xF8) >> 2) | (a >> 7));
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1811,7 +1813,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA5551,
           WebGLImageConversion::kAlphaDoPremultiply,
           uint8_t,
-          uint16_t>(const uint8_t* source,
+          uint16_t>(base::span<const uint8_t> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1824,7 +1826,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA5551,
         static_cast<uint8_t>(static_cast<float>(source[2]) * scale_factor);
     *destination = (((source_r & 0xF8) << 8) | ((source_g & 0xF8) << 3) |
                     ((source_b & 0xF8) >> 2) | (source[3] >> 7));
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1833,7 +1835,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA5551,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1843,7 +1845,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA5551,
     uint8_t a = ClampAndScaleFloat<uint8_t>(source[3]);
     *destination =
         (((r & 0xF8) << 8) | ((g & 0xF8) << 3) | ((b & 0xF8) >> 2) | (a >> 7));
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1852,7 +1854,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA5551,
           WebGLImageConversion::kAlphaDoUnmultiply,
           uint8_t,
-          uint16_t>(const uint8_t* source,
+          uint16_t>(base::span<const uint8_t> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1865,7 +1867,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA5551,
         static_cast<uint8_t>(static_cast<float>(source[2]) * scale_factor);
     *destination = (((source_r & 0xF8) << 8) | ((source_g & 0xF8) << 3) |
                     ((source_b & 0xF8) >> 2) | (source[3] >> 7));
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1874,7 +1876,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA5551,
           WebGLImageConversion::kAlphaDoUnmultiply,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1885,7 +1887,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA5551,
     uint8_t a = ClampAndScaleFloat<uint8_t>(source[3]);
     *destination =
         (((r & 0xF8) << 8) | ((g & 0xF8) << 3) | ((b & 0xF8) >> 2) | (a >> 7));
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1894,7 +1896,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGB565,
           WebGLImageConversion::kAlphaDoNothing,
           uint8_t,
-          uint16_t>(const uint8_t* source,
+          uint16_t>(base::span<const uint8_t> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
 #if defined(CPU_ARM_NEON)
@@ -1908,7 +1910,7 @@ void Pack<WebGLImageConversion::kDataFormatRGB565,
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     *destination = (((source[0] & 0xF8) << 8) | ((source[1] & 0xFC) << 3) |
                     ((source[2] & 0xF8) >> 3));
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1917,7 +1919,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGB565,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1925,7 +1927,7 @@ void Pack<WebGLImageConversion::kDataFormatRGB565,
     uint8_t g = ClampAndScaleFloat<uint8_t>(source[1]);
     uint8_t b = ClampAndScaleFloat<uint8_t>(source[2]);
     *destination = (((r & 0xF8) << 8) | ((g & 0xFC) << 3) | ((b & 0xF8) >> 3));
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1934,7 +1936,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGB565,
           WebGLImageConversion::kAlphaDoPremultiply,
           uint8_t,
-          uint16_t>(const uint8_t* source,
+          uint16_t>(base::span<const uint8_t> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1947,7 +1949,7 @@ void Pack<WebGLImageConversion::kDataFormatRGB565,
         static_cast<uint8_t>(static_cast<float>(source[2]) * scale_factor);
     *destination = (((source_r & 0xF8) << 8) | ((source_g & 0xFC) << 3) |
                     ((source_b & 0xF8) >> 3));
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1956,7 +1958,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGB565,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1964,7 +1966,7 @@ void Pack<WebGLImageConversion::kDataFormatRGB565,
     uint8_t g = ClampAndScaleFloat<uint8_t>(source[1] * source[3]);
     uint8_t b = ClampAndScaleFloat<uint8_t>(source[2] * source[3]);
     *destination = (((r & 0xF8) << 8) | ((g & 0xFC) << 3) | ((b & 0xF8) >> 3));
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1973,7 +1975,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGB565,
           WebGLImageConversion::kAlphaDoUnmultiply,
           uint8_t,
-          uint16_t>(const uint8_t* source,
+          uint16_t>(base::span<const uint8_t> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -1986,7 +1988,7 @@ void Pack<WebGLImageConversion::kDataFormatRGB565,
         static_cast<uint8_t>(static_cast<float>(source[2]) * scale_factor);
     *destination = (((source_r & 0xF8) << 8) | ((source_g & 0xFC) << 3) |
                     ((source_b & 0xF8) >> 3));
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -1995,7 +1997,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGB565,
           WebGLImageConversion::kAlphaDoUnmultiply,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2004,7 +2006,7 @@ void Pack<WebGLImageConversion::kDataFormatRGB565,
     uint8_t g = ClampAndScaleFloat<uint8_t>(source[1] * scale_factor);
     uint8_t b = ClampAndScaleFloat<uint8_t>(source[2] * scale_factor);
     *destination = (((r & 0xF8) << 8) | ((g & 0xFC) << 3) | ((b & 0xF8) >> 3));
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -2013,14 +2015,14 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGB32F,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          float>(const float* source,
+          float>(base::span<const float> source,
                  float* destination,
                  unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = source[0];
     destination[1] = source[1];
     destination[2] = source[2];
-    source += 4;
+    source = source.subspan(4);
     destination += 3;
   }
 }
@@ -2029,7 +2031,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGB32F,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          float>(const float* source,
+          float>(base::span<const float> source,
                  float* destination,
                  unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2037,7 +2039,7 @@ void Pack<WebGLImageConversion::kDataFormatRGB32F,
     destination[0] = source[0] * scale_factor;
     destination[1] = source[1] * scale_factor;
     destination[2] = source[2] * scale_factor;
-    source += 4;
+    source = source.subspan(4);
     destination += 3;
   }
 }
@@ -2046,7 +2048,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGB32F,
           WebGLImageConversion::kAlphaDoUnmultiply,
           float,
-          float>(const float* source,
+          float>(base::span<const float> source,
                  float* destination,
                  unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2054,7 +2056,7 @@ void Pack<WebGLImageConversion::kDataFormatRGB32F,
     destination[0] = source[0] * scale_factor;
     destination[1] = source[1] * scale_factor;
     destination[2] = source[2] * scale_factor;
-    source += 4;
+    source = source.subspan(4);
     destination += 3;
   }
 }
@@ -2063,7 +2065,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA32F,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          float>(const float* source,
+          float>(base::span<const float> source,
                  float* destination,
                  unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2072,7 +2074,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA32F,
     destination[1] = source[1] * scale_factor;
     destination[2] = source[2] * scale_factor;
     destination[3] = source[3];
-    source += 4;
+    source = source.subspan(4);
     destination += 4;
   }
 }
@@ -2081,7 +2083,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA32F,
           WebGLImageConversion::kAlphaDoUnmultiply,
           float,
-          float>(const float* source,
+          float>(base::span<const float> source,
                  float* destination,
                  unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2090,7 +2092,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA32F,
     destination[1] = source[1] * scale_factor;
     destination[2] = source[2] * scale_factor;
     destination[3] = source[3];
-    source += 4;
+    source = source.subspan(4);
     destination += 4;
   }
 }
@@ -2099,12 +2101,12 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatA32F,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          float>(const float* source,
+          float>(base::span<const float> source,
                  float* destination,
                  unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = source[3];
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -2113,12 +2115,12 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatR32F,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          float>(const float* source,
+          float>(base::span<const float> source,
                  float* destination,
                  unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = source[0];
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -2127,13 +2129,13 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatR32F,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          float>(const float* source,
+          float>(base::span<const float> source,
                  float* destination,
                  unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     float scale_factor = source[3];
     destination[0] = source[0] * scale_factor;
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -2142,13 +2144,13 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatR32F,
           WebGLImageConversion::kAlphaDoUnmultiply,
           float,
-          float>(const float* source,
+          float>(base::span<const float> source,
                  float* destination,
                  unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     float scale_factor = source[3] ? 1.0f / source[3] : 1.0f;
     destination[0] = source[0] * scale_factor;
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -2157,13 +2159,13 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRA32F,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          float>(const float* source,
+          float>(base::span<const float> source,
                  float* destination,
                  unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = source[0];
     destination[1] = source[3];
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -2172,14 +2174,14 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRA32F,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          float>(const float* source,
+          float>(base::span<const float> source,
                  float* destination,
                  unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     float scale_factor = source[3];
     destination[0] = source[0] * scale_factor;
     destination[1] = source[3];
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -2188,14 +2190,14 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRA32F,
           WebGLImageConversion::kAlphaDoUnmultiply,
           float,
-          float>(const float* source,
+          float>(base::span<const float> source,
                  float* destination,
                  unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     float scale_factor = source[3] ? 1.0f / source[3] : 1.0f;
     destination[0] = source[0] * scale_factor;
     destination[1] = source[3];
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -2204,7 +2206,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA16F,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2212,7 +2214,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA16F,
     destination[1] = ConvertFloatToHalfFloat(source[1]);
     destination[2] = ConvertFloatToHalfFloat(source[2]);
     destination[3] = ConvertFloatToHalfFloat(source[3]);
-    source += 4;
+    source = source.subspan(4);
     destination += 4;
   }
 }
@@ -2221,7 +2223,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA16F,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2230,7 +2232,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA16F,
     destination[1] = ConvertFloatToHalfFloat(source[1] * scale_factor);
     destination[2] = ConvertFloatToHalfFloat(source[2] * scale_factor);
     destination[3] = ConvertFloatToHalfFloat(source[3]);
-    source += 4;
+    source = source.subspan(4);
     destination += 4;
   }
 }
@@ -2239,7 +2241,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA16F,
           WebGLImageConversion::kAlphaDoUnmultiply,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2248,7 +2250,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA16F,
     destination[1] = ConvertFloatToHalfFloat(source[1] * scale_factor);
     destination[2] = ConvertFloatToHalfFloat(source[2] * scale_factor);
     destination[3] = ConvertFloatToHalfFloat(source[3]);
-    source += 4;
+    source = source.subspan(4);
     destination += 4;
   }
 }
@@ -2257,14 +2259,14 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGB16F,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = ConvertFloatToHalfFloat(source[0]);
     destination[1] = ConvertFloatToHalfFloat(source[1]);
     destination[2] = ConvertFloatToHalfFloat(source[2]);
-    source += 4;
+    source = source.subspan(4);
     destination += 3;
   }
 }
@@ -2273,7 +2275,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGB16F,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2281,7 +2283,7 @@ void Pack<WebGLImageConversion::kDataFormatRGB16F,
     destination[0] = ConvertFloatToHalfFloat(source[0] * scale_factor);
     destination[1] = ConvertFloatToHalfFloat(source[1] * scale_factor);
     destination[2] = ConvertFloatToHalfFloat(source[2] * scale_factor);
-    source += 4;
+    source = source.subspan(4);
     destination += 3;
   }
 }
@@ -2290,7 +2292,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGB16F,
           WebGLImageConversion::kAlphaDoUnmultiply,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2298,7 +2300,7 @@ void Pack<WebGLImageConversion::kDataFormatRGB16F,
     destination[0] = ConvertFloatToHalfFloat(source[0] * scale_factor);
     destination[1] = ConvertFloatToHalfFloat(source[1] * scale_factor);
     destination[2] = ConvertFloatToHalfFloat(source[2] * scale_factor);
-    source += 4;
+    source = source.subspan(4);
     destination += 3;
   }
 }
@@ -2307,13 +2309,13 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRA16F,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = ConvertFloatToHalfFloat(source[0]);
     destination[1] = ConvertFloatToHalfFloat(source[3]);
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -2322,14 +2324,14 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRA16F,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     float scale_factor = source[3];
     destination[0] = ConvertFloatToHalfFloat(source[0] * scale_factor);
     destination[1] = ConvertFloatToHalfFloat(source[3]);
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -2338,14 +2340,14 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRA16F,
           WebGLImageConversion::kAlphaDoUnmultiply,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     float scale_factor = source[3] ? 1.0f / source[3] : 1.0f;
     destination[0] = ConvertFloatToHalfFloat(source[0] * scale_factor);
     destination[1] = ConvertFloatToHalfFloat(source[3]);
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -2354,12 +2356,12 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatR16F,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = ConvertFloatToHalfFloat(source[0]);
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -2368,13 +2370,13 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatR16F,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     float scale_factor = source[3];
     destination[0] = ConvertFloatToHalfFloat(source[0] * scale_factor);
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -2383,13 +2385,13 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatR16F,
           WebGLImageConversion::kAlphaDoUnmultiply,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     float scale_factor = source[3] ? 1.0f / source[3] : 1.0f;
     destination[0] = ConvertFloatToHalfFloat(source[0] * scale_factor);
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -2398,12 +2400,12 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatA16F,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = ConvertFloatToHalfFloat(source[3]);
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -2415,7 +2417,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA8_S,
           WebGLImageConversion::kAlphaDoPremultiply,
           int8_t,
-          int8_t>(const int8_t* source,
+          int8_t>(base::span<const int8_t> source,
                   int8_t* destination,
                   unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2427,7 +2429,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA8_S,
         static_cast<float>(ClampMin(source[1])) * scale_factor);
     destination[2] = static_cast<int8_t>(
         static_cast<float>(ClampMin(source[2])) * scale_factor);
-    source += 4;
+    source = source.subspan(4);
     destination += 4;
   }
 }
@@ -2436,7 +2438,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA16,
           WebGLImageConversion::kAlphaDoPremultiply,
           uint16_t,
-          uint16_t>(const uint16_t* source,
+          uint16_t>(base::span<const uint16_t> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2448,7 +2450,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA16,
     destination[2] =
         static_cast<uint16_t>(static_cast<float>(source[2]) * scale_factor);
     destination[3] = source[3];
-    source += 4;
+    source = source.subspan(4);
     destination += 4;
   }
 }
@@ -2457,7 +2459,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA16,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2465,7 +2467,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA16,
     destination[1] = ClampAndScaleFloat<uint16_t>(source[1] * source[3]);
     destination[2] = ClampAndScaleFloat<uint16_t>(source[2] * source[3]);
     destination[3] = ClampAndScaleFloat<uint16_t>(source[3]);
-    source += 4;
+    source = source.subspan(4);
     destination += 4;
   }
 }
@@ -2477,7 +2479,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA16_S,
           WebGLImageConversion::kAlphaDoPremultiply,
           int16_t,
-          int16_t>(const int16_t* source,
+          int16_t>(base::span<const int16_t> source,
                    int16_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2489,7 +2491,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA16_S,
         static_cast<float>(ClampMin(source[1])) * scale_factor);
     destination[2] = static_cast<int16_t>(
         static_cast<float>(ClampMin(source[2])) * scale_factor);
-    source += 4;
+    source = source.subspan(4);
     destination += 4;
   }
 }
@@ -2501,7 +2503,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA32,
           WebGLImageConversion::kAlphaDoPremultiply,
           uint32_t,
-          uint32_t>(const uint32_t* source,
+          uint32_t>(base::span<const uint32_t> source,
                     uint32_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2513,7 +2515,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA32,
     destination[2] =
         static_cast<uint32_t>(static_cast<double>(source[2]) * scale_factor);
     destination[3] = source[3];
-    source += 4;
+    source = source.subspan(4);
     destination += 4;
   }
 }
@@ -2525,7 +2527,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA32_S,
           WebGLImageConversion::kAlphaDoPremultiply,
           int32_t,
-          int32_t>(const int32_t* source,
+          int32_t>(base::span<const int32_t> source,
                    int32_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2537,7 +2539,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA32_S,
         static_cast<double>(ClampMin(source[1])) * scale_factor);
     destination[2] = static_cast<int32_t>(
         static_cast<double>(ClampMin(source[2])) * scale_factor);
-    source += 4;
+    source = source.subspan(4);
     destination += 4;
   }
 }
@@ -2546,7 +2548,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA2_10_10_10,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          uint32_t>(const float* source,
+          uint32_t>(base::span<const float> source,
                     uint32_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2555,7 +2557,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA2_10_10_10,
     uint32_t b = static_cast<uint32_t>(source[2] * 1023.0f);
     uint32_t a = static_cast<uint32_t>(source[3] * 3.0f);
     destination[0] = (a << 30) | (b << 20) | (g << 10) | r;
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -2564,7 +2566,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA2_10_10_10,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          uint32_t>(const float* source,
+          uint32_t>(base::span<const float> source,
                     uint32_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2573,7 +2575,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA2_10_10_10,
     uint32_t b = static_cast<uint32_t>(source[2] * source[3] * 1023.0f);
     uint32_t a = static_cast<uint32_t>(source[3] * 3.0f);
     destination[0] = (a << 30) | (b << 20) | (g << 10) | r;
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -2582,7 +2584,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRGBA2_10_10_10,
           WebGLImageConversion::kAlphaDoUnmultiply,
           float,
-          uint32_t>(const float* source,
+          uint32_t>(base::span<const float> source,
                     uint32_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2592,7 +2594,7 @@ void Pack<WebGLImageConversion::kDataFormatRGBA2_10_10_10,
     uint32_t b = static_cast<uint32_t>(source[2] * scale_factor);
     uint32_t a = static_cast<uint32_t>(source[3] * 3.0f);
     destination[0] = (a << 30) | (b << 20) | (g << 10) | r;
-    source += 4;
+    source = source.subspan(4);
     destination += 1;
   }
 }
@@ -2601,13 +2603,13 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRG8,
           WebGLImageConversion::kAlphaDoNothing,
           uint8_t,
-          uint8_t>(const uint8_t* source,
+          uint8_t>(base::span<const uint8_t> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = source[0];
     destination[1] = source[1];
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -2616,13 +2618,13 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRG8,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          uint8_t>(const float* source,
+          uint8_t>(base::span<const float> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = ClampAndScaleFloat<uint8_t>(source[0]);
     destination[1] = ClampAndScaleFloat<uint8_t>(source[1]);
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -2631,7 +2633,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRG8,
           WebGLImageConversion::kAlphaDoPremultiply,
           uint8_t,
-          uint8_t>(const uint8_t* source,
+          uint8_t>(base::span<const uint8_t> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2640,7 +2642,7 @@ void Pack<WebGLImageConversion::kDataFormatRG8,
         static_cast<uint8_t>(static_cast<float>(source[0]) * scale_factor);
     destination[1] =
         static_cast<uint8_t>(static_cast<float>(source[1]) * scale_factor);
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -2649,13 +2651,13 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRG8,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          uint8_t>(const float* source,
+          uint8_t>(base::span<const float> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = ClampAndScaleFloat<uint8_t>(source[0] * source[3]);
     destination[1] = ClampAndScaleFloat<uint8_t>(source[1] * source[3]);
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -2664,7 +2666,7 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRG8,
           WebGLImageConversion::kAlphaDoUnmultiply,
           uint8_t,
-          uint8_t>(const uint8_t* source,
+          uint8_t>(base::span<const uint8_t> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
@@ -2674,7 +2676,7 @@ void Pack<WebGLImageConversion::kDataFormatRG8,
         static_cast<uint8_t>(static_cast<float>(source[0]) * scale_factor);
     destination[1] =
         static_cast<uint8_t>(static_cast<float>(source[1]) * scale_factor);
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -2683,14 +2685,14 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRG8,
           WebGLImageConversion::kAlphaDoUnmultiply,
           float,
-          uint8_t>(const float* source,
+          uint8_t>(base::span<const float> source,
                    uint8_t* destination,
                    unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     float scale_factor = source[3] ? 1.0f / source[3] : 1.0f;
     destination[0] = ClampAndScaleFloat<uint8_t>(source[0] * scale_factor);
     destination[1] = ClampAndScaleFloat<uint8_t>(source[1] * scale_factor);
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -2699,13 +2701,13 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRG16F,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = ConvertFloatToHalfFloat(source[0]);
     destination[1] = ConvertFloatToHalfFloat(source[1]);
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -2714,14 +2716,14 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRG16F,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     float scale_factor = source[3];
     destination[0] = ConvertFloatToHalfFloat(source[0] * scale_factor);
     destination[1] = ConvertFloatToHalfFloat(source[1] * scale_factor);
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -2730,14 +2732,14 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRG16F,
           WebGLImageConversion::kAlphaDoUnmultiply,
           float,
-          uint16_t>(const float* source,
+          uint16_t>(base::span<const float> source,
                     uint16_t* destination,
                     unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     float scale_factor = source[3] ? 1.0f / source[3] : 1.0f;
     destination[0] = ConvertFloatToHalfFloat(source[0] * scale_factor);
     destination[1] = ConvertFloatToHalfFloat(source[1] * scale_factor);
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -2746,13 +2748,13 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRG32F,
           WebGLImageConversion::kAlphaDoNothing,
           float,
-          float>(const float* source,
+          float>(base::span<const float> source,
                  float* destination,
                  unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     destination[0] = source[0];
     destination[1] = source[1];
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -2761,14 +2763,14 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRG32F,
           WebGLImageConversion::kAlphaDoPremultiply,
           float,
-          float>(const float* source,
+          float>(base::span<const float> source,
                  float* destination,
                  unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     float scale_factor = source[3];
     destination[0] = source[0] * scale_factor;
     destination[1] = source[1] * scale_factor;
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -2777,14 +2779,14 @@ template <>
 void Pack<WebGLImageConversion::kDataFormatRG32F,
           WebGLImageConversion::kAlphaDoUnmultiply,
           float,
-          float>(const float* source,
+          float>(base::span<const float> source,
                  float* destination,
                  unsigned pixels_per_row) {
   for (unsigned i = 0; i < pixels_per_row; ++i) {
     float scale_factor = source[3] ? 1.0f / source[3] : 1.0f;
     destination[0] = source[0] * scale_factor;
     destination[1] = source[1] * scale_factor;
-    source += 4;
+    source = source.subspan(4);
     destination += 2;
   }
 }
@@ -4073,7 +4075,7 @@ void WebGLImageConversion::UnpackPixels(const uint16_t* source_data,
   }
 }
 
-void WebGLImageConversion::PackPixels(const uint8_t* source_data,
+void WebGLImageConversion::PackPixels(base::span<const uint8_t> source_data,
                                       DataFormat source_data_format,
                                       unsigned pixels_per_row,
                                       uint8_t* destination_data) {
@@ -4081,7 +4083,8 @@ void WebGLImageConversion::PackPixels(const uint8_t* source_data,
     case kDataFormatRA8: {
       typedef typename DataTypeForFormat<
           WebGLImageConversion::kDataFormatRGBA8>::Type SrcType;
-      const SrcType* src_row_start = static_cast<const SrcType*>(source_data);
+      base::span<const SrcType> src_row_start =
+          static_cast<const SrcType*>(source_data);
       Pack<WebGLImageConversion::kDataFormatRA8,
            WebGLImageConversion::kAlphaDoUnmultiply>(
           src_row_start, destination_data, pixels_per_row);
@@ -4089,7 +4092,8 @@ void WebGLImageConversion::PackPixels(const uint8_t* source_data,
     case kDataFormatR8: {
       typedef typename DataTypeForFormat<
           WebGLImageConversion::kDataFormatRGBA8>::Type SrcType;
-      const SrcType* src_row_start = static_cast<const SrcType*>(source_data);
+      base::span<const SrcType> src_row_start =
+          static_cast<const SrcType*>(source_data);
       Pack<WebGLImageConversion::kDataFormatR8,
            WebGLImageConversion::kAlphaDoUnmultiply>(
           src_row_start, destination_data, pixels_per_row);
@@ -4097,7 +4101,8 @@ void WebGLImageConversion::PackPixels(const uint8_t* source_data,
     case kDataFormatRGBA8: {
       typedef typename DataTypeForFormat<
           WebGLImageConversion::kDataFormatRGBA8>::Type SrcType;
-      const SrcType* src_row_start = static_cast<const SrcType*>(source_data);
+      base::span<const SrcType> src_row_start =
+          static_cast<const SrcType*>(source_data);
       Pack<WebGLImageConversion::kDataFormatRGBA8,
            WebGLImageConversion::kAlphaDoUnmultiply>(
           src_row_start, destination_data, pixels_per_row);
@@ -4106,7 +4111,8 @@ void WebGLImageConversion::PackPixels(const uint8_t* source_data,
       uint16_t* pdst = (uint16_t*)destination_data;
       typedef typename DataTypeForFormat<
           WebGLImageConversion::kDataFormatRGBA8>::Type SrcType;
-      const SrcType* src_row_start = static_cast<const SrcType*>(source_data);
+      base::span<const SrcType> src_row_start =
+          static_cast<const SrcType*>(source_data);
       typedef typename DataTypeForFormat<
           WebGLImageConversion::kDataFormatRGBA4444>::Type DstType;
       DstType* dst_row_start = static_cast<DstType*>(pdst);
@@ -4118,7 +4124,8 @@ void WebGLImageConversion::PackPixels(const uint8_t* source_data,
       uint16_t* pdst = (uint16_t*)destination_data;
       typedef typename DataTypeForFormat<
           WebGLImageConversion::kDataFormatRGBA8>::Type SrcType;
-      const SrcType* src_row_start = static_cast<const SrcType*>(source_data);
+      base::span<const SrcType> src_row_start =
+          static_cast<const SrcType*>(source_data);
       typedef typename DataTypeForFormat<
           WebGLImageConversion::kDataFormatRGBA5551>::Type DstType;
       DstType* dst_row_start = static_cast<DstType*>(pdst);
@@ -4130,7 +4137,8 @@ void WebGLImageConversion::PackPixels(const uint8_t* source_data,
       uint16_t* pdst = (uint16_t*)destination_data;
       typedef typename DataTypeForFormat<
           WebGLImageConversion::kDataFormatRGBA8>::Type SrcType;
-      const SrcType* src_row_start = static_cast<const SrcType*>(source_data);
+      base::span<const SrcType> src_row_start =
+          static_cast<const SrcType*>(source_data);
       typedef typename DataTypeForFormat<
           WebGLImageConversion::kDataFormatRGB565>::Type DstType;
       DstType* dst_row_start = static_cast<DstType*>(pdst);
diff --git a/third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.h b/third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.h
index 51500e20fac2f..99e060df1fa08 100644
--- a/third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.h
+++ b/third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.h
@@ -7,6 +7,7 @@
 
 #include <optional>
 
+#include "base/containers/span.h"
 #include "base/memory/scoped_refptr.h"
 #include "third_party/blink/renderer/platform/graphics/image.h"
 #include "third_party/blink/renderer/platform/heap/garbage_collected.h"
@@ -269,7 +270,7 @@ class PLATFORM_EXPORT WebGLImageConversion final {
                            DataFormat source_data_format,
                            unsigned pixels_per_row,
                            uint8_t* destination_data);
-  static void PackPixels(const uint8_t* source_data,
+  static void PackPixels(base::span<const uint8_t> source_data,
                          DataFormat source_data_format,
                          unsigned pixels_per_row,
                          uint8_t* destination_data);
diff --git a/third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion_test.cc b/third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion_test.cc
index 4149b87d6cba1..8f8faf507b3fd 100644
--- a/third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion_test.cc
+++ b/third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion_test.cc
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style license that can be
 // found in the LICENSE file.
 
+#include "base/containers/span.h"
+
 #ifdef UNSAFE_BUFFERS_BUILD
 // TODO(crbug.com/390223051): Remove C-library calls to fix the errors.
 #pragma allow_unsafe_libc_calls
@@ -23,7 +25,7 @@ class WebGLImageConversionTest : public testing::Test {
     WebGLImageConversion::UnpackPixels(source_data, source_data_format,
                                        pixels_per_row, destination_data);
   }
-  void PackPixels(const uint8_t* source_data,
+  void PackPixels(base::span<const uint8_t> source_data,
                   WebGLImageConversion::DataFormat source_data_format,
                   unsigned pixels_per_row,
                   uint8_t* destination_data) {
```

## Build Failure Log

```

27.04s Build Failure: 9 done 1 failed 10155 remaining - 0.33/s
 1 steps failed: remote-exec 06930774ac41e55cf475e0992b687cdeea2ba9b35aeb679dda3a245cec07199b/355 failed: exit=1
see ./out/linux/siso_output for full command line and output
 or ./out/linux/siso.INFO
use ./out/linux/siso_failed_commands.sh to re-run failed commands
real	0m27.505s
user	3m40.012s
sys	1m29.085s
ninja: Entering directory `out/linux'
init credentials done 54.628391ms
reapi instance: projects/rbe-chrome-untrusted/instances/default_instance
loading fs state done 1.110965205s
loading/recompacting deps log done 1.815335981s
load siso config done 95.362746ms
load build.ninja done 1.10120056s
schedule pending:0+ready:1 (node:324309 edge:2)
build start: Ready 1 Pending 1
rebuild manifest finished	
schedule pending:0+ready:1 (node:324309 edge:9)
schedule pending:95712+ready:10553 (node:324309 edge:106270)
 1.35s schedule pending:109791+ready:13477 (node:324309 edge:123268)
build start: Ready 13477 Pending 109791
FAILED: 136f9898-f8cf-4b8b-bc62-ddba6386645c "./obj/third_party/blink/renderer/platform/platform/webgl_image_conversion.o" CXX obj/third_party/blink/renderer/platform/platform/webgl_image_conversion.o
err: remote-exec 06930774ac41e55cf475e0992b687cdeea2ba9b35aeb679dda3a245cec07199b/355 failed: exit=1
../../third_party/llvm-build/Release+Asserts/bin/clang++ -MMD -MF obj/third_party/blink/renderer/platform/platform/webgl_image_conversion.o.d -DDCHECK_ALWAYS_ON=1 -DUSE_UDEV -DUSE_AURA=1 -DUSE_GLIB=1 -DUSE_OZONE=1 -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D_FORTIFY_SOURCE=2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_GNU_SOURCE -DCR_CLANG_REVISION=\"llvmorg-21-init-9266-g09006611-2\" -D_LIBCPP_HARDENING_MODE=_LIBCPP_HARDENING_MODE_EXTENSIVE -D_LIBCPP_DISABLE_VISIBILITY_ANNOTATIONS -D_LIBCXXABI_DISABLE_VISIBILITY_ANNOTATIONS -D_LIBCPP_INSTRUMENTED_WITH_ASAN=0 -DCR_LIBCXX_REVISION=f034fd5662d033c281ab6a9b45164066ddd18809 -DCR_SYSROOT_KEY=20250129T203412Z-1 -DNDEBUG -DNVALGRIND -DDYNAMIC_ANNOTATIONS_ENABLED=0 -DBLINK_IMPLEMENTATION=1 -DINSIDE_BLINK -DBLINK_PLATFORM_IMPLEMENTATION=1 -DGLIB_VERSION_MAX_ALLOWED=GLIB_VERSION_2_56 -DGLIB_VERSION_MIN_REQUIRED=GLIB_VERSION_2_56 -DSK_ENABLE_SKSL -DSK_UNTIL_CRBUG_1187654_IS_FIXED -DSK_USER_CONFIG_HEADER=\"../../skia/config/SkUserConfig.h\" -DSK_WIN_FONTMGR_NO_SIMULATIONS -DSK_DISABLE_LEGACY_INIT_DECODERS -DSK_CODEC_DECODES_JPEG -DSK_CODEC_ENCODES_JPEG -DSK_GAMMA_EXPONENT=1.2 -DSK_GAMMA_CONTRAST=0.2 -DSK_GANESH -DSK_GPU_WORKAROUNDS_HEADER=\"gpu/config/gpu_driver_bug_workaround_autogen.h\" -DSK_GL -DSK_VULKAN=1 -DSK_GRAPHITE -DSK_DAWN -DVK_USE_PLATFORM_XCB_KHR -DVK_USE_PLATFORM_XLIB_KHR -DVK_USE_PLATFORM_WAYLAND_KHR -DCHROMIUM -DLIBYUV_DISABLE_NEON -DLIBYUV_DISABLE_SVE -DLIBYUV_DISABLE_SME -DLIBYUV_DISABLE_LSX -DLIBYUV_DISABLE_LASX -DWTF_USE_WEBAUDIO_PFFFT=1 -DU_USING_ICU_NAMESPACE=0 -DU_ENABLE_DYLOAD=0 -DUSE_CHROMIUM_ICU=1 -DU_ENABLE_TRACING=1 -DU_ENABLE_RESOURCE_TRACING=0 -DU_STATIC_IMPLEMENTATION -DICU_UTIL_DATA_IMPL=ICU_UTIL_DATA_FILE -DGOOGLE_PROTOBUF_NO_RTTI -DHAVE_PTHREAD -DV8_ARRAY_BUFFER_INTERNAL_FIELD_COUNT=0 -DV8_ARRAY_BUFFER_VIEW_INTERNAL_FIELD_COUNT=0 -DV8_PROMISE_INTERNAL_FIELD_COUNT=0 -DV8_ENABLE_MEMORY_ACCOUNTING_CHECKS -DV8_COMPRESS_POINTERS -DV8_COMPRESS_POINTERS_IN_SHARED_CAGE -DV8_31BIT_SMIS_ON_64BIT_ARCH -DV8_ENABLE_SANDBOX -DV8_DEPRECATION_WARNINGS -DV8_USE_PERFETTO -DV8_HAVE_TARGET_OS -DV8_TARGET_OS_LINUX -DCPPGC_ENABLE_API_CHECKS -DCPPGC_CAGED_HEAP -DCPPGC_YOUNG_GENERATION -DCPPGC_POINTER_COMPRESSION -DCPPGC_ENABLE_LARGER_CAGE -DCPPGC_SLIM_WRITE_BARRIER -DPROTOBUF_ENABLE_DEBUG_LOGGING_MAY_LEAK_PII=0 -DWEBRTC_ENABLE_AVX2 -DWEBRTC_CHROMIUM_BUILD -DWEBRTC_POSIX -DWEBRTC_LINUX -DWEBRTC_ALLOW_DEPRECATED_NAMESPACES -DABSL_ALLOCATOR_NOTHROW=1 -DWEBRTC_USE_X11 -DWEBRTC_USE_PIPEWIRE -DWEBRTC_USE_GIO -DLOGGING_INSIDE_WEBRTC -DLEVELDB_PLATFORM_CHROMIUM=1 -DCRASHPAD_ZLIB_SOURCE_EXTERNAL -DUSE_GIO -DUSE_LIBJPEG_TURBO=1 -DMANGLE_JPEG_NAMES -DWEBP_EXTERN=extern -DFT_CONFIG_MODULES_H=\"freetype-custom/freetype/config/ftmodule.h\" -DFT_CONFIG_OPTIONS_H=\"freetype-custom/freetype/config/ftoption.h\" -DPDFIUM_REQUIRED_MODULES -DCHROMIUM_RESTRICT_VISIBILITY -DLIBGAV1_MAX_BITDEPTH=10 -DLIBGAV1_THREADPOOL_USE_STD_MUTEX -DLIBGAV1_ENABLE_LOGGING=0 -DLIBGAV1_PUBLIC= -I../../third_party/pffft/src -I../.. -Igen -I../../buildtools/third_party/libc++ -I../../third_party/perfetto/include -Igen/third_party/perfetto/build_config -Igen/third_party/perfetto -I../../third_party/skia -Igen/third_party/skia -I../../third_party/wuffs/src/release/c -I../../third_party/vulkan-headers/src/include -I../../third_party/wayland/src/src -I../../third_party/wayland/include/src -Igen/third_party/dawn/include -I../../third_party/dawn/include -I../../net/third_party/quiche/overrides -I../../net/third_party/quiche/src/quiche/common/platform/default -I../../net/third_party/quiche/src -I../../third_party/khronos -I../../gpu -I../../third_party/libyuv/include -I../../base/allocator/partition_allocator/src -Igen/base/allocator/partition_allocator/src -I../../third_party/abseil-cpp -I../../third_party/boringssl/src/include -I../../third_party/protobuf/src -I../../third_party/ipcz/include -I../../third_party/ced/src -I../../third_party/icu/source/common -I../../third_party/icu/source/i18n -Igen/net/third_party/quiche/src -I../../v8/include -I../../third_party/webrtc_overrides -I../../third_party/webrtc -Igen/third_party/webrtc -I../../third_party/libwebm/source -I../../third_party/angle/include -I../../third_party/mesa_headers -I../../third_party/leveldatabase -I../../third_party/leveldatabase/src -I../../third_party/leveldatabase/src/include -I../../third_party/crashpad/crashpad -I../../third_party/crashpad/crashpad/compat/linux -I../../third_party/crashpad/crashpad/compat/non_win -I../../third_party/zlib -I../../third_party/libaom/source/libaom -I../../third_party/libaom/source/config/linux/x64 -I../../third_party/libjpeg_turbo/src -I../../third_party/libpng -I../../third_party/libwebp/src/src -I../../third_party/ots/src/include -Igen/v8/include -I../../third_party/fp16/src/include -I../../third_party/freetype/include -I../../third_party/freetype/include/freetype-custom -I../../third_party/freetype/src/include -I../../third_party/harfbuzz-ng/src/src -I../../third_party/emoji-segmenter/src -I../../third_party/highway/src -I../../third_party/libgav1/src -I../../third_party/libgav1/src/src -I../../third_party/one_euro_filter/src -I../../third_party/snappy/src -I../../third_party/snappy/linux -Wall -Wextra -Wimplicit-fallthrough -Wextra-semi -Wunreachable-code-aggressive -Wthread-safety -Wgnu -Wno-gnu-anonymous-struct -Wno-gnu-conditional-omitted-operand -Wno-gnu-include-next -Wno-gnu-label-as-value -Wno-gnu-redeclared-enum -Wno-gnu-statement-expression -Wno-gnu-zero-variadic-macro-arguments -Wno-zero-length-array -Wno-missing-field-initializers -Wno-unused-parameter -Wno-psabi -Wloop-analysis -Wno-unneeded-internal-declaration -Wno-cast-function-type -Wno-thread-safety-reference-return -Wno-nontrivial-memcall -Wshadow -Werror -fno-delete-null-pointer-checks -fno-strict-overflow -fno-ident -fno-strict-aliasing -fstack-protector -funwind-tables -fPIC -pthread -fcolor-diagnostics -fmerge-all-constants -fno-sized-deallocation -fcrash-diagnostics-dir=../../tools/clang/crashreports -mllvm -instcombine-lower-dbg-declare=0 -mllvm -split-threshold-for-reg-with-hint=0 -ffp-contract=off -Wa,--crel,--allow-experimental-crel -fextend-variable-liveness=none -fcomplete-member-pointers -m64 -msse3 -Wno-builtin-macro-redefined -D__DATE__= -D__TIME__= -D__TIMESTAMP__= -ffile-compilation-dir=. -no-canonical-prefixes -Xclang --warning-suppression-mappings=../../build/config/warning_suppression.txt -ftrivial-auto-var-init=pattern -fno-omit-frame-pointer -fvisibility=hidden -Wheader-hygiene -Wstring-conversion -Wtautological-overlap-compare -Wconversion -Wno-float-conversion -Wno-sign-conversion -Wno-implicit-float-conversion -Wno-implicit-int-conversion -Wexit-time-destructors -Wglobal-constructors -O2 -fdata-sections -ffunction-sections -fno-unique-section-names -fno-math-errno -g0 -isystem../../build/linux/debian_bullseye_amd64-sysroot/usr/include/glib-2.0 -isystem../../build/linux/debian_bullseye_amd64-sysroot/usr/lib/x86_64-linux-gnu/glib-2.0/include -Wno-redundant-parens -Wno-redundant-parens -isystem../../build/linux/debian_bullseye_amd64-sysroot/usr/include/nss -isystem../../build/linux/debian_bullseye_amd64-sysroot/usr/include/nspr -isystem../../build/linux/debian_bullseye_amd64-sysroot/usr/include/dbus-1.0 -isystem../../build/linux/debian_bullseye_amd64-sysroot/usr/lib/x86_64-linux-gnu/dbus-1.0/include -isystem../../build/linux/debian_bullseye_amd64-sysroot/usr/include/glib-2.0 -isystem../../build/linux/debian_bullseye_amd64-sysroot/usr/lib/x86_64-linux-gnu/glib-2.0/include -isystem../../build/linux/debian_bullseye_amd64-sysroot/usr/include/libmount -isystem../../build/linux/debian_bullseye_amd64-sysroot/usr/include/blkid -isystem../../build/linux/debian_bullseye_amd64-sysroot/usr/include/gio-unix-2.0 -Wno-invalid-offsetof -Wenum-compare-conditional -Wno-nullability-completeness -std=c++20 -Wno-trigraphs -gsimple-template-names -fno-exceptions -fno-rtti -nostdinc++ -isystem../../third_party/libc++/src/include -isystem../../third_party/libc++abi/src/include --sysroot=../../build/linux/debian_bullseye_amd64-sysroot -fvisibility-inlines-hidden  -c ../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc -o obj/third_party/blink/renderer/platform/platform/webgl_image_conversion.o
build step: cxx "./obj/third_party/blink/renderer/platform/platform/webgl_image_conversion.o"
siso_rule: clang/cxx
stdout:
In file included from ../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:5:
In file included from ../../base/containers/span.h:36:
../../base/numerics/safe_conversions.h:271:47: error: no matching function for call to 'strict_cast'
  271 |   constexpr StrictNumeric(Src value) : value_(strict_cast<T>(value)) {}
      |                                               ^~~~~~~~~~~~~~
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:1214:29: note: in instantiation of function template specialization 'base::internal::StrictNumeric<unsigned long>::StrictNumeric<int>' requested here
 1214 |     source = source.subspan(4);
      |                             ^
../../base/numerics/safe_conversions.h:229:15: note: candidate template ignored: constraints not satisfied [with Dst = unsigned long, Src = int, SrcType = UnderlyingType<int>]
  229 | constexpr Dst strict_cast(Src value) {
      |               ^
../../base/numerics/safe_conversions.h:227:7: note: because 'kStaticDstRangeRelationToSrcRange<unsigned long, int> == NumericRangeRepresentation::kContained' evaluated to false
  227 |       kStaticDstRangeRelationToSrcRange<Dst, SrcType> ==
      |       ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:1301:37: error: non-const lvalue reference to type 'const uint8_t *' (aka 'const unsigned char *') cannot bind to a value of unrelated type 'base::span<const uint8_t>' (aka 'span<const unsigned char>')
 1301 |   simd::PackOneRowOfRGBA8LittleToR8(source, destination, pixels_per_row);
      |                                     ^~~~~~
../../third_party/blink/renderer/platform/graphics/cpu/x86/webgl_image_conversion_sse.h:147:64: note: passing argument to parameter 'source' here
  147 | ALWAYS_INLINE void PackOneRowOfRGBA8LittleToR8(const uint8_t*& source,
      |                                                                ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:1406:38: error: non-const lvalue reference to type 'const uint8_t *' (aka 'const unsigned char *') cannot bind to a value of unrelated type 'base::span<const uint8_t>' (aka 'span<const unsigned char>')
 1406 |   simd::PackOneRowOfRGBA8LittleToRA8(source, destination, pixels_per_row);
      |                                      ^~~~~~
../../third_party/blink/renderer/platform/graphics/cpu/x86/webgl_image_conversion_sse.h:93:65: note: passing argument to parameter 'source' here
   93 | ALWAYS_INLINE void PackOneRowOfRGBA8LittleToRA8(const uint8_t*& source,
      |                                                                 ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:1602:40: error: non-const lvalue reference to type 'const uint8_t *' (aka 'const unsigned char *') cannot bind to a value of unrelated type 'base::span<const uint8_t>' (aka 'span<const unsigned char>')
 1602 |   simd::PackOneRowOfRGBA8LittleToRGBA8(source, destination, pixels_per_row);
      |                                        ^~~~~~
../../third_party/blink/renderer/platform/graphics/cpu/x86/webgl_image_conversion_sse.h:175:67: note: passing argument to parameter 'source' here
  175 | ALWAYS_INLINE void PackOneRowOfRGBA8LittleToRGBA8(const uint8_t*& source,
      |                                                                   ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:4087:11: error: cannot cast from type 'base::span<const uint8_t>' (aka 'span<const unsigned char>') to pointer type 'const SrcType *' (aka 'const unsigned char *')
 4087 |           static_cast<const SrcType*>(source_data);
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:4096:11: error: cannot cast from type 'base::span<const uint8_t>' (aka 'span<const unsigned char>') to pointer type 'const SrcType *' (aka 'const unsigned char *')
 4096 |           static_cast<const SrcType*>(source_data);
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:4105:11: error: cannot cast from type 'base::span<const uint8_t>' (aka 'span<const unsigned char>') to pointer type 'const SrcType *' (aka 'const unsigned char *')
 4105 |           static_cast<const SrcType*>(source_data);
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:4115:11: error: cannot cast from type 'base::span<const uint8_t>' (aka 'span<const unsigned char>') to pointer type 'const SrcType *' (aka 'const unsigned char *')
 4115 |           static_cast<const SrcType*>(source_data);
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:4128:11: error: cannot cast from type 'base::span<const uint8_t>' (aka 'span<const unsigned char>') to pointer type 'const SrcType *' (aka 'const unsigned char *')
 4128 |           static_cast<const SrcType*>(source_data);
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:4141:11: error: cannot cast from type 'base::span<const uint8_t>' (aka 'span<const unsigned char>') to pointer type 'const SrcType *' (aka 'const unsigned char *')
 4141 |           static_cast<const SrcType*>(source_data);
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3505:9: error: no matching function for call to 'Pack'
 3505 |         Pack<DstFormat, alphaOp>(src_row_start, dst_row_start,
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3389:5: note: in instantiation of function template specialization 'blink::(anonymous namespace)::FormatConverter::Convert<blink::WebGLImageConversion::kDataFormatRA8, blink::WebGLImageConversion::kDataFormatR8, blink::WebGLImageConversion::kAlphaDoNothing>' requested here
 3389 |     FORMATCONVERTER_CASE_ALPHAOP(WebGLImageConversion::kAlphaDoNothing)
      |     ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3386:12: note: expanded from macro 'FORMATCONVERTER_CASE_ALPHAOP'
 3386 |     return Convert<SrcFormat, DstFormat, alphaOp>();
      |            ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3346:5: note: in instantiation of function template specialization 'blink::(anonymous namespace)::FormatConverter::Convert<blink::WebGLImageConversion::kDataFormatRA8, blink::WebGLImageConversion::kDataFormatR8>' requested here
 3346 |     FORMATCONVERTER_CASE_DSTFORMAT(WebGLImageConversion::kDataFormatR8)
      |     ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3343:12: note: expanded from macro 'FORMATCONVERTER_CASE_DSTFORMAT'
 3343 |     return Convert<SrcFormat, DstFormat>(alpha_op);
      |            ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3317:5: note: in instantiation of function template specialization 'blink::(anonymous namespace)::FormatConverter::Convert<blink::WebGLImageConversion::kDataFormatRA8>' requested here
 3317 |     FORMATCONVERTER_CASE_SRCFORMAT(WebGLImageConversion::kDataFormatRA8)
      |     ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3314:12: note: expanded from macro 'FORMATCONVERTER_CASE_SRCFORMAT'
 3314 |     return Convert<SrcFormat>(dst_format, alpha_op);
      |            ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:1201:6: note: candidate template ignored: could not match 'base::span<const SourceType>' against 'const SrcType *' (aka 'const unsigned char *')
 1201 | void Pack(base::span<const SourceType>, DstType*, unsigned) {
      |      ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3531:9: error: no matching function for call to 'Pack'
 3531 |         Pack<DstFormat, alphaOp>(reinterpret_cast<IntermType*>(
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:1201:6: note: candidate template ignored: could not match 'base::span<const SourceType>' against 'IntermType *' (aka 'unsigned char *')
 1201 | void Pack(base::span<const SourceType>, DstType*, unsigned) {
      |      ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3505:9: error: no matching function for call to 'Pack'
 3505 |         Pack<DstFormat, alphaOp>(src_row_start, dst_row_start,
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3390:5: note: in instantiation of function template specialization 'blink::(anonymous namespace)::FormatConverter::Convert<blink::WebGLImageConversion::kDataFormatRA8, blink::WebGLImageConversion::kDataFormatR8, blink::WebGLImageConversion::kAlphaDoPremultiply>' requested here
 3390 |     FORMATCONVERTER_CASE_ALPHAOP(WebGLImageConversion::kAlphaDoPremultiply)
      |     ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3386:12: note: expanded from macro 'FORMATCONVERTER_CASE_ALPHAOP'
 3386 |     return Convert<SrcFormat, DstFormat, alphaOp>();
      |            ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3346:5: note: in instantiation of function template specialization 'blink::(anonymous namespace)::FormatConverter::Convert<blink::WebGLImageConversion::kDataFormatRA8, blink::WebGLImageConversion::kDataFormatR8>' requested here
 3346 |     FORMATCONVERTER_CASE_DSTFORMAT(WebGLImageConversion::kDataFormatR8)
      |     ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3343:12: note: expanded from macro 'FORMATCONVERTER_CASE_DSTFORMAT'
 3343 |     return Convert<SrcFormat, DstFormat>(alpha_op);
      |            ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3317:5: note: in instantiation of function template specialization 'blink::(anonymous namespace)::FormatConverter::Convert<blink::WebGLImageConversion::kDataFormatRA8>' requested here
 3317 |     FORMATCONVERTER_CASE_SRCFORMAT(WebGLImageConversion::kDataFormatRA8)
      |     ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3314:12: note: expanded from macro 'FORMATCONVERTER_CASE_SRCFORMAT'
 3314 |     return Convert<SrcFormat>(dst_format, alpha_op);
      |            ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:1201:6: note: candidate template ignored: could not match 'base::span<const SourceType>' against 'const SrcType *' (aka 'const unsigned char *')
 1201 | void Pack(base::span<const SourceType>, DstType*, unsigned) {
      |      ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3531:9: error: no matching function for call to 'Pack'
 3531 |         Pack<DstFormat, alphaOp>(reinterpret_cast<IntermType*>(
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:1201:6: note: candidate template ignored: could not match 'base::span<const SourceType>' against 'IntermType *' (aka 'unsigned char *')
 1201 | void Pack(base::span<const SourceType>, DstType*, unsigned) {
      |      ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3505:9: error: no matching function for call to 'Pack'
 3505 |         Pack<DstFormat, alphaOp>(src_row_start, dst_row_start,
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3391:5: note: in instantiation of function template specialization 'blink::(anonymous namespace)::FormatConverter::Convert<blink::WebGLImageConversion::kDataFormatRA8, blink::WebGLImageConversion::kDataFormatR8, blink::WebGLImageConversion::kAlphaDoUnmultiply>' requested here
 3391 |     FORMATCONVERTER_CASE_ALPHAOP(WebGLImageConversion::kAlphaDoUnmultiply)
      |     ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3386:12: note: expanded from macro 'FORMATCONVERTER_CASE_ALPHAOP'
 3386 |     return Convert<SrcFormat, DstFormat, alphaOp>();
      |            ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3346:5: note: in instantiation of function template specialization 'blink::(anonymous namespace)::FormatConverter::Convert<blink::WebGLImageConversion::kDataFormatRA8, blink::WebGLImageConversion::kDataFormatR8>' requested here
 3346 |     FORMATCONVERTER_CASE_DSTFORMAT(WebGLImageConversion::kDataFormatR8)
      |     ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3343:12: note: expanded from macro 'FORMATCONVERTER_CASE_DSTFORMAT'
 3343 |     return Convert<SrcFormat, DstFormat>(alpha_op);
      |            ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3317:5: note: in instantiation of function template specialization 'blink::(anonymous namespace)::FormatConverter::Convert<blink::WebGLImageConversion::kDataFormatRA8>' requested here
 3317 |     FORMATCONVERTER_CASE_SRCFORMAT(WebGLImageConversion::kDataFormatRA8)
      |     ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3314:12: note: expanded from macro 'FORMATCONVERTER_CASE_SRCFORMAT'
 3314 |     return Convert<SrcFormat>(dst_format, alpha_op);
      |            ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:1201:6: note: candidate template ignored: could not match 'base::span<const SourceType>' against 'const SrcType *' (aka 'const unsigned char *')
 1201 | void Pack(base::span<const SourceType>, DstType*, unsigned) {
      |      ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3531:9: error: no matching function for call to 'Pack'
 3531 |         Pack<DstFormat, alphaOp>(reinterpret_cast<IntermType*>(
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:1201:6: note: candidate template ignored: could not match 'base::span<const SourceType>' against 'IntermType *' (aka 'unsigned char *')
 1201 | void Pack(base::span<const SourceType>, DstType*, unsigned) {
      |      ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3505:9: error: no matching function for call to 'Pack'
 3505 |         Pack<DstFormat, alphaOp>(src_row_start, dst_row_start,
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3389:5: note: in instantiation of function template specialization 'blink::(anonymous namespace)::FormatConverter::Convert<blink::WebGLImageConversion::kDataFormatRA8, blink::WebGLImageConversion::kDataFormatR16F, blink::WebGLImageConversion::kAlphaDoNothing>' requested here
 3389 |     FORMATCONVERTER_CASE_ALPHAOP(WebGLImageConversion::kAlphaDoNothing)
      |     ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3386:12: note: expanded from macro 'FORMATCONVERTER_CASE_ALPHAOP'
 3386 |     return Convert<SrcFormat, DstFormat, alphaOp>();
      |            ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3347:5: note: in instantiation of function template specialization 'blink::(anonymous namespace)::FormatConverter::Convert<blink::WebGLImageConversion::kDataFormatRA8, blink::WebGLImageConversion::kDataFormatR16F>' requested here
 3347 |     FORMATCONVERTER_CASE_DSTFORMAT(WebGLImageConversion::kDataFormatR16F)
      |     ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3343:12: note: expanded from macro 'FORMATCONVERTER_CASE_DSTFORMAT'
 3343 |     return Convert<SrcFormat, DstFormat>(alpha_op);
      |            ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3317:5: note: in instantiation of function template specialization 'blink::(anonymous namespace)::FormatConverter::Convert<blink::WebGLImageConversion::kDataFormatRA8>' requested here
 3317 |     FORMATCONVERTER_CASE_SRCFORMAT(WebGLImageConversion::kDataFormatRA8)
      |     ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3314:12: note: expanded from macro 'FORMATCONVERTER_CASE_SRCFORMAT'
 3314 |     return Convert<SrcFormat>(dst_format, alpha_op);
      |            ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:1201:6: note: candidate template ignored: could not match 'base::span<const SourceType>' against 'const SrcType *' (aka 'const unsigned char *')
 1201 | void Pack(base::span<const SourceType>, DstType*, unsigned) {
      |      ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3531:9: error: no matching function for call to 'Pack'
 3531 |         Pack<DstFormat, alphaOp>(reinterpret_cast<IntermType*>(
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:1201:6: note: candidate template ignored: could not match 'base::span<const SourceType>' against 'IntermType *' (aka 'float *')
 1201 | void Pack(base::span<const SourceType>, DstType*, unsigned) {
      |      ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3505:9: error: no matching function for call to 'Pack'
 3505 |         Pack<DstFormat, alphaOp>(src_row_start, dst_row_start,
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3390:5: note: in instantiation of function template specialization 'blink::(anonymous namespace)::FormatConverter::Convert<blink::WebGLImageConversion::kDataFormatRA8, blink::WebGLImageConversion::kDataFormatR16F, blink::WebGLImageConversion::kAlphaDoPremultiply>' requested here
 3390 |     FORMATCONVERTER_CASE_ALPHAOP(WebGLImageConversion::kAlphaDoPremultiply)
      |     ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3386:12: note: expanded from macro 'FORMATCONVERTER_CASE_ALPHAOP'
 3386 |     return Convert<SrcFormat, DstFormat, alphaOp>();
      |            ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3347:5: note: in instantiation of function template specialization 'blink::(anonymous namespace)::FormatConverter::Convert<blink::WebGLImageConversion::kDataFormatRA8, blink::WebGLImageConversion::kDataFormatR16F>' requested here
 3347 |     FORMATCONVERTER_CASE_DSTFORMAT(WebGLImageConversion::kDataFormatR16F)
      |     ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3343:12: note: expanded from macro 'FORMATCONVERTER_CASE_DSTFORMAT'
 3343 |     return Convert<SrcFormat, DstFormat>(alpha_op);
      |            ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3317:5: note: in instantiation of function template specialization 'blink::(anonymous namespace)::FormatConverter::Convert<blink::WebGLImageConversion::kDataFormatRA8>' requested here
 3317 |     FORMATCONVERTER_CASE_SRCFORMAT(WebGLImageConversion::kDataFormatRA8)
      |     ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:3314:12: note: expanded from macro 'FORMATCONVERTER_CASE_SRCFORMAT'
 3314 |     return Convert<SrcFormat>(dst_format, alpha_op);
      |            ^
../../third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc:1201:6: note: candidate template ignored: could not match 'base::span<const SourceType>' against 'const SrcType *' (aka 'const unsigned char *')
 1201 | void Pack(base::span<const SourceType>, DstType*, unsigned) {
      |      ^
fatal error: too many errors emitted, stopping now [-ferror-limit=]
20 errors generated.
build failed	
local:6 remote:2 cache:1 fallback:0 retry:0 skip:113104
reapi: ops: 300(err:188) / r:4(err:0) 93.34KiB / w:499(err:0) 549.70KiB
fs: ops: 53201(err:21572) / r:6862(err:0) 95.82MiB / w:3(err:0) 444.31KiB
```
