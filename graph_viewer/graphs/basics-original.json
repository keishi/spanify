{
    "nodes": [
        {
            "id": 0,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::613:::5:::base::span<int>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::613:::5:::base::span<int>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": []
        },
        {
            "id": 1,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::363:::5:::base::span<int>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::363:::5:::base::span<int>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": []
        },
        {
            "id": 2,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::696:::5:::base::span<int>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::696:::5:::base::span<int>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": []
        },
        {
            "id": 3,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::778:::4:::base::span<int>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::778:::4:::base::span<int>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": []
        },
        {
            "id": 4,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::898:::5:::base::span<int>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::898:::5:::base::span<int>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": []
        },
        {
            "id": 5,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::909:::7:::{}",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::909:::7:::{}",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "sink"
            ]
        },
        {
            "id": 6,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::993:::5:::base::span<int>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::993:::5:::base::span<int>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "source"
            ]
        },
        {
            "id": 7,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::1080:::5:::base::span<int>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::1080:::5:::base::span<int>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": null,
            "visited": false,
            "debug_info": {
                "rewrite_applied": false,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": []
        },
        {
            "id": 8,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::1608:::6:::base::span<char>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::1608:::6:::base::span<char>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": null,
            "visited": false,
            "debug_info": {
                "rewrite_applied": false,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": []
        },
        {
            "id": 9,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::1361:::6:::base::span<char>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::1361:::6:::base::span<char>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "source"
            ]
        },
        {
            "id": 10,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::1386:::7:::",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::1386:::7:::",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "sink"
            ]
        },
        {
            "id": 11,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::2305:::6:::base::span<char>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::2305:::6:::base::span<char>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "source"
            ]
        },
        {
            "id": 12,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::2317:::0:::<empty>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::2317:::0:::<empty>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "sink"
            ]
        },
        {
            "id": 13,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::2553:::6:::base::span<char>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::2553:::6:::base::span<char>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "source"
            ]
        },
        {
            "id": 14,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::2457:::5:::base::span<int>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::2457:::5:::base::span<int>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": []
        },
        {
            "id": 15,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::2820:::5:::base::span<int>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::2820:::5:::base::span<int>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "source"
            ]
        },
        {
            "id": 16,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::2701:::6:::base::span<char>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::2701:::6:::base::span<char>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "source"
            ]
        },
        {
            "id": 17,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::2741:::0:::<empty>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::2741:::0:::<empty>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "sink"
            ]
        },
        {
            "id": 18,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::2831:::0:::<empty>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::2831:::0:::<empty>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "sink"
            ]
        },
        {
            "id": 19,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::2980:::5:::base::span<char>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::2980:::5:::base::span<char>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": null,
            "visited": false,
            "debug_info": {
                "rewrite_applied": false,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": []
        },
        {
            "id": 20,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::3003:::7:::{}",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::3003:::7:::{}",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": false,
            "debug_info": {
                "rewrite_applied": false,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "sink"
            ]
        },
        {
            "id": 21,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::3103:::6:::base::span<char>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::3103:::6:::base::span<char>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "source"
            ]
        },
        {
            "id": 22,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::3122:::0:::<empty>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::3122:::0:::<empty>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "sink"
            ]
        },
        {
            "id": 23,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::3572:::4:::base::span<int>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::3572:::4:::base::span<int>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": []
        },
        {
            "id": 24,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::3629:::0:::<empty>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::3629:::0:::<empty>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "sink"
            ]
        },
        {
            "id": 25,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::3721:::11:::base::span<const int>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::3721:::11:::base::span<const int>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "source"
            ]
        },
        {
            "id": 26,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::3912:::2:::base::span<T>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::3912:::2:::base::span<T>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": []
        },
        {
            "id": 27,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::3959:::0:::<empty>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::3959:::0:::<empty>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "sink"
            ]
        },
        {
            "id": 28,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::4440:::0:::.data()",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::4440:::0:::.data()"
            ],
            "size_info_available": null,
            "visited": false,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "dependent"
            ]
        },
        {
            "id": 29,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::4170:::6:::base::span<char>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::4170:::6:::base::span<char>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "source"
            ]
        },
        {
            "id": 30,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::4445:::0:::.data()",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::4445:::0:::.data()"
            ],
            "size_info_available": null,
            "visited": false,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "dependent"
            ]
        },
        {
            "id": 31,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::4051:::5:::base::span<int>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::4051:::5:::base::span<int>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "source"
            ]
        },
        {
            "id": 32,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::4534:::6:::(buf2++).data()",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::4534:::6:::(buf2++).data()"
            ],
            "size_info_available": null,
            "visited": false,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "dependent"
            ]
        },
        {
            "id": 33,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::4542:::5:::(++buf).data()",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::4542:::5:::(++buf).data()"
            ],
            "size_info_available": null,
            "visited": false,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "dependent"
            ]
        },
        {
            "id": 34,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::4662:::8:::(buf2 + 1).data()",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::4662:::8:::(buf2 + 1).data()"
            ],
            "size_info_available": null,
            "visited": false,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "dependent"
            ]
        },
        {
            "id": 35,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::4672:::11:::(buf + index).data()",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::4672:::11:::(buf + index).data()"
            ],
            "size_info_available": null,
            "visited": false,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "dependent"
            ]
        },
        {
            "id": 36,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::4309:::6:::base::span<unsigned short>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::4309:::6:::base::span<unsigned short>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "source"
            ]
        },
        {
            "id": 37,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::4749:::6:::(buf++)[0]",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::4749:::6:::(buf++)[0]"
            ],
            "size_info_available": null,
            "visited": false,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "dependent"
            ]
        },
        {
            "id": 38,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::4783:::6:::(++buf)[0]",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::4783:::6:::(++buf)[0]"
            ],
            "size_info_available": null,
            "visited": false,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "dependent"
            ]
        },
        {
            "id": 39,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::4825:::13:::((buf + index)[0]",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::4825:::13:::((buf + index)[0]"
            ],
            "size_info_available": null,
            "visited": false,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "dependent"
            ]
        },
        {
            "id": 40,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::4864:::4:::buf[0]",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::4864:::4:::buf[0]"
            ],
            "size_info_available": null,
            "visited": false,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "dependent"
            ]
        },
        {
            "id": 41,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::5026:::12:::auto buf = std::to_array<int>(",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::5026:::12:::auto buf = std::to_array<int>(",
                "include-system-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::array",
                "r:::tools/clang/spanify/tests/basics-original.cc:::5049:::1:::})"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "source",
                "sink"
            ]
        },
        {
            "id": 42,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::5026:::0:::",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::5026:::0:::"
            ],
            "size_info_available": null,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": []
        },
        {
            "id": 43,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::5303:::6:::base::span<ns1::B>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::5303:::6:::base::span<ns1::B>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "source"
            ]
        },
        {
            "id": 44,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::5315:::0:::<empty>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::5315:::0:::<empty>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": [
                "sink"
            ]
        },
        {
            "id": 45,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::461:::5:::base::span<int>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::461:::5:::base::span<int>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": []
        },
        {
            "id": 46,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::531:::4:::base::span<int>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::531:::4:::base::span<int>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": []
        },
        {
            "id": 47,
            "replacement": "r:::tools/clang/spanify/tests/basics-original.cc:::3452:::4:::base::span<int>",
            "replacements": [
                "r:::tools/clang/spanify/tests/basics-original.cc:::3452:::4:::base::span<int>",
                "include-user-header:::tools/clang/spanify/tests/basics-original.cc:::-1:::-1:::base/containers/span.h"
            ],
            "size_info_available": true,
            "visited": true,
            "debug_info": {
                "rewrite_applied": true,
                "original_is_buffer": false,
                "original_size_info_available": null
            },
            "node_types": []
        }
    ],
    "links": [
        {
            "source": 0,
            "target": 2
        },
        {
            "source": 0,
            "target": 1
        },
        {
            "source": 1,
            "target": 4
        },
        {
            "source": 2,
            "target": 45
        },
        {
            "source": 3,
            "target": 0
        },
        {
            "source": 3,
            "target": 46
        },
        {
            "source": 4,
            "target": 5
        },
        {
            "source": 6,
            "target": 3
        },
        {
            "source": 7,
            "target": 3
        },
        {
            "source": 8,
            "target": 9
        },
        {
            "source": 9,
            "target": 10
        },
        {
            "source": 11,
            "target": 12
        },
        {
            "source": 13,
            "target": 14
        },
        {
            "source": 14,
            "target": 15
        },
        {
            "source": 15,
            "target": 18
        },
        {
            "source": 16,
            "target": 17
        },
        {
            "source": 19,
            "target": 20
        },
        {
            "source": 21,
            "target": 22
        },
        {
            "source": 23,
            "target": 24
        },
        {
            "source": 23,
            "target": 47
        },
        {
            "source": 25,
            "target": 23
        },
        {
            "source": 26,
            "target": 27
        },
        {
            "source": 28,
            "target": 29
        },
        {
            "source": 29,
            "target": 26
        },
        {
            "source": 30,
            "target": 31
        },
        {
            "source": 31,
            "target": 26
        },
        {
            "source": 32,
            "target": 29
        },
        {
            "source": 33,
            "target": 31
        },
        {
            "source": 34,
            "target": 29
        },
        {
            "source": 35,
            "target": 31
        },
        {
            "source": 36,
            "target": 26
        },
        {
            "source": 37,
            "target": 31
        },
        {
            "source": 38,
            "target": 31
        },
        {
            "source": 39,
            "target": 31
        },
        {
            "source": 40,
            "target": 31
        },
        {
            "source": 41,
            "target": 42
        },
        {
            "source": 43,
            "target": 44
        },
        {
            "source": 45,
            "target": 2
        },
        {
            "source": 46,
            "target": 3
        },
        {
            "source": 47,
            "target": 23
        }
    ],
    "source": {
        "content": "// Copyright 2024 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n#include <stdlib.h>\n\n#include <cstdint>\n#include <cstring>\n#include <vector>\n\n#include \"base/memory/raw_ptr.h\"\n\nclass A {\n public:\n  A() = default;\n  // Expected rewrite:\n  // A(base::span<int> ptr) : member(ptr) {}\n  A(int* ptr) : member(ptr) {}\n\n  // Expected rewrite:\n  // void set(base::span<int> ptr);\n  void set(int* ptr);\n\n  // Expected rewrite:\n  // base::span<int> get(int i);\n  int* get(int i);\n\n private:\n  // Expected rewrite:\n  // base::span<int> member;\n  int* member;\n};\n\n// Expected rewrite:\n// void set(base::span<int> ptr)\nvoid A::set(int* ptr) {\n  member = ptr;\n}\n\n// Expected rewrite:\n// base::span<int> get(int i)\nint* A::get(int i) {\n  return member;\n}\n\nint something_else() {\n  // Expected rewrite:\n  // base::span<int> ptr = {};\n  int* ptr = nullptr;\n  A a(ptr);\n  // Expected rewrite:\n  // base::span<int> temp = a.get(1);\n  int* temp = a.get(1);\n\n  // Expected rewrite:\n  //  int* temp2 = a.get(1234).data();\n  int* temp2 = a.get(1234);\n\n  // Leads temp's type to be rewritten along with other necessary changes.\n  return temp[1];\n}\n\nint offset(int n = 0) {\n  return n;\n}\n\nvoid fct() {\n  auto buf = std::vector<char>(1, 1);\n  // Expected rewrite:\n  // base::span<char> expected_data = buf;\n  char* expected_data = buf.data();\n  for (std::size_t ii = 0; ii < 1; ++ii) {\n    // buffer usage on expected_data\n    expected_data[ii] = ii * 3;\n  }\n  int index = buf.size() - 1;\n  // Expected rewrite:\n  // char* temp = expected_data++.data();\n  char* temp = expected_data++;\n  // Expected rewrite:\n  // temp = (++expected_data).data();\n  temp = ++expected_data;\n  // Expected rewrite:\n  // temp = (expected_data + 1).data();\n  temp = expected_data + 1;\n  // Expected rewrite:\n  // temp = (expected_data + index).data();\n  temp = expected_data + index;\n  // Expected rewrite:\n  // temp = (expected_data + offset()).data();\n  temp = expected_data + offset();\n  // Expected rewrite:\n  // temp = (expected_data + offset(2)).data();\n  temp = expected_data + offset(2);\n  // Expected rewrite:\n  // temp = (expected_data + offset(index)).data();\n  temp = expected_data + offset(index);\n\n  // Expected rewrite:\n  // base::span<char> ptr = &buf[0];\n  char* ptr = &buf[0];\n  ptr[1] = 'x';\n}\n\n// cast expressions\nnamespace cast_exprs {\n// Expected rewrite:\n// void modify(base::span<int> buf)\nvoid modify(int* buf) {\n  // expected rewrite:\n  // base::span<char> temp = reinterpret_cast<char*>(buf);\n  char* temp = reinterpret_cast<char*>(buf);\n  temp[2] = 'c';\n}\n\nvoid fct() {\n  int buf[10];\n\n  // Expected rewrite:\n  // base::span<char> as_char;\n  char* as_char = reinterpret_cast<char*>(buf);\n\n  as_char[4] = 'c';\n\n  // Expected rewrite:\n  // base::span<int> ptr;\n  int* ptr = buf;\n\n  // Usage as a buffer, ptr should become a span.\n  ptr[2] = 3;\n\n  modify(ptr);\n}\n\n}  // namespace cast_exprs\n\nnamespace malloc_tests {\n\nconst char* get() {\n  return nullptr;\n}\n\nvoid fct() {\n  // Expected rewrite:\n  // base::span<int> buf = malloc(4*sizeof(int));\n  char* buf = (char*)malloc(4 * sizeof(int));\n  // Leads buf to be rewritten.\n  buf++;\n\n  const char* buf2 = nullptr;\n  (void)buf2[0];\n  (void)get()[0];\n}\n}  // namespace malloc_tests\n\nnamespace function_params_and_return {\n// TODO: Wrong rewrite generated here.\n// Rewrites to: const base::span<int>\n// Should rewrite to: base::span<const int>\nconst int* get_buf();\n\n// TODO: Wrong rewrite generated here.\n// Expected rewrite:\n// base::span<const int> get_buf() {\nconst int* get_buf() {\n  static std::vector<int> buf;\n  return &buf[0];\n}\n\nvoid f() {\n  // Expected rewrite:\n  // base::span<const int> buf = get_buf();\n  const int* buf = get_buf();\n  (void)buf[0];\n}\n}  // namespace function_params_and_return\n\nnamespace templated_stuff {\n// Expected rewrite:\n// base::span<T> get_buffer()\ntemplate <typename T>\nT* get_buffer() {\n  static T buf[10];\n  return buf;\n}\n\nvoid fct() {\n  // Expected rewrite:\n  // base::span<int> buf = get_buffer<int>();\n  int* buf = get_buffer<int>();\n  buf[1] = 1;\n\n  // Expected rewrite:\n  // base::span<char> buf2 = get_buffer<char>();\n  char* buf2 = get_buffer<char>();\n  buf2[1] = 'a';\n\n  // Expected rewrite:\n  // base::span<unsigned short> buf2 = get_buffer<uint16_t>();\n  auto* buf3 = get_buffer<uint16_t>();\n  buf3[1] = 256;\n\n  // Expected rewrite:\n  // memcpy(buf2.data(), buf.data(), 10\n  memcpy(buf2, buf, 10);\n\n  // Expected rewrite:\n  // memcpy((buf2++).data(), (++buf).data(), 10)\n  memcpy(buf2++, ++buf, 10);\n\n  int index = 11;\n  // Expected rewrite:\n  // memcpy((buf2 + 1).data(), (buf + index).data(), 10)\n  memcpy(buf2 + 1, buf + index, 10);\n\n  // Expected rewrite:\n  // int i = (buf++)[0];\n  int i = *buf++;\n  // i = (++buf)[0]\n  i = *++buf;\n  // i = ((buf + index)[0])\n  i = *(buf + index);\n  // i = buf[0];\n  i = *buf;\n}\n\n}  // namespace templated_stuff\n\nnamespace buffers_into_arrays {\nvoid fct() {\n  // Expected rewrite:\n  // auto buf = std::to_array<int>({1, 2, 3, 4});\n  int buf[] = {1, 2, 3, 4};\n  int index = 0;\n  buf[index] = 11;\n}\n}  // namespace buffers_into_arrays\n\nnamespace namespace_stuff {\nnamespace ns1 {\nstruct B {\n  int b = 0;\n};\n}  // namespace ns1\n\nvoid fct() {\n  // Expected rewrite:\n  // base::span<ns1::B> ptr = new ns1::B[32];\n  auto* buf = new ns1::B[32];\n  // However since there is no viable conversion from `B*` into\n  // `base::span<ns1::B>`, the rewrite will cause compile error.\n  buf[0].b = -1;\n}\n}  // namespace namespace_stuff\n",
        "file_path": "tools/clang/spanify/tests/basics-original.cc",
        "rev": "733eff2098bf2f25b1cf0c182a3ee8beda9ef880"
    },
    "sources": [
        {
            "content": null,
            "file_path": "tools/clang/spanify/tests/basics-original.cc"
        }
    ]
}