# Build Failure: 2025_03_15_patch_1216

## Chromium Revision

`f7bded7940747d0869d7ec842d8ad98e16ef64a6`

## Code Changes (Diff)

```diff
diff --git a/components/viz/service/display/renderer_pixeltest.cc b/components/viz/service/display/renderer_pixeltest.cc
index 46e42db96a399..51eb36e3a9d8f 100644
--- a/components/viz/service/display/renderer_pixeltest.cc
+++ b/components/viz/service/display/renderer_pixeltest.cc
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style license that can be
 // found in the LICENSE file.
 
+#include "base/containers/span.h"
+
 #ifdef UNSAFE_BUFFERS_BUILD
 // TODO(crbug.com/40285824): Remove this and convert code to safer constructs.
 #pragma allow_unsafe_buffers
@@ -6168,11 +6170,15 @@ class ColorTransformPixelTest
       if (this->premultiplied_alpha_ && alpha > 0.0) {
         color.Scale(1.0f / alpha);
       }
-      transform_src_to_blend->Transform(&color, 1, runtime_options);
+      transform_src_to_blend->Transform(
+          base::span<gfx::ColorTransform::TriStim, 1>(&color), 1,
+          runtime_options);
       // Simulate blending this color onto its black background in
       // |blend_color_space|, which may be different than |dst_color_space_|.
       color.Scale(alpha);
-      transform_blend_to_dst->Transform(&color, 1, runtime_options);
+      transform_blend_to_dst->Transform(
+          base::span<gfx::ColorTransform::TriStim, 1>(&color), 1,
+          runtime_options);
       color.set_x(std::clamp(color.x(), 0.0f, 1.0f));
       color.set_y(std::clamp(color.y(), 0.0f, 1.0f));
       color.set_z(std::clamp(color.z(), 0.0f, 1.0f));
diff --git a/components/viz/service/frame_sinks/video_capture/video_capture_overlay.cc b/components/viz/service/frame_sinks/video_capture/video_capture_overlay.cc
index a8e316e303536..381716e1c286c 100644
--- a/components/viz/service/frame_sinks/video_capture/video_capture_overlay.cc
+++ b/components/viz/service/frame_sinks/video_capture/video_capture_overlay.cc
@@ -587,7 +587,7 @@ void VideoCaptureOverlay::Sprite::TransformImage() {
   if (image_color_space != color_space_) {
     const auto color_transform =
         gfx::ColorTransform::NewColorTransform(image_color_space, color_space_);
-    color_transform->Transform(colors.data(), num_pixels);
+    color_transform->Transform(colors, num_pixels);
   }
 
   switch (format_) {
diff --git a/components/viz/test/gl_scaler_test_util.cc b/components/viz/test/gl_scaler_test_util.cc
index 453ea46d60874..e363ac4101aea 100644
--- a/components/viz/test/gl_scaler_test_util.cc
+++ b/components/viz/test/gl_scaler_test_util.cc
@@ -211,7 +211,7 @@ void GLScalerTestUtil::ConvertRGBABitmapToYUV(SkBitmap* image) {
       stims[x].set_y(((pixels[x] >> kGreenShift) & 0xff) / 255.0f);
       stims[x].set_z(((pixels[x] >> kBlueShift) & 0xff) / 255.0f);
     }
-    transform->Transform(stims.data(), stims.size());
+    transform->Transform(stims, stims.size());
     for (int x = 0; x < image->width(); ++x) {
       pixels[x] = ((ToClamped255(stims[x].x()) << kRedShift) |
                    (ToClamped255(stims[x].y()) << kGreenShift) |
diff --git a/content/browser/media/capture/frame_test_util.cc b/content/browser/media/capture/frame_test_util.cc
index ce30a4e0b42f7..239efa7db7792 100644
--- a/content/browser/media/capture/frame_test_util.cc
+++ b/content/browser/media/capture/frame_test_util.cc
@@ -138,7 +138,7 @@ SkBitmap FrameTestUtil::ConvertToBitmap(const media::VideoFrame& frame) {
               (row / 2) * frame.stride(media::VideoFrame::Plane::kUV)),
           bitmap.width(), stims.data());
     }
-    transform->Transform(stims.data(), stims.size());
+    transform->Transform(stims, stims.size());
     StimsToN32Row(stims.data(), bitmap.width(),
                   reinterpret_cast<uint8_t*>(bitmap.getAddr32(0, row)));
   }
diff --git a/media/base/video_color_space_unittest.cc b/media/base/video_color_space_unittest.cc
index b8e4eee675c9c..0a5b95586f25c 100644
--- a/media/base/video_color_space_unittest.cc
+++ b/media/base/video_color_space_unittest.cc
@@ -3,6 +3,8 @@
 // found in the LICENSE file.
 
 #include "media/base/video_color_space.h"
+
+#include "base/containers/span.h"
 #include "testing/gtest/include/gtest/gtest.h"
 #include "ui/gfx/color_space.h"
 #include "ui/gfx/color_transform.h"
@@ -46,20 +48,20 @@ TEST(VideoColorSpaceTest, UnknownVideoToSRGB) {
       gfx::ColorTransform::NewColorTransform(unknown, sRGB));
 
   gfx::ColorTransform::TriStim tmp(16.0f / 255.0f, 0.5f, 0.5f);
-  t->Transform(&tmp, 1);
+  t->Transform(base::span<gfx::ColorTransform::TriStim, 1>(&tmp), 1);
   EXPECT_NEAR(tmp.x(), 0.0f, 0.001f);
   EXPECT_NEAR(tmp.y(), 0.0f, 0.001f);
   EXPECT_NEAR(tmp.z(), 0.0f, 0.001f);
 
   tmp = gfx::ColorTransform::TriStim(235.0f / 255.0f, 0.5f, 0.5f);
-  t->Transform(&tmp, 1);
+  t->Transform(base::span<gfx::ColorTransform::TriStim, 1>(&tmp), 1);
   EXPECT_NEAR(tmp.x(), 1.0f, 0.001f);
   EXPECT_NEAR(tmp.y(), 1.0f, 0.001f);
   EXPECT_NEAR(tmp.z(), 1.0f, 0.001f);
 
   // Test a blue color
   tmp = gfx::ColorTransform::TriStim(128.0f / 255.0f, 240.0f / 255.0f, 0.5f);
-  t->Transform(&tmp, 1);
+  t->Transform(base::span<gfx::ColorTransform::TriStim, 1>(&tmp), 1);
   EXPECT_GT(tmp.z(), tmp.x());
   EXPECT_GT(tmp.z(), tmp.y());
 }
diff --git a/ui/gfx/color_transform.cc b/ui/gfx/color_transform.cc
index b7706b01d52c3..a71dd8846dc44 100644
--- a/ui/gfx/color_transform.cc
+++ b/ui/gfx/color_transform.cc
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style license that can be
 // found in the LICENSE file.
 
+#include "base/containers/span.h"
+
 #ifdef UNSAFE_BUFFERS_BUILD
 // TODO(crbug.com/354829279): Remove this and convert code to safer constructs.
 #pragma allow_unsafe_buffers
@@ -200,7 +202,7 @@ class ColorTransformStep {
   // Return true if this is a null transform.
   virtual bool IsNull() { return false; }
   virtual void Transform(
-      ColorTransform::TriStim* color,
+      base::span<ColorTransform::TriStim> color,
       size_t num,
       const ColorTransform::RuntimeOptions& options) const = 0;
   virtual void AppendSkShaderSource(std::stringstream* src) const = 0;
@@ -218,13 +220,13 @@ class ColorTransformInternal : public ColorTransform {
   gfx::ColorSpace GetSrcColorSpace() const override { return src_; }
   gfx::ColorSpace GetDstColorSpace() const override { return dst_; }
 
-  void Transform(TriStim* colors, size_t num) const override {
+  void Transform(base::span<TriStim> colors, size_t num) const override {
     const ColorTransform::RuntimeOptions options;
     for (const auto& step : steps_) {
       step->Transform(colors, num, options);
     }
   }
-  void Transform(TriStim* colors,
+  void Transform(base::span<TriStim> colors,
                  size_t num,
                  const ColorTransform::RuntimeOptions& options) const override {
     for (const auto& step : steps_) {
@@ -252,7 +254,7 @@ class ColorTransformNull : public ColorTransformStep {
  public:
   ColorTransformNull* GetNull() override { return this; }
   bool IsNull() override { return true; }
-  void Transform(ColorTransform::TriStim* color,
+  void Transform(base::span<ColorTransform::TriStim> color,
                  size_t num,
                  const ColorTransform::RuntimeOptions& options) const override {
   }
@@ -273,7 +275,7 @@ class ColorTransformMatrix : public ColorTransformStep {
 
   bool IsNull() override { return SkM44IsApproximatelyIdentity(matrix_); }
 
-  void Transform(ColorTransform::TriStim* colors,
+  void Transform(base::span<ColorTransform::TriStim> colors,
                  size_t num,
                  const ColorTransform::RuntimeOptions& options) const override {
     for (size_t i = 0; i < num; i++) {
@@ -318,7 +320,7 @@ class ColorTransformPerChannelTransferFn : public ColorTransformStep {
   explicit ColorTransformPerChannelTransferFn(bool extended)
       : extended_(extended) {}
 
-  void Transform(ColorTransform::TriStim* colors,
+  void Transform(base::span<ColorTransform::TriStim> colors,
                  size_t num,
                  const ColorTransform::RuntimeOptions& options) const override {
     for (size_t i = 0; i < num; i++) {
@@ -712,7 +714,7 @@ class ColorTransformHLG_OOTF : public ColorTransformStep {
   ColorTransformHLG_OOTF() = default;
 
   // ColorTransformStep implementation:
-  void Transform(ColorTransform::TriStim* color,
+  void Transform(base::span<ColorTransform::TriStim> color,
                  size_t num,
                  const ColorTransform::RuntimeOptions& options) const override {
     const float dst_max_luminance_relative = options.dst_max_luminance_relative;
@@ -767,7 +769,7 @@ class ColorTransformHLG_RefOOTF : public ColorTransformStep {
   static constexpr float kGammaMinusOne = 0.2f;
 
   // ColorTransformStep implementation:
-  void Transform(ColorTransform::TriStim* color,
+  void Transform(base::span<ColorTransform::TriStim> color,
                  size_t num,
                  const ColorTransform::RuntimeOptions& options) const override {
     for (size_t i = 0; i < num; i++) {
@@ -798,7 +800,7 @@ class ColorTransformToneMapInRec2020Linear : public ColorTransformStep {
                                ColorSpace::TransferID::HLG) {}
 
   // ColorTransformStep implementation:
-  void Transform(ColorTransform::TriStim* color,
+  void Transform(base::span<ColorTransform::TriStim> color,
                  size_t num,
                  const ColorTransform::RuntimeOptions& options) const override {
     float a = 0.f;
@@ -876,7 +878,7 @@ class ColorTransformSrcNitsToSdrRelative : public ColorTransformStep {
       : unity_nits_(unity_nits), use_src_sdr_white_(use_src_sdr_white) {}
 
   // ColorTransformStep implementation:
-  void Transform(ColorTransform::TriStim* color,
+  void Transform(base::span<ColorTransform::TriStim> color,
                  size_t num,
                  const ColorTransform::RuntimeOptions& options) const override {
     const float factor = ComputeNitsToSdrRelativeFactor(options);
@@ -919,7 +921,7 @@ class ColorTransformSdrToDstNitsRelative : public ColorTransformStep {
       : unity_nits_(unity_nits) {}
 
   // ColorTransformStep implementation:
-  void Transform(ColorTransform::TriStim* color,
+  void Transform(base::span<ColorTransform::TriStim> color,
                  size_t num,
                  const ColorTransform::RuntimeOptions& options) const override {
     const float factor = ComputeSdrRelativeToNitsFactor(options);
diff --git a/ui/gfx/color_transform.h b/ui/gfx/color_transform.h
index 4277c87109d82..5c8d9837a2391 100644
--- a/ui/gfx/color_transform.h
+++ b/ui/gfx/color_transform.h
@@ -9,6 +9,7 @@
 #include <optional>
 #include <string>
 
+#include "base/containers/span.h"
 #include "base/feature_list.h"
 #include "third_party/skia/include/core/SkData.h"
 #include "third_party/skia/include/effects/SkRuntimeEffect.h"
@@ -74,8 +75,8 @@ class COLOR_SPACE_EXPORT ColorTransform {
   virtual gfx::ColorSpace GetDstColorSpace() const = 0;
 
   // Perform transformation of colors, |colors| is both input and output.
-  virtual void Transform(TriStim* colors, size_t num) const = 0;
-  virtual void Transform(TriStim* colors,
+  virtual void Transform(base::span<TriStim> colors, size_t num) const = 0;
+  virtual void Transform(base::span<TriStim> colors,
                          size_t num,
                          const RuntimeOptions& options) const = 0;
 
diff --git a/ui/gfx/color_transform_unittest.cc b/ui/gfx/color_transform_unittest.cc
index f6a086a9ab974..2119729d0cff0 100644
--- a/ui/gfx/color_transform_unittest.cc
+++ b/ui/gfx/color_transform_unittest.cc
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style license that can be
 // found in the LICENSE file.
 
+#include "base/containers/span.h"
+
 #ifdef UNSAFE_BUFFERS_BUILD
 // TODO(crbug.com/354829279): Remove this and convert code to safer constructs.
 #pragma allow_unsafe_buffers
@@ -78,20 +80,20 @@ TEST(SimpleColorSpace, BT709toSRGB) {
       ColorTransform::NewColorTransform(bt709, sRGB));
 
   ColorTransform::TriStim tmp(16.0f / 255.0f, 0.5f, 0.5f);
-  t->Transform(&tmp, 1);
+  t->Transform(base::span<ColorTransform::TriStim, 1>(&tmp), 1);
   EXPECT_NEAR(tmp.x(), 0.0f, kMathEpsilon);
   EXPECT_NEAR(tmp.y(), 0.0f, kMathEpsilon);
   EXPECT_NEAR(tmp.z(), 0.0f, kMathEpsilon);
 
   tmp = ColorTransform::TriStim(235.0f / 255.0f, 0.5f, 0.5f);
-  t->Transform(&tmp, 1);
+  t->Transform(base::span<ColorTransform::TriStim, 1>(&tmp), 1);
   EXPECT_NEAR(tmp.x(), 1.0f, kMathEpsilon);
   EXPECT_NEAR(tmp.y(), 1.0f, kMathEpsilon);
   EXPECT_NEAR(tmp.z(), 1.0f, kMathEpsilon);
 
   // Test a blue color
   tmp = ColorTransform::TriStim(128.0f / 255.0f, 240.0f / 255.0f, 0.5f);
-  t->Transform(&tmp, 1);
+  t->Transform(base::span<ColorTransform::TriStim, 1>(&tmp), 1);
   EXPECT_GT(tmp.z(), tmp.x());
   EXPECT_GT(tmp.z(), tmp.y());
 }
@@ -104,14 +106,14 @@ TEST(SimpleColorSpace, YCOCGLimitedToSRGB) {
       ColorTransform::NewColorTransform(ycocg, sRGB));
 
   ColorTransform::TriStim tmp(16.0f / 255.0f, 128.0f / 255.0f, 128.0f / 255.0f);
-  t->Transform(&tmp, 1);
+  t->Transform(base::span<ColorTransform::TriStim, 1>(&tmp), 1);
   EXPECT_NEAR(tmp.x(), 0.0f, kMathEpsilon);
   EXPECT_NEAR(tmp.y(), 0.0f, kMathEpsilon);
   EXPECT_NEAR(tmp.z(), 0.0f, kMathEpsilon);
 
   tmp = ColorTransform::TriStim(235.0f / 255.0f, 128.0f / 255.0f,
                                 128.0f / 255.0f);
-  t->Transform(&tmp, 1);
+  t->Transform(base::span<ColorTransform::TriStim, 1>(&tmp), 1);
   EXPECT_NEAR(tmp.x(), 1.0f, kMathEpsilon);
   EXPECT_NEAR(tmp.y(), 1.0f, kMathEpsilon);
   EXPECT_NEAR(tmp.z(), 1.0f, kMathEpsilon);
@@ -131,7 +133,7 @@ TEST(SimpleColorSpace, YCOCGLimitedToSRGB) {
   //   Cr = 0.5 * (16 - 235) + 128 = -109.5 + 128 = 18.5
   tmp =
       ColorTransform::TriStim(70.75f / 255.0f, 73.25f / 255.0f, 18.5f / 255.0f);
-  t->Transform(&tmp, 1);
+  t->Transform(base::span<ColorTransform::TriStim, 1>(&tmp), 1);
   EXPECT_NEAR(tmp.x(), 0.0f, kMathEpsilon);
   EXPECT_NEAR(tmp.y(), 0.0f, kMathEpsilon);
   EXPECT_NEAR(tmp.z(), 1.0f, kMathEpsilon);
@@ -196,13 +198,15 @@ TEST(SimpleColorSpace, SRGBFromICCAndNotICC) {
       ColorTransform::NewColorTransform(srgb_fromicc, xyzd50));
   // This will be converted to a transfer function and then linear transform.
   EXPECT_EQ(toxyzd50_fromicc->NumberOfStepsForTesting(), 2u);
-  toxyzd50_fromicc->Transform(&value_fromicc, 1);
+  toxyzd50_fromicc->Transform(
+      base::span<ColorTransform::TriStim, 1>(&value_fromicc), 1);
 
   std::unique_ptr<ColorTransform> toxyzd50_default(
       ColorTransform::NewColorTransform(srgb_default, xyzd50));
   // This will have a transfer function and then linear transform.
   EXPECT_EQ(toxyzd50_default->NumberOfStepsForTesting(), 2u);
-  toxyzd50_default->Transform(&value_default, 1);
+  toxyzd50_default->Transform(
+      base::span<ColorTransform::TriStim, 1>(&value_default), 1);
 
   EXPECT_NEAR(value_fromicc.x(), value_default.x(), kPixelEpsilon);
   EXPECT_NEAR(value_fromicc.y(), value_default.y(), kPixelEpsilon);
@@ -212,11 +216,13 @@ TEST(SimpleColorSpace, SRGBFromICCAndNotICC) {
 
   std::unique_ptr<ColorTransform> fromxyzd50_fromicc(
       ColorTransform::NewColorTransform(xyzd50, srgb_fromicc));
-  fromxyzd50_fromicc->Transform(&value_fromicc, 1);
+  fromxyzd50_fromicc->Transform(
+      base::span<ColorTransform::TriStim, 1>(&value_fromicc), 1);
 
   std::unique_ptr<ColorTransform> fromxyzd50_default(
       ColorTransform::NewColorTransform(xyzd50, srgb_default));
-  fromxyzd50_default->Transform(&value_default, 1);
+  fromxyzd50_default->Transform(
+      base::span<ColorTransform::TriStim, 1>(&value_default), 1);
 
   EXPECT_NEAR(value_fromicc.x(), value_default.x(), kPixelEpsilon);
   EXPECT_NEAR(value_fromicc.y(), value_default.y(), kPixelEpsilon);
@@ -231,20 +237,20 @@ TEST(SimpleColorSpace, BT709toSRGBICC) {
       ColorTransform::NewColorTransform(bt709, sRGB));
 
   ColorTransform::TriStim tmp(16.0f / 255.0f, 0.5f, 0.5f);
-  t->Transform(&tmp, 1);
+  t->Transform(base::span<ColorTransform::TriStim, 1>(&tmp), 1);
   EXPECT_NEAR(tmp.x(), 0.0f, kMathEpsilon);
   EXPECT_NEAR(tmp.y(), 0.0f, kMathEpsilon);
   EXPECT_NEAR(tmp.z(), 0.0f, kMathEpsilon);
 
   tmp = ColorTransform::TriStim(235.0f / 255.0f, 0.5f, 0.5f);
-  t->Transform(&tmp, 1);
+  t->Transform(base::span<ColorTransform::TriStim, 1>(&tmp), 1);
   EXPECT_NEAR(tmp.x(), 1.0f, kMathEpsilon);
   EXPECT_NEAR(tmp.y(), 1.0f, kMathEpsilon);
   EXPECT_NEAR(tmp.z(), 1.0f, kMathEpsilon);
 
   // Test a blue color
   tmp = ColorTransform::TriStim(128.0f / 255.0f, 240.0f / 255.0f, 0.5f);
-  t->Transform(&tmp, 1);
+  t->Transform(base::span<ColorTransform::TriStim, 1>(&tmp), 1);
   EXPECT_GT(tmp.z(), tmp.x());
   EXPECT_GT(tmp.z(), tmp.y());
 }
@@ -264,7 +270,8 @@ TEST(SimpleColorSpace, ICCProfileOnlyXYZ) {
   std::unique_ptr<ColorTransform> icc_to_xyzd50(
       ColorTransform::NewColorTransform(icc_space, xyzd50));
   EXPECT_EQ(icc_to_xyzd50->NumberOfStepsForTesting(), 2u);
-  icc_to_xyzd50->Transform(&transformed_value, 1);
+  icc_to_xyzd50->Transform(
+      base::span<ColorTransform::TriStim, 1>(&transformed_value), 1);
   EXPECT_NEAR(transformed_value.x(), expected_transformed_value.x(),
               kPixelEpsilon);
   EXPECT_NEAR(transformed_value.y(), expected_transformed_value.y(),
@@ -276,7 +283,8 @@ TEST(SimpleColorSpace, ICCProfileOnlyXYZ) {
   std::unique_ptr<ColorTransform> xyzd50_to_icc(
       ColorTransform::NewColorTransform(xyzd50, icc_space));
   EXPECT_EQ(xyzd50_to_icc->NumberOfStepsForTesting(), 2u);
-  xyzd50_to_icc->Transform(&transformed_value, 1);
+  xyzd50_to_icc->Transform(
+      base::span<ColorTransform::TriStim, 1>(&transformed_value), 1);
   EXPECT_NEAR(input_value.x(), transformed_value.x(), kPixelEpsilon);
   EXPECT_NEAR(input_value.y(), transformed_value.y(), kPixelEpsilon);
   EXPECT_NEAR(input_value.z(), transformed_value.z(), kPixelEpsilon);
@@ -297,7 +305,8 @@ TEST(SimpleColorSpace, ICCProfileOnlyColorSpin) {
   std::unique_ptr<ColorTransform> icc_to_colorspin(
       ColorTransform::NewColorTransform(icc_space, colorspin));
   EXPECT_EQ(icc_to_colorspin->NumberOfStepsForTesting(), 3u);
-  icc_to_colorspin->Transform(&transformed_value, 1);
+  icc_to_colorspin->Transform(
+      base::span<ColorTransform::TriStim, 1>(&transformed_value), 1);
   EXPECT_NEAR(transformed_value.x(), expected_transformed_value.x(),
               kPixelEpsilon);
   EXPECT_NEAR(transformed_value.y(), expected_transformed_value.y(),
@@ -310,7 +319,8 @@ TEST(SimpleColorSpace, ICCProfileOnlyColorSpin) {
       ColorTransform::NewColorTransform(colorspin, icc_space));
   EXPECT_EQ(colorspin_to_icc->NumberOfStepsForTesting(), 3u);
   transformed_value = expected_transformed_value;
-  colorspin_to_icc->Transform(&transformed_value, 1);
+  colorspin_to_icc->Transform(
+      base::span<ColorTransform::TriStim, 1>(&transformed_value), 1);
   EXPECT_NEAR(input_value.x(), transformed_value.x(), kPixelEpsilon);
   EXPECT_NEAR(input_value.y(), transformed_value.y(), kPixelEpsilon);
   EXPECT_NEAR(input_value.z(), transformed_value.z(), kPixelEpsilon);
@@ -326,25 +336,25 @@ TEST(SimpleColorSpace, GetColorSpace) {
       ColorTransform::NewColorTransform(sRGB, sRGB2));
 
   ColorTransform::TriStim tmp(1.0f, 1.0f, 1.0f);
-  t->Transform(&tmp, 1);
+  t->Transform(base::span<ColorTransform::TriStim, 1>(&tmp), 1);
   EXPECT_NEAR(tmp.x(), 1.0f, kPixelEpsilon);
   EXPECT_NEAR(tmp.y(), 1.0f, kPixelEpsilon);
   EXPECT_NEAR(tmp.z(), 1.0f, kPixelEpsilon);
 
   tmp = ColorTransform::TriStim(1.0f, 0.0f, 0.0f);
-  t->Transform(&tmp, 1);
+  t->Transform(base::span<ColorTransform::TriStim, 1>(&tmp), 1);
   EXPECT_NEAR(tmp.x(), 1.0f, kPixelEpsilon);
   EXPECT_NEAR(tmp.y(), 0.0f, kPixelEpsilon);
   EXPECT_NEAR(tmp.z(), 0.0f, kPixelEpsilon);
 
   tmp = ColorTransform::TriStim(0.0f, 1.0f, 0.0f);
-  t->Transform(&tmp, 1);
+  t->Transform(base::span<ColorTransform::TriStim, 1>(&tmp), 1);
   EXPECT_NEAR(tmp.x(), 0.0f, kPixelEpsilon);
   EXPECT_NEAR(tmp.y(), 1.0f, kPixelEpsilon);
   EXPECT_NEAR(tmp.z(), 0.0f, kPixelEpsilon);
 
   tmp = ColorTransform::TriStim(0.0f, 0.0f, 1.0f);
-  t->Transform(&tmp, 1);
+  t->Transform(base::span<ColorTransform::TriStim, 1>(&tmp), 1);
   EXPECT_NEAR(tmp.x(), 0.0f, kPixelEpsilon);
   EXPECT_NEAR(tmp.y(), 0.0f, kPixelEpsilon);
   EXPECT_NEAR(tmp.z(), 1.0f, kPixelEpsilon);
@@ -358,7 +368,7 @@ TEST(SimpleColorSpace, Scale) {
       ColorTransform::NewColorTransform(srgb, srgb_scaled));
 
   ColorTransform::TriStim tmp(1.0f, 1.0f, 1.0f);
-  t->Transform(&tmp, 1);
+  t->Transform(base::span<ColorTransform::TriStim, 1>(&tmp), 1);
   EXPECT_NEAR(tmp.x(), 0.735356983052449f, kPixelEpsilon);
   EXPECT_NEAR(tmp.y(), 0.735356983052449f, kPixelEpsilon);
   EXPECT_NEAR(tmp.z(), 0.735356983052449f, kPixelEpsilon);
@@ -461,8 +471,8 @@ TEST_P(TransferTest, BasicTest) {
 
   for (float x = 0.0f; x <= 1.0f; x += 1.0f / 128.0f) {
     ColorTransform::TriStim tristim(x, x, x);
-    to_linear->Transform(&tristim, 1);
-    from_linear->Transform(&tristim, 1);
+    to_linear->Transform(base::span<ColorTransform::TriStim, 1>(&tristim), 1);
+    from_linear->Transform(base::span<ColorTransform::TriStim, 1>(&tristim), 1);
     EXPECT_NEAR(x, tristim.x(), kMathEpsilon);
   }
 }
@@ -490,8 +500,8 @@ TEST_P(ExtendedTransferTest, extendedTest) {
 
   for (float x = -2.0f; x <= 2.0f; x += 1.0f / 32.0f) {
     ColorTransform::TriStim tristim(x, x, x);
-    to_linear->Transform(&tristim, 1);
-    from_linear->Transform(&tristim, 1);
+    to_linear->Transform(base::span<ColorTransform::TriStim, 1>(&tristim), 1);
+    from_linear->Transform(base::span<ColorTransform::TriStim, 1>(&tristim), 1);
     EXPECT_NEAR(x, tristim.x(), kMathEpsilon);
   }
 }
@@ -526,7 +536,7 @@ TEST_P(ColorSpaceTestBase, testNullTransform) {
   std::unique_ptr<ColorTransform> t(
       ColorTransform::NewColorTransform(color_space_, color_space_, options_));
   ColorTransform::TriStim tristim(0.4f, 0.5f, 0.6f);
-  t->Transform(&tristim, 1);
+  t->Transform(base::span<ColorTransform::TriStim, 1>(&tristim), 1);
   EXPECT_NEAR(tristim.x(), 0.4f, kMathEpsilon);
   EXPECT_NEAR(tristim.y(), 0.5f, kMathEpsilon);
   EXPECT_NEAR(tristim.z(), 0.6f, kMathEpsilon);
@@ -538,8 +548,8 @@ TEST_P(ColorSpaceTestBase, toXYZandBack) {
   std::unique_ptr<ColorTransform> t2(ColorTransform::NewColorTransform(
       ColorSpace::CreateXYZD50(), color_space_, options_));
   ColorTransform::TriStim tristim(0.4f, 0.5f, 0.6f);
-  t1->Transform(&tristim, 1);
-  t2->Transform(&tristim, 1);
+  t1->Transform(base::span<ColorTransform::TriStim, 1>(&tristim), 1);
+  t2->Transform(base::span<ColorTransform::TriStim, 1>(&tristim), 1);
   EXPECT_NEAR(tristim.x(), 0.4f, kMathEpsilon);
   EXPECT_NEAR(tristim.y(), 0.5f, kMathEpsilon);
   EXPECT_NEAR(tristim.z(), 0.6f, kMathEpsilon);
@@ -595,8 +605,10 @@ TEST(ColorSpaceTest, ExtendedSRGBScale) {
   ColorTransform::TriStim val_scaled(0.001, 0.5, 0.7);
   ColorTransform::TriStim val_unscaled = val_scaled;
 
-  xform_scaled->Transform(&val_scaled, 1);
-  xform_unscaled->Transform(&val_unscaled, 1);
+  xform_scaled->Transform(base::span<ColorTransform::TriStim, 1>(&val_scaled),
+                          1);
+  xform_unscaled->Transform(
+      base::span<ColorTransform::TriStim, 1>(&val_unscaled), 1);
 
   EXPECT_NEAR(val_scaled.x() / val_unscaled.x(), scale, kMathEpsilon);
   EXPECT_NEAR(val_scaled.y() / val_unscaled.y(), scale, kMathEpsilon);
@@ -621,7 +633,8 @@ TEST(ColorSpaceTest, ScrgbLinear80Nits) {
         ColorTransform::NewColorTransform(src_srgb, dst, options));
 
     ColorTransform::TriStim val(1.f, 1.f, 1.f);
-    xform->Transform(&val, 1, runtime_options);
+    xform->Transform(base::span<ColorTransform::TriStim, 1>(&val), 1,
+                     runtime_options);
     EXPECT_NEAR(val.x(), kSdrWhite / 80.f, kMathEpsilon);
   }
 
@@ -644,7 +657,8 @@ TEST(ColorSpaceTest, ScrgbLinear80Nits) {
         ColorTransform::NewColorTransform(src_pq, dst, options));
 
     ColorTransform::TriStim val(1.f, 1.f, 1.f);
-    xform->Transform(&val, 1, runtime_options);
+    xform->Transform(base::span<ColorTransform::TriStim, 1>(&val), 1,
+                     runtime_options);
     EXPECT_NEAR(val.x(), kDstMaxLumRel * kSdrWhite / 80.f, kMathEpsilon);
   }
 }
@@ -669,7 +683,8 @@ TEST(ColorSpaceTest, HLGTonemapSdrRelative) {
     runtime_options.dst_max_luminance_relative = kDstMaxLumRel;
 
     ColorTransform::TriStim val(1.f, 1.f, 1.f);
-    xform->Transform(&val, 1, runtime_options);
+    xform->Transform(base::span<ColorTransform::TriStim, 1>(&val), 1,
+                     runtime_options);
     EXPECT_NEAR(val.x(), kDstMaxLumRel, kMathLargeEpsilon);
   }
 
@@ -682,7 +697,8 @@ TEST(ColorSpaceTest, HLGTonemapSdrRelative) {
     runtime_options.dst_max_luminance_relative = kDstMaxLumRel;
 
     ColorTransform::TriStim val(1.f, 1.f, 1.f);
-    xform->Transform(&val, 1, runtime_options);
+    xform->Transform(base::span<ColorTransform::TriStim, 1>(&val), 1,
+                     runtime_options);
     EXPECT_NEAR(val.x(), 1000.f / ColorSpace::kDefaultSDRWhiteLevel,
                 kMathLargeEpsilon);
   }
@@ -707,14 +723,16 @@ TEST(ColorSpaceTest, HLGNoTonemapSdrRelative) {
   // HLG 75% will match 203 nits.
   {
     ColorTransform::TriStim val(0.75f, 0.75f, 0.75f);
-    xform->Transform(&val, 1, runtime_options);
+    xform->Transform(base::span<ColorTransform::TriStim, 1>(&val), 1,
+                     runtime_options);
     EXPECT_NEAR(val.x(), 1.f, kMathLargeEpsilon);
   }
 
   // HLG 100% will match 1000 nits.
   {
     ColorTransform::TriStim val(1.f, 1.f, 1.f);
-    xform->Transform(&val, 1, runtime_options);
+    xform->Transform(base::span<ColorTransform::TriStim, 1>(&val), 1,
+                     runtime_options);
     EXPECT_NEAR(val.x(), 1000.f / ColorSpace::kDefaultSDRWhiteLevel,
                 kMathLargeEpsilon);
   }
@@ -743,7 +761,8 @@ TEST(ColorSpaceTest, PQTonemapSdrRelative) {
         HDRMetadata(HdrMetadataCta861_3(10000.f, 100.f));
 
     ColorTransform::TriStim val(1.f, 1.f, 1.f);
-    xform->Transform(&val, 1, runtime_options);
+    xform->Transform(base::span<ColorTransform::TriStim, 1>(&val), 1,
+                     runtime_options);
     EXPECT_NEAR(val.x(), kDstMaxLumRel, kMathLargeEpsilon);
   }
 
@@ -757,7 +776,8 @@ TEST(ColorSpaceTest, PQTonemapSdrRelative) {
     runtime_options.dst_max_luminance_relative = kDstMaxLumRel;
 
     ColorTransform::TriStim val(kPQ1000Nits, kPQ1000Nits, kPQ1000Nits);
-    xform->Transform(&val, 1, runtime_options);
+    xform->Transform(base::span<ColorTransform::TriStim, 1>(&val), 1,
+                     runtime_options);
     EXPECT_NEAR(val.x(), 2.f, kMathLargeEpsilon);
   }
 
@@ -770,7 +790,8 @@ TEST(ColorSpaceTest, PQTonemapSdrRelative) {
     runtime_options.dst_max_luminance_relative = kDstMaxLumRel;
 
     ColorTransform::TriStim val(1.f, 1.f, 1.f);
-    xform->Transform(&val, 1, runtime_options);
+    xform->Transform(base::span<ColorTransform::TriStim, 1>(&val), 1,
+                     runtime_options);
     EXPECT_NEAR(val.x(), 10000.f / ColorSpace::kDefaultSDRWhiteLevel,
                 kMathLargeEpsilon);
   }
@@ -787,7 +808,8 @@ TEST(ColorSpaceTest, PQTonemapSdrRelative) {
         HDRMetadata(HdrMetadataCta861_3(1000.f, 100.f));
 
     ColorTransform::TriStim val(kPQ1000Nits, kPQ1000Nits, kPQ1000Nits);
-    xform->Transform(&val, 1, runtime_options);
+    xform->Transform(base::span<ColorTransform::TriStim, 1>(&val), 1,
+                     runtime_options);
     EXPECT_NEAR(val.x(), 1000.f / ColorSpace::kDefaultSDRWhiteLevel,
                 kMathLargeEpsilon);
   }
```

## Build Failure Log

```
Proxy started successfully.

14.19s Build Failure: 43 done 1 failed 17589 remaining - 3.03/s
 1 steps failed: reproxy error: exit=1
see ./out/linux/siso_output for full command line and output
 or ./out/linux/siso.INFO
use ./out/linux/siso_failed_commands.sh to re-run failed commands
RBE Stats: down 79.58 KB, up 0 B, 1 cache hit, 2 racing locals, 10 local failures, 1 non zero exit

real	0m14.647s
user	2m15.966s
sys	1m1.768s
ninja: Entering directory `out/linux'


loading fs state done 946.813555ms
loading/recompacting deps log done 1.016048342s
load siso config done 85.553535ms
load build.ninja done 1.021027525s
schedule pending:0+ready:1 (node:310459 edge:2)

build start: Ready 1 Pending 1
rebuild manifest finished	
schedule pending:0+ready:1 (node:310459 edge:9)

build start: Ready 15286 Pending 102624
[0/66406] 7.85s S CXX obj/ui/gfx/color_space/color_transform.o
[0/66113] 7.88s S CXX obj/ui/gfx/color_space/color_conversion_sk_filter_cache.o
[0/57342] 8.52s S CXX obj/services/network/network_service/orb_sniffers.o
[0/43763] 10.10s F CXX obj/services/network/network_service/orb_sniffers.o
[1/42840] 10.29s F CXX obj/ui/gfx/color_space/color_transform.o
[2/41194] 10.39s S CXX obj/media/base/unit_tests/video_color_space_unittest.o
[2/40579] 10.58s F CXX obj/ui/gfx/color_space/color_conversion_sk_filter_cache.o
[3/40572] 10.58s S SOLINK ./libui_gfx_color_space.so
[3/40385] 10.66s F SOLINK ./libui_gfx_color_space.so
[4/40382] 10.66s S SOLINK ./libgfx_ipc_color.so
[4/40378] 10.66s S SOLINK ./libdisplay_types.so
[4/40073] 10.74s F SOLINK ./libgfx_ipc_color.so
[5/40073] 10.74s F SOLINK ./libdisplay_types.so
[6/40064] 10.74s S SOLINK ./libui_linux_linux_ui.so
[6/40056] 10.74s S SOLINK ./libdisplay_util.so
[6/39888] 10.81s F SOLINK ./libdisplay_util.so
[7/39888] 10.81s F SOLINK ./libui_linux_linux_ui.so
[8/39888] 10.81s S SOLINK ./libui_gfx_animation.so
[8/39574] 10.89s F SOLINK ./libui_gfx_animation.so
[9/39571] 10.89s S SOLINK ./libcc_base.so
[9/39571] 10.89s S SOLINK ./libui_gfx_animation_keyframe.so
[9/39188] 10.97s F SOLINK ./libui_gfx_animation_keyframe.so
[10/39187] 10.97s F SOLINK ./libcc_base.so
[11/39179] 10.97s S SOLINK ./libviz_shared_image_format.so
[11/39179] 10.97s S SOLINK ./libcc_paint.so
[11/36102] 11.47s F SOLINK ./libcc_paint.so
[12/35450] 11.55s S CXX obj/components/viz/test/test_support/gl_scaler_test_util.o
[12/35330] 11.60s F SOLINK ./libviz_shared_image_format.so
[13/34364] 12.00s S CXX obj/components/viz/service/unit_tests/video_capture_overlay_unittest.o
[13/32479] 12.08s S CXX obj/third_party/blink/renderer/platform/image-decoders/unit_tests/crabbyavif_image_decoder_test.o
[13/32123] 12.09s S CXX obj/components/viz/service/unit_tests/readback_pixeltest.o
[13/31641] 12.12s S CXX obj/components/viz/service/service/skia_renderer.o
[13/31632] 12.12s S CXX obj/components/viz/service/unit_tests/renderer_pixeltest.o
[13/29191] 12.22s S SOLINK ./libui_gfx.so
[13/26713] 12.36s F SOLINK ./libui_gfx.so
[14/26696] 12.36s S SOLINK ./libgfx_native_types_shared_mojom_traits.so
[14/26696] 12.36s S SOLINK ./libui_lottie.so
[14/26681] 12.36s S LINK ./paint_vector_icon_fuzztest
[14/26461] 12.38s S SOLINK ./libui_events_devices.so
[14/26460] 12.38s S SOLINK ./libui_events_velocity_tracker.so
[14/26456] 12.38s S SOLINK ./libcomponents_url_matcher.so
[14/26456] 12.38s S SOLINK ./libui_display.so
[14/26456] 12.38s S LINK ./skia_unittests
[14/26394] 12.39s S SOLINK ./libui_base_data_exchange.so
[14/26392] 12.39s S SOLINK ./libprinting_printing_base.so
[14/26392] 12.39s S SOLINK ./libAPP_TYPES.so
[14/26392] 12.39s S LINK ./format_url
[14/26392] 12.39s S SOLINK ./libmedia_capture_capture_base.so
[14/26373] 12.39s S SOLINK ./libcomponents_user_manager.so
[14/26367] 12.39s S CXX obj/components/viz/service/service/frame_sink_video_capturer_impl.o
[14/26213] 12.43s S SOLINK ./libgpu_config_vulkan_info.so
[14/26213] 12.43s S SOLINK ./libui_gfx_linux_gpu_memory_buffer_support_x11.so
[14/25966] 12.47s F SOLINK ./libui_events_velocity_tracker.so
[15/25964] 12.47s F SOLINK ./libgfx_native_types_shared_mojom_traits.so
[16/25963] 12.47s F SOLINK ./libui_base_data_exchange.so
[17/25963] 12.47s F SOLINK ./libmedia_capture_capture_base.so
[18/25959] 12.47s F SOLINK ./libprinting_printing_base.so
[19/25956] 12.47s S SOLINK ./libprinting_settings.so
[19/25955] 12.47s F SOLINK ./libui_lottie.so
[20/25953] 12.47s F SOLINK ./libAPP_TYPES.so
[21/25941] 12.48s F LINK ./format_url
[22/25939] 12.48s F SOLINK ./libui_display.so
[23/25923] 12.49s F SOLINK ./libui_events_devices.so
[24/25912] 12.49s S SOLINK ./libevents_devices_x11.so
[24/25888] 12.50s F SOLINK ./libcomponents_url_matcher.so
[25/25881] 12.50s F SOLINK ./libcomponents_user_manager.so
[26/25880] 12.50s F LINK ./paint_vector_icon_fuzztest
[27/25848] 12.52s F SOLINK ./libui_gfx_linux_gpu_memory_buffer_support_x11.so
[28/25846] 12.52s S SOLINK ./libui_events_gesture_detection.so
[28/25843] 12.53s F SOLINK ./libgpu_config_vulkan_info.so
[29/25557] 12.55s F SOLINK ./libprinting_settings.so
[30/25511] 12.56s F LINK ./skia_unittests
[31/25472] 12.57s S SOLINK ./liblatency_shared_mojom_traits.so
[31/25455] 12.58s F SOLINK ./libevents_devices_x11.so
[32/25197] 12.61s S SOLINK ./libprinting_backend.so
[32/25013] 12.62s S CXX obj/ui/gfx/gfx_unittests/color_transform_unittest.o
[32/24899] 12.63s F SOLINK ./libui_events_gesture_detection.so
[33/24605] 12.66s F SOLINK ./liblatency_shared_mojom_traits.so
[34/24473] 12.68s S SOLINK ./libevents_x.so
[34/24441] 12.69s F SOLINK ./libprinting_backend.so
[35/24433] 12.70s S SOLINK ./libgfx_ipc.so
[35/24359] 12.70s S CXX obj/components/viz/service/unit_tests/frame_sink_video_capturer_impl_unittest.o
[35/24343] 12.71s S SOLINK ./libgfx_shared_mojom_traits.so
[35/24060] 12.75s S CXX obj/components/viz/service/service/video_capture_overlay.o
[35/24008] 12.76s F SOLINK ./libevents_x.so
[36/23984] 12.76s S SOLINK ./libui_events.so
[36/23948] 12.78s F SOLINK ./libgfx_ipc.so
[37/23948] 12.78s S SOLINK ./libgfx_ipc_skia.so
[37/23667] 12.81s F SOLINK ./libgfx_shared_mojom_traits.so
[38/23546] 12.82s S SOLINK ./libcomponents_manta.so
[38/23546] 12.82s S SOLINK ./libcomponents_drive.so
[38/23365] 12.86s F SOLINK ./libgfx_ipc_skia.so
[39/23320] 12.87s F SOLINK ./libui_events.so
[40/23302] 12.87s S SOLINK ./libui_base_ime_types.so
[40/23293] 12.87s S SOLINK ./libx11_events_platform.so
[40/23293] 12.87s S SOLINK ./libevents_ozone.so
[40/23293] 12.87s S SOLINK ./libui_base.so
[40/22438] 12.97s F SOLINK ./libui_base_ime_types.so
[41/22438] 12.98s F SOLINK ./libevents_ozone.so
[42/22435] 13.05s F CXX obj/media/base/unit_tests/video_color_space_unittest.o	
FAILED: 8a129c1e-1f6b-419e-a8b4-fdc81aab9cd5 "./obj/media/base/unit_tests/video_color_space_unittest.o" CXX obj/media/base/unit_tests/video_color_space_unittest.o
err: reproxy error: exit=1
../../buildtools/reclient/rewrapper -cfg=../../buildtools/reclient_cfgs/chromium-browser-clang/rewrapper_linux.cfg -inputs=build/config/unsafe_buffers_paths.txt -exec_root=/usr/local/google/home/nuskos/chromium-team/chromium/src/ ../../third_party/llvm-build/Release+Asserts/bin/clang++ -MMD -MF obj/media/base/unit_tests/video_color_space_unittest.o.d -DDCHECK_ALWAYS_ON=1 -DUSE_UDEV -DUSE_AURA=1 -DUSE_GLIB=1 -DUSE_OZONE=1 -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_GNU_SOURCE -DCR_CLANG_REVISION=\"llvmorg-21-init-1655-g7b473dfe-1\" -D_LIBCPP_HARDENING_MODE=_LIBCPP_HARDENING_MODE_EXTENSIVE -DCOMPONENT_BUILD -D_LIBCPP_INSTRUMENTED_WITH_ASAN=0 -DCR_LIBCXX_REVISION=4f05e20cbe1d02fa0871ac88b30eead9e38cab3a -DTMP_REBUILD_HACK -DCR_SYSROOT_KEY=20250129T203412Z-1 -D_DEBUG -DDYNAMIC_ANNOTATIONS_ENABLED=1 -DUSE_PULSEAUDIO -DDLOPEN_PULSEAUDIO -DGLIB_VERSION_MAX_ALLOWED=GLIB_VERSION_2_56 -DGLIB_VERSION_MIN_REQUIRED=GLIB_VERSION_2_56 -DSK_ENABLE_SKSL -DSK_UNTIL_CRBUG_1187654_IS_FIXED -DSK_USER_CONFIG_HEADER=\"../../skia/config/SkUserConfig.h\" -DSK_WIN_FONTMGR_NO_SIMULATIONS -DSK_DISABLE_LEGACY_INIT_DECODERS -DSK_CODEC_DECODES_JPEG -DSK_CODEC_ENCODES_JPEG -DSKIA_DLL -DSKCMS_API=__attribute__\(\(visibility\(\"default\"\)\)\) -DSK_GAMMA_EXPONENT=1.2 -DSK_GAMMA_CONTRAST=0.2 -DSK_GANESH -DSK_GPU_WORKAROUNDS_HEADER=\"gpu/config/gpu_driver_bug_workaround_autogen.h\" -DSK_GL -DSK_VULKAN=1 -DSK_GRAPHITE -DSK_DAWN -DVK_USE_PLATFORM_XCB_KHR -DVK_USE_PLATFORM_WAYLAND_KHR -DCHROMIUM -DLIBYUV_DISABLE_NEON -DLIBYUV_DISABLE_SVE -DLIBYUV_DISABLE_SME -DLIBYUV_DISABLE_LSX -DLIBYUV_DISABLE_LASX -DCR_CXX_INCLUDE=\"third_party/rust/chromium_crates_io/vendor/cxx-1.0.146/include/cxx.h\" -DABSL_CONSUME_DLL -DABSL_FLAGS_STRIP_NAMES=0 -DBORINGSSL_SHARED_LIBRARY -DU_USING_ICU_NAMESPACE=0 -DU_ENABLE_DYLOAD=0 -DUSE_CHROMIUM_ICU=1 -DU_ENABLE_TRACING=1 -DU_ENABLE_RESOURCE_TRACING=0 -DICU_UTIL_DATA_IMPL=ICU_UTIL_DATA_FILE -DGTEST_API_= -DGTEST_HAS_POSIX_RE=0 -DGTEST_LANG_CXX11=1 -DGTEST_HAS_TR1_TUPLE=0 -DGTEST_HAS_ABSL -DGTEST_NO_ABSL_FLAGS -DUNIT_TEST -DWGPU_SHARED_LIBRARY -DCRASHPAD_ZLIB_SOURCE_EXTERNAL -DGOOGLE_PROTOBUF_NO_RTTI -DHAVE_PTHREAD -DPROTOBUF_USE_DLLS -DLEVELDB_PLATFORM_CHROMIUM=1 -DLEVELDB_SHARED_LIBRARY -I../.. -Igen -I../../buildtools/third_party/libc++ -I../../third_party/perfetto/include -Igen/third_party/perfetto/build_config -Igen/third_party/perfetto -I../../third_party/google_benchmark/src/include -I../../net/third_party/quiche/overrides -I../../net/third_party/quiche/src/quiche/common/platform/default -I../../net/third_party/quiche/src -I../../third_party/skia -Igen/third_party/skia -I../../third_party/wuffs/src/release/c -I../../third_party/vulkan/include -I../../third_party/vulkan-headers/src/include -I../../third_party/wayland/src/src -I../../third_party/wayland/include/src -Igen/third_party/dawn/include -I../../third_party/dawn/include -I../../third_party/khronos -I../../gpu -I../../third_party/libyuv/include -I../../base/allocator/partition_allocator/src -Igen/base/allocator/partition_allocator/src -I../../third_party/abseil-cpp -I../../third_party/boringssl/src/include -I../../third_party/protobuf/src -I../../third_party/ced/src -I../../third_party/icu/source/common -I../../third_party/icu/source/i18n -I../../third_party/googletest/custom -I../../third_party/googletest/src/googlemock/include -I../../third_party/googletest/src/googletest/include -I../../third_party/re2/src -I../../third_party/ipcz/include -I../../third_party/crashpad/crashpad -I../../third_party/crashpad/crashpad/compat/linux -I../../third_party/crashpad/crashpad/compat/non_win -I../../third_party/zlib -I../../third_party/angle/include -I../../third_party/mesa_headers -I../../third_party/libwebm/source -I../../third_party/leveldatabase -I../../third_party/leveldatabase/src -I../../third_party/leveldatabase/src/include -I../../third_party/libaom/source/libaom -I../../third_party/libaom/source/config/linux/x64 -Igen/net/third_party/quiche/src -Wall -Wextra -Wimplicit-fallthrough -Wextra-semi -Wunreachable-code-aggressive -Wthread-safety -Wgnu -Wno-gnu-anonymous-struct -Wno-gnu-conditional-omitted-operand -Wno-gnu-include-next -Wno-gnu-label-as-value -Wno-gnu-redeclared-enum -Wno-gnu-statement-expression -Wno-gnu-zero-variadic-macro-arguments -Wno-zero-length-array -Wno-missing-field-initializers -Wno-unused-parameter -Wno-psabi -Wloop-analysis -Wno-unneeded-internal-declaration -Wno-cast-function-type -Wno-thread-safety-reference-return -Wno-nontrivial-memcall -Wshadow -Werror -fno-delete-null-pointer-checks -fno-strict-overflow -fno-ident -fno-strict-aliasing -fstack-protector -funwind-tables -fPIC -pthread -fcolor-diagnostics -fmerge-all-constants -fno-sized-deallocation -fcrash-diagnostics-dir=../../tools/clang/crashreports -mllvm -instcombine-lower-dbg-declare=0 -mllvm -split-threshold-for-reg-with-hint=0 -ffp-contract=off -Wa,--crel,--allow-experimental-crel -fcomplete-member-pointers -m64 -msse3 -Wno-builtin-macro-redefined -D__DATE__= -D__TIME__= -D__TIMESTAMP__= -ffile-compilation-dir=. -no-canonical-prefixes -ftrivial-auto-var-init=pattern -O0 -fno-omit-frame-pointer -gdwarf-4 -g2 -gdwarf-aranges -gsplit-dwarf -ggnu-pubnames -Xclang -fuse-ctor-homing -fvisibility=hidden -Wheader-hygiene -Wstring-conversion -Wtautological-overlap-compare -Xclang -add-plugin -Xclang find-bad-constructs -Xclang -plugin-arg-find-bad-constructs -Xclang span-ctor-from-string-literal -Xclang -plugin-arg-find-bad-constructs -Xclang raw-ref-template-as-trivial-member -Xclang -plugin-arg-find-bad-constructs -Xclang raw-span-template-as-trivial-member -Xclang -plugin-arg-find-bad-constructs -Xclang check-stack-allocated -Xclang -plugin-arg-find-bad-constructs -Xclang check-ipc -Xclang -add-plugin -Xclang raw-ptr-plugin -Xclang -plugin-arg-raw-ptr-plugin -Xclang check-raw-ptr-to-stack-allocated -Xclang -plugin-arg-raw-ptr-plugin -Xclang disable-check-raw-ptr-to-stack-allocated-error -Xclang -plugin-arg-raw-ptr-plugin -Xclang raw-ptr-exclude-path=../../third_party/dawn/ -Xclang -plugin-arg-raw-ptr-plugin -Xclang check-raw-ptr-fields -Xclang -plugin-arg-raw-ptr-plugin -Xclang check-span-fields -Xclang -plugin-arg-raw-ptr-plugin -Xclang check-raw-ref-fields -DUNSAFE_BUFFERS_BUILD -Xclang -add-plugin -Xclang unsafe-buffers -Xclang -plugin-arg-unsafe-buffers -Xclang ../../build/config/unsafe_buffers_paths.txt -isystem../../build/linux/debian_bullseye_amd64-sysroot/usr/include/glib-2.0 -isystem../../build/linux/debian_bullseye_amd64-sysroot/usr/lib/x86_64-linux-gnu/glib-2.0/include -Wno-redundant-parens -Wno-redundant-parens -Wno-inconsistent-missing-override -isystem../../build/linux/debian_bullseye_amd64-sysroot/usr/include/nss -isystem../../build/linux/debian_bullseye_amd64-sysroot/usr/include/nspr -Wno-invalid-offsetof -Wenum-compare-conditional -Wno-c++11-narrowing-const-reference -Wno-missing-template-arg-list-after-template-kw -Wno-undefined-bool-conversion -Wno-tautological-undefined-compare -std=c++20 -Wno-trigraphs -gsimple-template-names -fno-exceptions -fno-rtti -nostdinc++ -isystem../../third_party/libc++/src/include -isystem../../third_party/libc++abi/src/include --sysroot=../../build/linux/debian_bullseye_amd64-sysroot -fvisibility-inlines-hidden  -c ../../media/base/video_color_space_unittest.cc -o obj/media/base/unit_tests/video_color_space_unittest.o
build step: cxx "./obj/media/base/unit_tests/video_color_space_unittest.o"
siso_rule: clang/cxx
stderr:
../../media/base/video_color_space_unittest.cc:51:16: error: no matching conversion for functional-style cast from 'gfx::ColorTransform::TriStim *' (aka 'gfx::Point3F *') to 'base::span<gfx::ColorTransform::TriStim, 1>' (aka 'span<gfx::Point3F, 1>')
   51 |   t->Transform(base::span<gfx::ColorTransform::TriStim, 1>(&tmp), 1);
      |                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../../base/containers/span.h:516:13: note: candidate constructor not viable: no known conversion from 'gfx::ColorTransform::TriStim *' (aka 'gfx::Point3F *') to 'std::type_identity_t<element_type> (&)[1]' (aka 'gfx::Point3F (&)[1]') for 1st argument
  516 |   constexpr span(
      |             ^
  517 |       std::type_identity_t<element_type> (&arr LIFETIME_BOUND)[extent]) noexcept
      |       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../../base/containers/span.h:553:13: note: candidate constructor not viable: no known conversion from 'gfx::ColorTransform::TriStim *' (aka 'gfx::Point3F *') to 'const span<Point3F, 1>' for 1st argument
  553 |   constexpr span(const span& other) noexcept = default;
      |             ^    ~~~~~~~~~~~~~~~~~
../../base/containers/span.h:565:13: note: candidate constructor not viable: no known conversion from 'gfx::ColorTransform::TriStim *' (aka 'gfx::Point3F *') to 'span<Point3F, 1>' for 1st argument
  565 |   constexpr span(span&& other) noexcept = default;
      |             ^    ~~~~~~~~~~~~
../../base/containers/span.h:526:35: note: candidate template ignored: constraints not satisfied [with R = gfx::ColorTransform::TriStim *, N = 18446744073709551615]
  526 |   constexpr explicit(N != extent) span(R&& range LIFETIME_BOUND)
      |                                   ^
../../base/containers/span.h:523:14: note: because 'internal::CompatibleRange<element_type, gfx::Point3F *>' evaluated to false
  523 |     requires(internal::CompatibleRange<element_type, R> &&
      |              ^
../../base/containers/span.h:373:5: note: because 'gfx::Point3F *' does not satisfy 'contiguous_range'
  373 |     std::ranges::contiguous_range<R> && std::ranges::sized_range<R> &&
      |     ^
../../third_party/libc++/src/include/__ranges/concepts.h:115:28: note: because 'gfx::Point3F *' does not satisfy 'random_access_range'
  115 | concept contiguous_range = random_access_range<_Tp> && contiguous_iterator<iterator_t<_Tp>> && requires(_Tp& __t) {
      |                            ^
../../third_party/libc++/src/include/__ranges/concepts.h:112:31: note: because 'gfx::Point3F *' does not satisfy 'bidirectional_range'
  112 | concept random_access_range = bidirectional_range<_Tp> && random_access_iterator<iterator_t<_Tp>>;
      |                               ^
../../third_party/libc++/src/include/__ranges/concepts.h:109:31: note: because 'gfx::Point3F *' does not satisfy 'forward_range'
  109 | concept bidirectional_range = forward_range<_Tp> && bidirectional_iterator<iterator_t<_Tp>>;
      |                               ^
../../third_party/libc++/src/include/__ranges/concepts.h:106:25: note: because 'gfx::Point3F *' does not satisfy 'input_range'
  106 | concept forward_range = input_range<_Tp> && forward_iterator<iterator_t<_Tp>>;
      |                         ^
../../third_party/libc++/src/include/__ranges/concepts.h:53:23: note: because 'gfx::Point3F *' does not satisfy 'range'
   53 | concept input_range = range<_Tp> && input_iterator<iterator_t<_Tp>>;
      |                       ^
../../third_party/libc++/src/include/__ranges/concepts.h:48:3: note: because 'ranges::begin(__t)' would be invalid: call to deleted function call operator in type 'const __begin::__fn'
   48 |   ranges::begin(__t); // sometimes equality-preserving
      |   ^
../../base/containers/span.h:537:22: note: candidate template ignored: constraints not satisfied [with R = gfx::ColorTransform::TriStim *, N = 18446744073709551615]
  537 |   constexpr explicit span(R&& range)
      |                      ^
../../base/containers/span.h:533:14: note: because 'internal::CompatibleRange<element_type, gfx::Point3F *>' evaluated to false
  533 |     requires(internal::CompatibleRange<element_type, R> &&
      |              ^
../../base/containers/span.h:373:5: note: because 'gfx::Point3F *' does not satisfy 'contiguous_range'
  373 |     std::ranges::contiguous_range<R> && std::ranges::sized_range<R> &&
      |     ^
../../third_party/libc++/src/include/__ranges/concepts.h:115:28: note: because 'gfx::Point3F *' does not satisfy 'random_access_range'
  115 | concept contiguous_range = random_access_range<_Tp> && contiguous_iterator<iterator_t<_Tp>> && requires(_Tp& __t) {
      |                            ^
../../third_party/libc++/src/include/__ranges/concepts.h:112:31: note: because 'gfx::Point3F *' does not satisfy 'bidirectional_range'
  112 | concept random_access_range = bidirectional_range<_Tp> && random_access_iterator<iterator_t<_Tp>>;
      |                               ^
../../third_party/libc++/src/include/__ranges/concepts.h:109:31: note: because 'gfx::Point3F *' does not satisfy 'forward_range'
  109 | concept bidirectional_range = forward_range<_Tp> && bidirectional_iterator<iterator_t<_Tp>>;
      |                               ^
../../third_party/libc++/src/include/__ranges/concepts.h:106:25: note: because 'gfx::Point3F *' does not satisfy 'input_range'
  106 | concept forward_range = input_range<_Tp> && forward_iterator<iterator_t<_Tp>>;
      |                         ^
../../third_party/libc++/src/include/__ranges/concepts.h:53:23: note: because 'gfx::Point3F *' does not satisfy 'range'
   53 | concept input_range = range<_Tp> && input_iterator<iterator_t<_Tp>>;
      |                       ^
../../third_party/libc++/src/include/__ranges/concepts.h:48:3: note: because 'ranges::begin(__t)' would be invalid: call to deleted function call operator in type 'const __begin::__fn'
   48 |   ranges::begin(__t); // sometimes equality-preserving
      |   ^
../../base/containers/span.h:560:7: note: candidate template ignored: could not match 'span<OtherElementType, OtherExtent, OtherInternalPtrType>' against 'gfx::ColorTransform::TriStim *' (aka 'gfx::Point3F *')
  560 |       span(const span<OtherElementType, OtherExtent, OtherInternalPtrType>&
      |       ^
../../base/containers/span.h:546:22: note: candidate constructor not viable: constraints not satisfied
  546 |   constexpr explicit span(std::initializer_list<value_type> il LIFETIME_BOUND)
      |                      ^
../../base/containers/span.h:547:14: note: because 'std::is_const_v<element_type>' evaluated to false
  547 |     requires(std::is_const_v<element_type>)
      |              ^
../../base/containers/span.h:472:13: note: candidate constructor not viable: requires 0 arguments, but 1 was provided
  472 |   constexpr span() noexcept
      |             ^
../../base/containers/span.h:482:42: note: candidate constructor template not viable: requires 2 arguments, but 1 was provided
  482 |   UNSAFE_BUFFER_USAGE constexpr explicit span(It first,
      |                                          ^    ~~~~~~~~~
  483 |                                               StrictNumeric<size_type> count)
      |                                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../../base/containers/span.h:500:42: note: candidate constructor template not viable: requires 2 arguments, but 1 was provided
  500 |   UNSAFE_BUFFER_USAGE constexpr explicit span(It first, End last)
      |                                          ^    ~~~~~~~~~~~~~~~~~~
../../media/base/video_color_space_unittest.cc:57:16: error: no matching conversion for functional-style cast from 'gfx::ColorTransform::TriStim *' (aka 'gfx::Point3F *') to 'base::span<gfx::ColorTransform::TriStim, 1>' (aka 'span<gfx::Point3F, 1>')
   57 |   t->Transform(base::span<gfx::ColorTransform::TriStim, 1>(&tmp), 1);
      |                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../../base/containers/span.h:516:13: note: candidate constructor not viable: no known conversion from 'gfx::ColorTransform::TriStim *' (aka 'gfx::Point3F *') to 'std::type_identity_t<element_type> (&)[1]' (aka 'gfx::Point3F (&)[1]') for 1st argument
  516 |   constexpr span(
      |             ^
  517 |       std::type_identity_t<element_type> (&arr LIFETIME_BOUND)[extent]) noexcept
      |       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../../base/containers/span.h:553:13: note: candidate constructor not viable: no known conversion from 'gfx::ColorTransform::TriStim *' (aka 'gfx::Point3F *') to 'const span<Point3F, 1>' for 1st argument
  553 |   constexpr span(const span& other) noexcept = default;
      |             ^    ~~~~~~~~~~~~~~~~~
../../base/containers/span.h:565:13: note: candidate constructor not viable: no known conversion from 'gfx::ColorTransform::TriStim *' (aka 'gfx::Point3F *') to 'span<Point3F, 1>' for 1st argument
  565 |   constexpr span(span&& other) noexcept = default;
      |             ^    ~~~~~~~~~~~~
../../base/containers/span.h:526:35: note: candidate template ignored: constraints not satisfied [with R = gfx::ColorTransform::TriStim *, N = 18446744073709551615]
  526 |   constexpr explicit(N != extent) span(R&& range LIFETIME_BOUND)
      |                                   ^
../../base/containers/span.h:523:14: note: because 'internal::CompatibleRange<element_type, gfx::Point3F *>' evaluated to false
  523 |     requires(internal::CompatibleRange<element_type, R> &&
      |              ^
../../base/containers/span.h:373:5: note: because 'gfx::Point3F *' does not satisfy 'contiguous_range'
  373 |     std::ranges::contiguous_range<R> && std::ranges::sized_range<R> &&
      |     ^
../../third_party/libc++/src/include/__ranges/concepts.h:115:28: note: because 'gfx::Point3F *' does not satisfy 'random_access_range'
  115 | concept contiguous_range = random_access_range<_Tp> && contiguous_iterator<iterator_t<_Tp>> && requires(_Tp& __t) {
      |                            ^
../../third_party/libc++/src/include/__ranges/concepts.h:112:31: note: because 'gfx::Point3F *' does not satisfy 'bidirectional_range'
  112 | concept random_access_range = bidirectional_range<_Tp> && random_access_iterator<iterator_t<_Tp>>;
      |                               ^
../../third_party/libc++/src/include/__ranges/concepts.h:109:31: note: because 'gfx::Point3F *' does not satisfy 'forward_range'
  109 | concept bidirectional_range = forward_range<_Tp> && bidirectional_iterator<iterator_t<_Tp>>;
      |                               ^
../../third_party/libc++/src/include/__ranges/concepts.h:106:25: note: because 'gfx::Point3F *' does not satisfy 'input_range'
  106 | concept forward_range = input_range<_Tp> && forward_iterator<iterator_t<_Tp>>;
      |                         ^
../../third_party/libc++/src/include/__ranges/concepts.h:53:23: note: because 'gfx::Point3F *' does not satisfy 'range'
   53 | concept input_range = range<_Tp> && input_iterator<iterator_t<_Tp>>;
      |                       ^
../../third_party/libc++/src/include/__ranges/concepts.h:48:3: note: because 'ranges::begin(__t)' would be invalid: call to deleted function call operator in type 'const __begin::__fn'
   48 |   ranges::begin(__t); // sometimes equality-preserving
      |   ^
../../base/containers/span.h:537:22: note: candidate template ignored: constraints not satisfied [with R = gfx::ColorTransform::TriStim *, N = 18446744073709551615]
  537 |   constexpr explicit span(R&& range)
      |                      ^
../../base/containers/span.h:533:14: note: because 'internal::CompatibleRange<element_type, gfx::Point3F *>' evaluated to false
  533 |     requires(internal::CompatibleRange<element_type, R> &&
      |              ^
../../base/containers/span.h:373:5: note: because 'gfx::Point3F *' does not satisfy 'contiguous_range'
  373 |     std::ranges::contiguous_range<R> && std::ranges::sized_range<R> &&
      |     ^
../../third_party/libc++/src/include/__ranges/concepts.h:115:28: note: because 'gfx::Point3F *' does not satisfy 'random_access_range'
  115 | concept contiguous_range = random_access_range<_Tp> && contiguous_iterator<iterator_t<_Tp>> && requires(_Tp& __t) {
      |                            ^
../../third_party/libc++/src/include/__ranges/concepts.h:112:31: note: because 'gfx::Point3F *' does not satisfy 'bidirectional_range'
  112 | concept random_access_range = bidirectional_range<_Tp> && random_access_iterator<iterator_t<_Tp>>;
      |                               ^
../../third_party/libc++/src/include/__ranges/concepts.h:109:31: note: because 'gfx::Point3F *' does not satisfy 'forward_range'
  109 | concept bidirectional_range = forward_range<_Tp> && bidirectional_iterator<iterator_t<_Tp>>;
      |                               ^
../../third_party/libc++/src/include/__ranges/concepts.h:106:25: note: because 'gfx::Point3F *' does not satisfy 'input_range'
  106 | concept forward_range = input_range<_Tp> && forward_iterator<iterator_t<_Tp>>;
      |                         ^
../../third_party/libc++/src/include/__ranges/concepts.h:53:23: note: because 'gfx::Point3F *' does not satisfy 'range'
   53 | concept input_range = range<_Tp> && input_iterator<iterator_t<_Tp>>;
      |                       ^
../../third_party/libc++/src/include/__ranges/concepts.h:48:3: note: because 'ranges::begin(__t)' would be invalid: call to deleted function call operator in type 'const __begin::__fn'
   48 |   ranges::begin(__t); // sometimes equality-preserving
      |   ^
../../base/containers/span.h:560:7: note: candidate template ignored: could not match 'span<OtherElementType, OtherExtent, OtherInternalPtrType>' against 'gfx::ColorTransform::TriStim *' (aka 'gfx::Point3F *')
  560 |       span(const span<OtherElementType, OtherExtent, OtherInternalPtrType>&
      |       ^
../../base/containers/span.h:546:22: note: candidate constructor not viable: constraints not satisfied
  546 |   constexpr explicit span(std::initializer_list<value_type> il LIFETIME_BOUND)
      |                      ^
../../base/containers/span.h:547:14: note: because 'std::is_const_v<element_type>' evaluated to false
  547 |     requires(std::is_const_v<element_type>)
      |              ^
../../base/containers/span.h:472:13: note: candidate constructor not viable: requires 0 arguments, but 1 was provided
  472 |   constexpr span() noexcept
      |             ^
../../base/containers/span.h:482:42: note: candidate constructor template not viable: requires 2 arguments, but 1 was provided
  482 |   UNSAFE_BUFFER_USAGE constexpr explicit span(It first,
      |                                          ^    ~~~~~~~~~
  483 |                                               StrictNumeric<size_type> count)
      |                                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../../base/containers/span.h:500:42: note: candidate constructor template not viable: requires 2 arguments, but 1 was provided
  500 |   UNSAFE_BUFFER_USAGE constexpr explicit span(It first, End last)
      |                                          ^    ~~~~~~~~~~~~~~~~~~
../../media/base/video_color_space_unittest.cc:64:16: error: no matching conversion for functional-style cast from 'gfx::ColorTransform::TriStim *' (aka 'gfx::Point3F *') to 'base::span<gfx::ColorTransform::TriStim, 1>' (aka 'span<gfx::Point3F, 1>')
   64 |   t->Transform(base::span<gfx::ColorTransform::TriStim, 1>(&tmp), 1);
      |                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../../base/containers/span.h:516:13: note: candidate constructor not viable: no known conversion from 'gfx::ColorTransform::TriStim *' (aka 'gfx::Point3F *') to 'std::type_identity_t<element_type> (&)[1]' (aka 'gfx::Point3F (&)[1]') for 1st argument
  516 |   constexpr span(
      |             ^
  517 |       std::type_identity_t<element_type> (&arr LIFETIME_BOUND)[extent]) noexcept
      |       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../../base/containers/span.h:553:13: note: candidate constructor not viable: no known conversion from 'gfx::ColorTransform::TriStim *' (aka 'gfx::Point3F *') to 'const span<Point3F, 1>' for 1st argument
  553 |   constexpr span(const span& other) noexcept = default;
      |             ^    ~~~~~~~~~~~~~~~~~
../../base/containers/span.h:565:13: note: candidate constructor not viable: no known conversion from 'gfx::ColorTransform::TriStim *' (aka 'gfx::Point3F *') to 'span<Point3F, 1>' for 1st argument
  565 |   constexpr span(span&& other) noexcept = default;
      |             ^    ~~~~~~~~~~~~
../../base/containers/span.h:526:35: note: candidate template ignored: constraints not satisfied [with R = gfx::ColorTransform::TriStim *, N = 18446744073709551615]
  526 |   constexpr explicit(N != extent) span(R&& range LIFETIME_BOUND)
      |                                   ^
../../base/containers/span.h:523:14: note: because 'internal::CompatibleRange<element_type, gfx::Point3F *>' evaluated to false
  523 |     requires(internal::CompatibleRange<element_type, R> &&
      |              ^
../../base/containers/span.h:373:5: note: because 'gfx::Point3F *' does not satisfy 'contiguous_range'
  373 |     std::ranges::contiguous_range<R> && std::ranges::sized_range<R> &&
      |     ^
../../third_party/libc++/src/include/__ranges/concepts.h:115:28: note: because 'gfx::Point3F *' does not satisfy 'random_access_range'
  115 | concept contiguous_range = random_access_range<_Tp> && contiguous_iterator<iterator_t<_Tp>> && requires(_Tp& __t) {
      |                            ^
../../third_party/libc++/src/include/__ranges/concepts.h:112:31: note: because 'gfx::Point3F *' does not satisfy 'bidirectional_range'
  112 | concept random_access_range = bidirectional_range<_Tp> && random_access_iterator<iterator_t<_Tp>>;
      |                               ^
../../third_party/libc++/src/include/__ranges/concepts.h:109:31: note: because 'gfx::Point3F *' does not satisfy 'forward_range'
  109 | concept bidirectional_range = forward_range<_Tp> && bidirectional_iterator<iterator_t<_Tp>>;
      |                               ^
../../third_party/libc++/src/include/__ranges/concepts.h:106:25: note: because 'gfx::Point3F *' does not satisfy 'input_range'
  106 | concept forward_range = input_range<_Tp> && forward_iterator<iterator_t<_Tp>>;
      |                         ^
../../third_party/libc++/src/include/__ranges/concepts.h:53:23: note: because 'gfx::Point3F *' does not satisfy 'range'
   53 | concept input_range = range<_Tp> && input_iterator<iterator_t<_Tp>>;
      |                       ^
../../third_party/libc++/src/include/__ranges/concepts.h:48:3: note: because 'ranges::begin(__t)' would be invalid: call to deleted function call operator in type 'const __begin::__fn'
   48 |   ranges::begin(__t); // sometimes equality-preserving
      |   ^
../../base/containers/span.h:537:22: note: candidate template ignored: constraints not satisfied [with R = gfx::ColorTransform::TriStim *, N = 18446744073709551615]
  537 |   constexpr explicit span(R&& range)
      |                      ^
../../base/containers/span.h:533:14: note: because 'internal::CompatibleRange<element_type, gfx::Point3F *>' evaluated to false
  533 |     requires(internal::CompatibleRange<element_type, R> &&
      |              ^
../../base/containers/span.h:373:5: note: because 'gfx::Point3F *' does not satisfy 'contiguous_range'
  373 |     std::ranges::contiguous_range<R> && std::ranges::sized_range<R> &&
      |     ^
../../third_party/libc++/src/include/__ranges/concepts.h:115:28: note: because 'gfx::Point3F *' does not satisfy 'random_access_range'
  115 | concept contiguous_range = random_access_range<_Tp> && contiguous_iterator<iterator_t<_Tp>> && requires(_Tp& __t) {
      |                            ^
../../third_party/libc++/src/include/__ranges/concepts.h:112:31: note: because 'gfx::Point3F *' does not satisfy 'bidirectional_range'
  112 | concept random_access_range = bidirectional_range<_Tp> && random_access_iterator<iterator_t<_Tp>>;
      |                               ^
../../third_party/libc++/src/include/__ranges/concepts.h:109:31: note: because 'gfx::Point3F *' does not satisfy 'forward_range'
  109 | concept bidirectional_range = forward_range<_Tp> && bidirectional_iterator<iterator_t<_Tp>>;
      |                               ^
../../third_party/libc++/src/include/__ranges/concepts.h:106:25: note: because 'gfx::Point3F *' does not satisfy 'input_range'
  106 | concept forward_range = input_range<_Tp> && forward_iterator<iterator_t<_Tp>>;
      |                         ^
../../third_party/libc++/src/include/__ranges/concepts.h:53:23: note: because 'gfx::Point3F *' does not satisfy 'range'
   53 | concept input_range = range<_Tp> && input_iterator<iterator_t<_Tp>>;
      |                       ^
../../third_party/libc++/src/include/__ranges/concepts.h:48:3: note: because 'ranges::begin(__t)' would be invalid: call to deleted function call operator in type 'const __begin::__fn'
   48 |   ranges::begin(__t); // sometimes equality-preserving
      |   ^
../../base/containers/span.h:560:7: note: candidate template ignored: could not match 'span<OtherElementType, OtherExtent, OtherInternalPtrType>' against 'gfx::ColorTransform::TriStim *' (aka 'gfx::Point3F *')
  560 |       span(const span<OtherElementType, OtherExtent, OtherInternalPtrType>&
      |       ^
../../base/containers/span.h:546:22: note: candidate constructor not viable: constraints not satisfied
  546 |   constexpr explicit span(std::initializer_list<value_type> il LIFETIME_BOUND)
      |                      ^
../../base/containers/span.h:547:14: note: because 'std::is_const_v<element_type>' evaluated to false
  547 |     requires(std::is_const_v<element_type>)
      |              ^
../../base/containers/span.h:472:13: note: candidate constructor not viable: requires 0 arguments, but 1 was provided
  472 |   constexpr span() noexcept
      |             ^
../../base/containers/span.h:482:42: note: candidate constructor template not viable: requires 2 arguments, but 1 was provided
  482 |   UNSAFE_BUFFER_USAGE constexpr explicit span(It first,
      |                                          ^    ~~~~~~~~~
  483 |                                               StrictNumeric<size_type> count)
      |                                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../../base/containers/span.h:500:42: note: candidate constructor template not viable: requires 2 arguments, but 1 was provided
  500 |   UNSAFE_BUFFER_USAGE constexpr explicit span(It first, End last)
      |                                          ^    ~~~~~~~~~~~~~~~~~~
3 errors generated.


[43/22435] 13.05s F CXX obj/third_party/blink/renderer/platform/image-decoders/unit_tests/crabbyavif_image_decoder_test.o
[43/22435] 13.05s F CXX obj/components/viz/service/unit_tests/readback_pixeltest.o
[43/22435] 13.05s F CXX obj/components/viz/service/service/frame_sink_video_capturer_impl.o
[43/22435] 13.05s F CXX obj/components/viz/service/service/skia_renderer.o
[43/22435] 13.05s F CXX obj/components/viz/service/service/video_capture_overlay.o
[43/22435] 13.05s F CXX obj/ui/gfx/gfx_unittests/color_transform_unittest.o
[43/22435] 13.05s F CXX obj/components/viz/service/unit_tests/video_capture_overlay_unittest.o
[43/22435] 13.05s F CXX obj/components/viz/test/test_support/gl_scaler_test_util.o
[43/22435] 13.05s F CXX obj/components/viz/service/unit_tests/renderer_pixeltest.o
[43/22435] 13.05s F CXX obj/components/viz/service/unit_tests/frame_sink_video_capturer_impl_unittest.o
[43/21963] 13.12s F SOLINK ./libcomponents_drive.so
[43/21784] 13.14s F SOLINK ./libx11_events_platform.so
[43/20823] 13.21s S LINK ./latency_unittests
[43/20822] 13.21s S SOLINK ./libime_shared_mojom_traits.so
[43/20658] 13.22s F SOLINK ./libime_shared_mojom_traits.so
[43/20538] 13.23s F LINK ./latency_unittests
[43/19802] 13.30s F SOLINK ./libcomponents_manta.so
[43/19321] 13.33s S SOLINK ./libdisplay_shared_mojom_traits.so
[43/19162] 13.35s F SOLINK ./libdisplay_shared_mojom_traits.so
[43/18851] 13.38s F SOLINK ./libui_base.so
build failed	

	

```
