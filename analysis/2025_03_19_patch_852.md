# Build Failure: 2025_03_19_patch_852

## Chromium Revision

`ae47ae4e0c13026d1824b4cf4b9cea834dfd0cf4`

## Code Changes (Diff)

```diff
diff --git a/components/viz/test/gl_scaler_test_util.cc b/components/viz/test/gl_scaler_test_util.cc
index 453ea46d60874..3d44f92eade83 100644
--- a/components/viz/test/gl_scaler_test_util.cc
+++ b/components/viz/test/gl_scaler_test_util.cc
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style license that can be
 // found in the LICENSE file.
 
+#include "base/containers/span.h"
+
 #ifdef UNSAFE_BUFFERS_BUILD
 // TODO(crbug.com/40285824): Remove this and convert code to safer constructs.
 #pragma allow_unsafe_buffers
@@ -498,14 +500,14 @@ GLuint GLScalerTestTextureHelper::UploadTexture(const SkBitmap& bitmap) {
 SkBitmap GLScalerTestTextureHelper::DownloadTexture(GLuint texture,
                                                     const gfx::Size& size) {
   GLuint framebuffer = 0;
-  gl_->GenFramebuffers(1, &framebuffer);
+  gl_->GenFramebuffers(1, base::span<GLuint, 1>(&framebuffer));
   gl_->BindFramebuffer(GL_FRAMEBUFFER, framebuffer);
   gl_->FramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_2D,
                             texture, 0);
   SkBitmap result = GLScalerTestUtil::AllocateRGBABitmap(size);
   gl_->ReadPixels(0, 0, size.width(), size.height(), GL_RGBA, GL_UNSIGNED_BYTE,
                   result.getAddr32(0, 0));
-  gl_->DeleteFramebuffers(1, &framebuffer);
+  gl_->DeleteFramebuffers(1, base::span<GLuint, 1>(&framebuffer));
   return result;
 }
 
diff --git a/components/viz/test/test_gles2_interface.cc b/components/viz/test/test_gles2_interface.cc
index 8996a81fe2706..5f6b880d84041 100644
--- a/components/viz/test/test_gles2_interface.cc
+++ b/components/viz/test/test_gles2_interface.cc
@@ -58,12 +58,14 @@ void TestGLES2Interface::GenBuffers(GLsizei n, GLuint* buffers) {
     buffers[i] = NextBufferId();
 }
 
-void TestGLES2Interface::GenFramebuffers(GLsizei n, GLuint* framebuffers) {
+void TestGLES2Interface::GenFramebuffers(GLsizei n,
+                                         base::span<GLuint> framebuffers) {
   for (int i = 0; i < n; ++i)
     framebuffers[i] = NextFramebufferId();
 }
 
-void TestGLES2Interface::GenRenderbuffers(GLsizei n, GLuint* renderbuffers) {
+void TestGLES2Interface::GenRenderbuffers(GLsizei n,
+                                          base::span<GLuint> renderbuffers) {
   for (int i = 0; i < n; ++i)
     renderbuffers[i] = NextRenderbufferId();
 }
@@ -86,8 +88,9 @@ void TestGLES2Interface::DeleteBuffers(GLsizei n, const GLuint* buffers) {
     RetireBufferId(buffers[i]);
 }
 
-void TestGLES2Interface::DeleteFramebuffers(GLsizei n,
-                                            const GLuint* framebuffers) {
+void TestGLES2Interface::DeleteFramebuffers(
+    GLsizei n,
+    base::span<const GLuint> framebuffers) {
   for (int i = 0; i < n; ++i) {
     if (framebuffers[i]) {
       RetireFramebufferId(framebuffers[i]);
diff --git a/components/viz/test/test_gles2_interface.h b/components/viz/test/test_gles2_interface.h
index 44c8ae1453106..67294aaa8aabd 100644
--- a/components/viz/test/test_gles2_interface.h
+++ b/components/viz/test/test_gles2_interface.h
@@ -18,6 +18,7 @@
 #include "base/containers/contains.h"
 #include "base/containers/flat_map.h"
 #include "base/containers/heap_array.h"
+#include "base/containers/span.h"
 #include "base/functional/callback.h"
 #include "base/memory/raw_ptr.h"
 #include "base/memory/weak_ptr.h"
@@ -39,13 +40,14 @@ class TestGLES2Interface : public gpu::gles2::GLES2InterfaceStub {
   // Overridden from gpu::gles2::GLES2Interface
   void GenTextures(GLsizei n, GLuint* textures) override;
   void GenBuffers(GLsizei n, GLuint* buffers) override;
-  void GenFramebuffers(GLsizei n, GLuint* framebuffers) override;
-  void GenRenderbuffers(GLsizei n, GLuint* renderbuffers) override;
+  void GenFramebuffers(GLsizei n, base::span<GLuint> framebuffers) override;
+  void GenRenderbuffers(GLsizei n, base::span<GLuint> renderbuffers) override;
   void GenQueriesEXT(GLsizei n, GLuint* queries) override;
 
   void DeleteTextures(GLsizei n, const GLuint* textures) override;
   void DeleteBuffers(GLsizei n, const GLuint* buffers) override;
-  void DeleteFramebuffers(GLsizei n, const GLuint* framebuffers) override;
+  void DeleteFramebuffers(GLsizei n,
+                          base::span<const GLuint> framebuffers) override;
   void DeleteQueriesEXT(GLsizei n, const GLuint* queries) override;
 
   GLuint CreateShader(GLenum type) override;
diff --git a/components/viz/test/test_gles2_interface_unittest.cc b/components/viz/test/test_gles2_interface_unittest.cc
index f6f4faad9130c..9bc828df94d5f 100644
--- a/components/viz/test/test_gles2_interface_unittest.cc
+++ b/components/viz/test/test_gles2_interface_unittest.cc
@@ -24,7 +24,7 @@ TEST(TestGLES2InterfaceTest, UseMultipleRenderAndFramebuffers) {
 
   gl->GenRenderbuffers(2, ids);
   EXPECT_NE(ids[0], ids[1]);
-  gl->DeleteRenderbuffers(2, ids);
+  gl->DeleteRenderbuffers(2, ids.data());
 }
 
 }  // namespace
diff --git a/content/web_test/renderer/test_plugin.cc b/content/web_test/renderer/test_plugin.cc
index 6b3e9ab31a54f..31db795c49fa5 100644
--- a/content/web_test/renderer/test_plugin.cc
+++ b/content/web_test/renderer/test_plugin.cc
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style license that can be
 // found in the LICENSE file.
 
+#include "base/containers/span.h"
+
 #ifdef UNSAFE_BUFFERS_BUILD
 // TODO(crbug.com/342213636): Remove this and spanify to fix the errors.
 #pragma allow_unsafe_buffers
@@ -444,7 +446,7 @@ bool TestPlugin::InitScene() {
   float color[4];
   PremultiplyAlpha(scene_.background_color, scene_.opacity, color);
 
-  gl_->GenFramebuffers(1, &framebuffer_);
+  gl_->GenFramebuffers(1, base::span<GLuint, 1>(&framebuffer_));
 
   gl_->Viewport(0, 0, rect_.width(), rect_.height());
   gl_->Disable(GL_DEPTH_TEST);
@@ -506,7 +508,7 @@ void TestPlugin::DestroyScene() {
   }
 
   if (framebuffer_) {
-    gl_->DeleteFramebuffers(1, &framebuffer_);
+    gl_->DeleteFramebuffers(1, base::span<GLuint, 1>(&framebuffer_));
     framebuffer_ = 0;
   }
 
diff --git a/gpu/command_buffer/client/gl_helper.cc b/gpu/command_buffer/client/gl_helper.cc
index 4bdc07751b19f..38241ce530af4 100644
--- a/gpu/command_buffer/client/gl_helper.cc
+++ b/gpu/command_buffer/client/gl_helper.cc
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style license that can be
 // found in the LICENSE file.
 
+#include "base/containers/span.h"
+
 #ifdef UNSAFE_BUFFERS_BUILD
 // TODO(crbug.com/40285824): Remove this and convert code to safer constructs.
 #pragma allow_unsafe_buffers
@@ -845,7 +847,7 @@ GLHelper::CopyTextureToImpl::CreateReadbackPipelineYUV(bool flip_vertically,
       gl_->TexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, kTestSize, kTestSize, 0,
                       GL_RGBA, GL_UNSIGNED_BYTE, nullptr);
       GLuint framebuffer = 0;
-      gl_->GenFramebuffers(1, &framebuffer);
+      gl_->GenFramebuffers(1, base::span<GLuint, 1>(&framebuffer));
       gl_->BindFramebuffer(GL_FRAMEBUFFER, framebuffer);
       gl_->FramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0,
                                 GL_TEXTURE_2D, texture, 0);
@@ -859,7 +861,7 @@ GLHelper::CopyTextureToImpl::CreateReadbackPipelineYUV(bool flip_vertically,
         bgra_preference_ = BGRA_NOT_PREFERRED;
       }
       if (framebuffer != 0)
-        gl_->DeleteFramebuffers(1, &framebuffer);
+        gl_->DeleteFramebuffers(1, base::span<GLuint, 1>(&framebuffer));
       if (texture != 0)
         gl_->DeleteTextures(1, &texture);
     } else {
diff --git a/gpu/command_buffer/client/gles2_implementation_autogen.h b/gpu/command_buffer/client/gles2_implementation_autogen.h
index 96601821fac4c..78b64a8e31112 100644
--- a/gpu/command_buffer/client/gles2_implementation_autogen.h
+++ b/gpu/command_buffer/client/gles2_implementation_autogen.h
@@ -13,6 +13,8 @@
 #ifndef GPU_COMMAND_BUFFER_CLIENT_GLES2_IMPLEMENTATION_AUTOGEN_H_
 #define GPU_COMMAND_BUFFER_CLIENT_GLES2_IMPLEMENTATION_AUTOGEN_H_
 
+#include "base/containers/span.h"
+
 void ActiveTexture(GLenum texture) override;
 
 void AttachShader(GLuint program, GLuint shader) override;
@@ -189,7 +191,8 @@ void CullFace(GLenum mode) override;
 
 void DeleteBuffers(GLsizei n, const GLuint* buffers) override;
 
-void DeleteFramebuffers(GLsizei n, const GLuint* framebuffers) override;
+void DeleteFramebuffers(GLsizei n,
+                        base::span<const GLuint> framebuffers) override;
 
 void DeleteProgram(GLuint program) override;
 
@@ -264,9 +267,9 @@ void GenBuffers(GLsizei n, GLuint* buffers) override;
 
 void GenerateMipmap(GLenum target) override;
 
-void GenFramebuffers(GLsizei n, GLuint* framebuffers) override;
+void GenFramebuffers(GLsizei n, base::span<GLuint> framebuffers) override;
 
-void GenRenderbuffers(GLsizei n, GLuint* renderbuffers) override;
+void GenRenderbuffers(GLsizei n, base::span<GLuint> renderbuffers) override;
 
 void GenSamplers(GLsizei n, GLuint* samplers) override;
 
diff --git a/gpu/command_buffer/client/gles2_implementation_unittest.cc b/gpu/command_buffer/client/gles2_implementation_unittest.cc
index 069a1bf71d396..89742e8aebad8 100644
--- a/gpu/command_buffer/client/gles2_implementation_unittest.cc
+++ b/gpu/command_buffer/client/gles2_implementation_unittest.cc
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style license that can be
 // found in the LICENSE file.
 
+#include "base/containers/span.h"
+
 #ifdef UNSAFE_BUFFERS_BUILD
 // TODO(crbug.com/40285824): Remove this and convert code to safer constructs.
 #pragma allow_unsafe_buffers
@@ -119,7 +121,9 @@ class GenBuffersAPI {
 // API wrapper for Renderbuffers.
 class GenRenderbuffersAPI {
  public:
-  static void Gen(GLES2Implementation* gl_impl, GLsizei n, GLuint* ids) {
+  static void Gen(GLES2Implementation* gl_impl,
+                  GLsizei n,
+                  base::span<GLuint> ids) {
     gl_impl->GenRenderbuffers(n, ids);
   }
 
diff --git a/gpu/command_buffer/client/gles2_implementation_unittest_autogen.h b/gpu/command_buffer/client/gles2_implementation_unittest_autogen.h
index b6df6850908ac..e8bb9051e3e9e 100644
--- a/gpu/command_buffer/client/gles2_implementation_unittest_autogen.h
+++ b/gpu/command_buffer/client/gles2_implementation_unittest_autogen.h
@@ -8,6 +8,8 @@
 //    clang-format -i -style=chromium filename
 // DO NOT EDIT!
 
+#include "base/containers/span.h"
+
 #ifdef UNSAFE_BUFFERS_BUILD
 // TODO(crbug.com/40285824): Remove this and convert code to safer constructs.
 #pragma allow_unsafe_buffers
@@ -399,7 +401,7 @@ TEST_F(GLES2ImplementationTest, DeleteFramebuffers) {
   expected.del.Init(std::size(ids), &ids[0]);
   expected.data[0] = kFramebuffersStartId;
   expected.data[1] = kFramebuffersStartId + 1;
-  gl_->DeleteFramebuffers(std::size(ids), &ids[0]);
+  gl_->DeleteFramebuffers(std::size(ids), ids);
   EXPECT_EQ(0, memcmp(&expected, commands_, sizeof(expected)));
 }
 
@@ -663,7 +665,7 @@ TEST_F(GLES2ImplementationTest, GenFramebuffers) {
   expected.gen.Init(std::size(ids), &ids[0]);
   expected.data[0] = kFramebuffersStartId;
   expected.data[1] = kFramebuffersStartId + 1;
-  gl_->GenFramebuffers(std::size(ids), &ids[0]);
+  gl_->GenFramebuffers(std::size(ids), ids);
   EXPECT_EQ(0, memcmp(&expected, commands_, sizeof(expected)));
   EXPECT_EQ(kFramebuffersStartId, ids[0]);
   EXPECT_EQ(kFramebuffersStartId + 1, ids[1]);
@@ -679,7 +681,7 @@ TEST_F(GLES2ImplementationTest, GenRenderbuffers) {
   expected.gen.Init(std::size(ids), &ids[0]);
   expected.data[0] = kRenderbuffersStartId;
   expected.data[1] = kRenderbuffersStartId + 1;
-  gl_->GenRenderbuffers(std::size(ids), &ids[0]);
+  gl_->GenRenderbuffers(std::size(ids), ids);
   EXPECT_EQ(0, memcmp(&expected, commands_, sizeof(expected)));
   EXPECT_EQ(kRenderbuffersStartId, ids[0]);
   EXPECT_EQ(kRenderbuffersStartId + 1, ids[1]);
diff --git a/gpu/command_buffer/client/gles2_interface_autogen.h b/gpu/command_buffer/client/gles2_interface_autogen.h
index 1440a0a97ce8c..515418a73a440 100644
--- a/gpu/command_buffer/client/gles2_interface_autogen.h
+++ b/gpu/command_buffer/client/gles2_interface_autogen.h
@@ -13,6 +13,8 @@
 #ifndef GPU_COMMAND_BUFFER_CLIENT_GLES2_INTERFACE_AUTOGEN_H_
 #define GPU_COMMAND_BUFFER_CLIENT_GLES2_INTERFACE_AUTOGEN_H_
 
+#include "base/containers/span.h"
+
 virtual void ActiveTexture(GLenum texture) = 0;
 virtual void AttachShader(GLuint program, GLuint shader) = 0;
 virtual void BindAttribLocation(GLuint program,
@@ -149,7 +151,8 @@ virtual GLuint CreateProgram() = 0;
 virtual GLuint CreateShader(GLenum type) = 0;
 virtual void CullFace(GLenum mode) = 0;
 virtual void DeleteBuffers(GLsizei n, const GLuint* buffers) = 0;
-virtual void DeleteFramebuffers(GLsizei n, const GLuint* framebuffers) = 0;
+virtual void DeleteFramebuffers(GLsizei n,
+                                base::span<const GLuint> framebuffers) = 0;
 virtual void DeleteProgram(GLuint program) = 0;
 virtual void DeleteRenderbuffers(GLsizei n, const GLuint* renderbuffers) = 0;
 virtual void DeleteSamplers(GLsizei n, const GLuint* samplers) = 0;
@@ -196,8 +199,8 @@ virtual void FramebufferTextureLayer(GLenum target,
 virtual void FrontFace(GLenum mode) = 0;
 virtual void GenBuffers(GLsizei n, GLuint* buffers) = 0;
 virtual void GenerateMipmap(GLenum target) = 0;
-virtual void GenFramebuffers(GLsizei n, GLuint* framebuffers) = 0;
-virtual void GenRenderbuffers(GLsizei n, GLuint* renderbuffers) = 0;
+virtual void GenFramebuffers(GLsizei n, base::span<GLuint> framebuffers) = 0;
+virtual void GenRenderbuffers(GLsizei n, base::span<GLuint> renderbuffers) = 0;
 virtual void GenSamplers(GLsizei n, GLuint* samplers) = 0;
 virtual void GenTextures(GLsizei n, GLuint* textures) = 0;
 virtual void GenTransformFeedbacks(GLsizei n, GLuint* ids) = 0;
diff --git a/gpu/command_buffer/client/gles2_interface_stub_autogen.h b/gpu/command_buffer/client/gles2_interface_stub_autogen.h
index 9e54dd9bea905..5498db170bf9f 100644
--- a/gpu/command_buffer/client/gles2_interface_stub_autogen.h
+++ b/gpu/command_buffer/client/gles2_interface_stub_autogen.h
@@ -12,6 +12,8 @@
 #ifndef GPU_COMMAND_BUFFER_CLIENT_GLES2_INTERFACE_STUB_AUTOGEN_H_
 #define GPU_COMMAND_BUFFER_CLIENT_GLES2_INTERFACE_STUB_AUTOGEN_H_
 
+#include "base/containers/span.h"
+
 void ActiveTexture(GLenum texture) override;
 void AttachShader(GLuint program, GLuint shader) override;
 void BindAttribLocation(GLuint program,
@@ -146,7 +148,8 @@ GLuint CreateProgram() override;
 GLuint CreateShader(GLenum type) override;
 void CullFace(GLenum mode) override;
 void DeleteBuffers(GLsizei n, const GLuint* buffers) override;
-void DeleteFramebuffers(GLsizei n, const GLuint* framebuffers) override;
+void DeleteFramebuffers(GLsizei n,
+                        base::span<const GLuint> framebuffers) override;
 void DeleteProgram(GLuint program) override;
 void DeleteRenderbuffers(GLsizei n, const GLuint* renderbuffers) override;
 void DeleteSamplers(GLsizei n, const GLuint* samplers) override;
@@ -193,8 +196,8 @@ void FramebufferTextureLayer(GLenum target,
 void FrontFace(GLenum mode) override;
 void GenBuffers(GLsizei n, GLuint* buffers) override;
 void GenerateMipmap(GLenum target) override;
-void GenFramebuffers(GLsizei n, GLuint* framebuffers) override;
-void GenRenderbuffers(GLsizei n, GLuint* renderbuffers) override;
+void GenFramebuffers(GLsizei n, base::span<GLuint> framebuffers) override;
+void GenRenderbuffers(GLsizei n, base::span<GLuint> renderbuffers) override;
 void GenSamplers(GLsizei n, GLuint* samplers) override;
 void GenTextures(GLsizei n, GLuint* textures) override;
 void GenTransformFeedbacks(GLsizei n, GLuint* ids) override;
diff --git a/gpu/command_buffer/client/gles2_interface_stub_impl_autogen.h b/gpu/command_buffer/client/gles2_interface_stub_impl_autogen.h
index b470bec1e464e..37a1055c43701 100644
--- a/gpu/command_buffer/client/gles2_interface_stub_impl_autogen.h
+++ b/gpu/command_buffer/client/gles2_interface_stub_impl_autogen.h
@@ -12,6 +12,8 @@
 #ifndef GPU_COMMAND_BUFFER_CLIENT_GLES2_INTERFACE_STUB_IMPL_AUTOGEN_H_
 #define GPU_COMMAND_BUFFER_CLIENT_GLES2_INTERFACE_STUB_IMPL_AUTOGEN_H_
 
+#include "base/containers/span.h"
+
 void GLES2InterfaceStub::ActiveTexture(GLenum /* texture */) {}
 void GLES2InterfaceStub::AttachShader(GLuint /* program */,
                                       GLuint /* shader */) {}
@@ -168,7 +170,7 @@ void GLES2InterfaceStub::CullFace(GLenum /* mode */) {}
 void GLES2InterfaceStub::DeleteBuffers(GLsizei /* n */,
                                        const GLuint* /* buffers */) {}
 void GLES2InterfaceStub::DeleteFramebuffers(GLsizei /* n */,
-                                            const GLuint* /* framebuffers */) {}
+                                            base::span<const GLuint>) {}
 void GLES2InterfaceStub::DeleteProgram(GLuint /* program */) {}
 void GLES2InterfaceStub::DeleteRenderbuffers(
     GLsizei /* n */,
@@ -228,10 +230,9 @@ void GLES2InterfaceStub::FramebufferTextureLayer(GLenum /* target */,
 void GLES2InterfaceStub::FrontFace(GLenum /* mode */) {}
 void GLES2InterfaceStub::GenBuffers(GLsizei /* n */, GLuint* /* buffers */) {}
 void GLES2InterfaceStub::GenerateMipmap(GLenum /* target */) {}
-void GLES2InterfaceStub::GenFramebuffers(GLsizei /* n */,
-                                         GLuint* /* framebuffers */) {}
-void GLES2InterfaceStub::GenRenderbuffers(GLsizei /* n */,
-                                          GLuint* /* renderbuffers */) {}
+void GLES2InterfaceStub::GenFramebuffers(GLsizei /* n */, base::span<GLuint>) {}
+void GLES2InterfaceStub::GenRenderbuffers(GLsizei /* n */, base::span<GLuint>) {
+}
 void GLES2InterfaceStub::GenSamplers(GLsizei /* n */, GLuint* /* samplers */) {}
 void GLES2InterfaceStub::GenTextures(GLsizei /* n */, GLuint* /* textures */) {}
 void GLES2InterfaceStub::GenTransformFeedbacks(GLsizei /* n */,
diff --git a/gpu/command_buffer/client/gles2_trace_implementation_autogen.h b/gpu/command_buffer/client/gles2_trace_implementation_autogen.h
index 9f9b695b1946a..d5f40bd7832b3 100644
--- a/gpu/command_buffer/client/gles2_trace_implementation_autogen.h
+++ b/gpu/command_buffer/client/gles2_trace_implementation_autogen.h
@@ -12,6 +12,8 @@
 #ifndef GPU_COMMAND_BUFFER_CLIENT_GLES2_TRACE_IMPLEMENTATION_AUTOGEN_H_
 #define GPU_COMMAND_BUFFER_CLIENT_GLES2_TRACE_IMPLEMENTATION_AUTOGEN_H_
 
+#include "base/containers/span.h"
+
 void ActiveTexture(GLenum texture) override;
 void AttachShader(GLuint program, GLuint shader) override;
 void BindAttribLocation(GLuint program,
@@ -146,7 +148,8 @@ GLuint CreateProgram() override;
 GLuint CreateShader(GLenum type) override;
 void CullFace(GLenum mode) override;
 void DeleteBuffers(GLsizei n, const GLuint* buffers) override;
-void DeleteFramebuffers(GLsizei n, const GLuint* framebuffers) override;
+void DeleteFramebuffers(GLsizei n,
+                        base::span<const GLuint> framebuffers) override;
 void DeleteProgram(GLuint program) override;
 void DeleteRenderbuffers(GLsizei n, const GLuint* renderbuffers) override;
 void DeleteSamplers(GLsizei n, const GLuint* samplers) override;
@@ -193,8 +196,8 @@ void FramebufferTextureLayer(GLenum target,
 void FrontFace(GLenum mode) override;
 void GenBuffers(GLsizei n, GLuint* buffers) override;
 void GenerateMipmap(GLenum target) override;
-void GenFramebuffers(GLsizei n, GLuint* framebuffers) override;
-void GenRenderbuffers(GLsizei n, GLuint* renderbuffers) override;
+void GenFramebuffers(GLsizei n, base::span<GLuint> framebuffers) override;
+void GenRenderbuffers(GLsizei n, base::span<GLuint> renderbuffers) override;
 void GenSamplers(GLsizei n, GLuint* samplers) override;
 void GenTextures(GLsizei n, GLuint* textures) override;
 void GenTransformFeedbacks(GLsizei n, GLuint* ids) override;
diff --git a/gpu/command_buffer/client/gles2_trace_implementation_impl_autogen.h b/gpu/command_buffer/client/gles2_trace_implementation_impl_autogen.h
index f113a0ad0308f..0446b69fcb627 100644
--- a/gpu/command_buffer/client/gles2_trace_implementation_impl_autogen.h
+++ b/gpu/command_buffer/client/gles2_trace_implementation_impl_autogen.h
@@ -12,6 +12,8 @@
 #ifndef GPU_COMMAND_BUFFER_CLIENT_GLES2_TRACE_IMPLEMENTATION_IMPL_AUTOGEN_H_
 #define GPU_COMMAND_BUFFER_CLIENT_GLES2_TRACE_IMPLEMENTATION_IMPL_AUTOGEN_H_
 
+#include "base/containers/span.h"
+
 void GLES2TraceImplementation::ActiveTexture(GLenum texture) {
   TRACE_EVENT_BINARY_EFFICIENT0("gpu", "GLES2Trace::ActiveTexture");
   gl_->ActiveTexture(texture);
@@ -329,8 +331,9 @@ void GLES2TraceImplementation::DeleteBuffers(GLsizei n, const GLuint* buffers) {
   gl_->DeleteBuffers(n, buffers);
 }
 
-void GLES2TraceImplementation::DeleteFramebuffers(GLsizei n,
-                                                  const GLuint* framebuffers) {
+void GLES2TraceImplementation::DeleteFramebuffers(
+    GLsizei n,
+    base::span<const GLuint> framebuffers) {
   TRACE_EVENT_BINARY_EFFICIENT0("gpu", "GLES2Trace::DeleteFramebuffers");
   gl_->DeleteFramebuffers(n, framebuffers);
 }
@@ -498,14 +501,16 @@ void GLES2TraceImplementation::GenerateMipmap(GLenum target) {
   gl_->GenerateMipmap(target);
 }
 
-void GLES2TraceImplementation::GenFramebuffers(GLsizei n,
-                                               GLuint* framebuffers) {
+void GLES2TraceImplementation::GenFramebuffers(
+    GLsizei n,
+    base::span<GLuint> framebuffers) {
   TRACE_EVENT_BINARY_EFFICIENT0("gpu", "GLES2Trace::GenFramebuffers");
   gl_->GenFramebuffers(n, framebuffers);
 }
 
-void GLES2TraceImplementation::GenRenderbuffers(GLsizei n,
-                                                GLuint* renderbuffers) {
+void GLES2TraceImplementation::GenRenderbuffers(
+    GLsizei n,
+    base::span<GLuint> renderbuffers) {
   TRACE_EVENT_BINARY_EFFICIENT0("gpu", "GLES2Trace::GenRenderbuffers");
   gl_->GenRenderbuffers(n, renderbuffers);
 }
diff --git a/gpu/command_buffer/tests/decoder_perftest.cc b/gpu/command_buffer/tests/decoder_perftest.cc
index 120bbd34190e4..d3e6bc0b8005f 100644
--- a/gpu/command_buffer/tests/decoder_perftest.cc
+++ b/gpu/command_buffer/tests/decoder_perftest.cc
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style license that can be
 // found in the LICENSE file.
 
+#include "base/containers/span.h"
+
 #ifdef UNSAFE_BUFFERS_BUILD
 // TODO(crbug.com/40285824): Remove this and convert code to safer constructs.
 #pragma allow_unsafe_buffers
@@ -416,10 +418,10 @@ class DecoderPerfTest : public testing::Test {
   void SetUp() override {
     context_ = std::make_unique<RecordReplayContext>();
     gl_ = context_->gl();
-    gl_->GenRenderbuffers(1, &renderbuffer_);
+    gl_->GenRenderbuffers(1, base::span<GLuint, 1>(&renderbuffer_));
     gl_->BindRenderbuffer(GL_RENDERBUFFER, renderbuffer_);
     gl_->RenderbufferStorage(GL_RENDERBUFFER, GL_RGBA8, 256, 256);
-    gl_->GenFramebuffers(1, &framebuffer_);
+    gl_->GenFramebuffers(1, base::span<GLuint, 1>(&framebuffer_));
     gl_->BindFramebuffer(GL_FRAMEBUFFER, framebuffer_);
     gl_->FramebufferRenderbuffer(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0,
                                  GL_RENDERBUFFER, renderbuffer_);
diff --git a/gpu/command_buffer/tests/gl_helper_benchmark.cc b/gpu/command_buffer/tests/gl_helper_benchmark.cc
index c25989fdb9305..1f7a080cd90a1 100644
--- a/gpu/command_buffer/tests/gl_helper_benchmark.cc
+++ b/gpu/command_buffer/tests/gl_helper_benchmark.cc
@@ -23,6 +23,7 @@
 
 #include "base/at_exit.h"
 #include "base/command_line.h"
+#include "base/containers/span.h"
 #include "base/files/file_util.h"
 #include "base/memory/raw_ptr.h"
 #include "base/run_loop.h"
@@ -123,7 +124,7 @@ TEST_F(GLHelperBenchmark, ScaleBenchmark) {
         uint32_t dst_texture;
         gl_->GenTextures(1, &dst_texture);
         uint32_t framebuffer;
-        gl_->GenFramebuffers(1, &framebuffer);
+        gl_->GenFramebuffers(1, base::span<uint32_t, 1>(&framebuffer));
         const gfx::Size src_size(input_sizes[insize], input_sizes[insize + 1]);
         const gfx::Size dst_size(output_sizes[outsize],
                                  output_sizes[outsize + 1]);
@@ -176,7 +177,7 @@ TEST_F(GLHelperBenchmark, ScaleBenchmark) {
         }
         gl_->DeleteTextures(1, &dst_texture);
         gl_->DeleteTextures(1, &src_texture);
-        gl_->DeleteFramebuffers(1, &framebuffer);
+        gl_->DeleteFramebuffers(1, base::span<uint32_t, 1>(&framebuffer));
 
         std::string name;
         name = base::StringPrintf("scale_%dx%d_to_%dx%d_%s", src_size.width(),
diff --git a/gpu/command_buffer/tests/gl_manager.cc b/gpu/command_buffer/tests/gl_manager.cc
index b72bf92c3b56e..a8e88d641c8e1 100644
--- a/gpu/command_buffer/tests/gl_manager.cc
+++ b/gpu/command_buffer/tests/gl_manager.cc
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style license that can be
 // found in the LICENSE file.
 
+#include "base/containers/span.h"
+
 #ifdef UNSAFE_BUFFERS_BUILD
 // TODO(crbug.com/40285824): Remove this and convert code to safer constructs.
 #pragma allow_unsafe_buffers
@@ -402,14 +404,15 @@ void GLManager::InitializeWithWorkaroundsImpl(
         0, GL_RGBA, GL_UNSIGNED_BYTE, nullptr);
     gles2_implementation_->BindTexture(GL_TEXTURE_2D, 0);
 
-    gles2_implementation_->GenRenderbuffers(1, &depth_stencil);
+    gles2_implementation_->GenRenderbuffers(
+        1, base::span<GLuint, 1>(&depth_stencil));
     gles2_implementation_->BindRenderbuffer(GL_RENDERBUFFER, depth_stencil);
     gles2_implementation_->RenderbufferStorage(
         GL_RENDERBUFFER, GL_DEPTH24_STENCIL8_OES, options.size.width(),
         options.size.height());
     gles2_implementation_->BindRenderbuffer(GL_RENDERBUFFER, 0);
 
-    gles2_implementation_->GenFramebuffers(1, &fbo_);
+    gles2_implementation_->GenFramebuffers(1, base::span<GLuint, 1>(&fbo_));
     gles2_implementation_->BindFramebuffer(GL_FRAMEBUFFER, fbo_);
     gles2_implementation_->FramebufferTexture2D(
         GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_2D, color, 0);
diff --git a/gpu/command_buffer/tests/shared_image_gl_backing_produce_dawn_unittest.cc b/gpu/command_buffer/tests/shared_image_gl_backing_produce_dawn_unittest.cc
index a2feb16bbc00c..989caa69b8fe9 100644
--- a/gpu/command_buffer/tests/shared_image_gl_backing_produce_dawn_unittest.cc
+++ b/gpu/command_buffer/tests/shared_image_gl_backing_produce_dawn_unittest.cc
@@ -2,6 +2,7 @@
 // Use of this source code is governed by a BSD-style license that can be
 // found in the LICENSE file.
 
+#include "base/containers/span.h"
 #include "build/build_config.h"
 #include "components/viz/test/test_gpu_service_holder.h"
 #include "gpu/GLES2/gl2extchromium.h"
@@ -111,7 +112,7 @@ TEST_F(SharedImageGLBackingProduceDawnTest, Basic) {
   auto scoped_access =
       texture->BeginAccess(mailbox_produced_token, /*readonly=*/false);
   GLuint fbo = 0;
-  gl()->GenFramebuffers(1, &fbo);
+  gl()->GenFramebuffers(1, base::span<GLuint, 1>(&fbo));
   gl()->BindFramebuffer(GL_FRAMEBUFFER, fbo);
 
   // Attach the texture to FBO.
diff --git a/gpu/skia_bindings/gles2_implementation_with_grcontext_support.cc b/gpu/skia_bindings/gles2_implementation_with_grcontext_support.cc
index 2ad00f1271286..2d7dc778ce3ba 100644
--- a/gpu/skia_bindings/gles2_implementation_with_grcontext_support.cc
+++ b/gpu/skia_bindings/gles2_implementation_with_grcontext_support.cc
@@ -6,6 +6,7 @@
 
 #include <utility>
 
+#include "base/containers/span.h"
 #include "gpu/skia_bindings/grcontext_for_gles2_interface.h"
 #include "third_party/khronos/GLES2/gl2ext.h"
 #include "third_party/skia/include/gpu/ganesh/GrDirectContext.h"
@@ -79,7 +80,7 @@ void GLES2ImplementationWithGrContextSupport::DiscardFramebufferEXT(
 }
 void GLES2ImplementationWithGrContextSupport::DeleteFramebuffers(
     GLsizei n,
-    const GLuint* framebuffers) {
+    base::span<const GLuint> framebuffers) {
   BaseClass::DeleteFramebuffers(n, framebuffers);
   ResetGrContextIfNeeded(kRenderTarget_GrGLBackendState);
 }
diff --git a/gpu/skia_bindings/gles2_implementation_with_grcontext_support.h b/gpu/skia_bindings/gles2_implementation_with_grcontext_support.h
index dbbbb065ffcef..52c213115d7cd 100644
--- a/gpu/skia_bindings/gles2_implementation_with_grcontext_support.h
+++ b/gpu/skia_bindings/gles2_implementation_with_grcontext_support.h
@@ -2,6 +2,7 @@
 // Use of this source code is governed by a BSD-style license that can be
 // found in the LICENSE file.
 
+#include "base/containers/span.h"
 #include "base/memory/raw_ptr.h"
 #include "gpu/command_buffer/client/gles2_implementation.h"
 
@@ -45,7 +46,8 @@ class GLES2ImplementationWithGrContextSupport
   void DiscardFramebufferEXT(GLenum target,
                              GLsizei count,
                              const GLenum* attachments) override;
-  void DeleteFramebuffers(GLsizei n, const GLuint* framebuffers) override;
+  void DeleteFramebuffers(GLsizei n,
+                          base::span<const GLuint> framebuffers) override;
   void DeleteRenderbuffers(GLsizei n, const GLuint* renderbuffers) override;
   void FramebufferTexture2D(GLenum target,
                             GLenum attachment,
diff --git a/media/renderers/paint_canvas_video_renderer_unittest.cc b/media/renderers/paint_canvas_video_renderer_unittest.cc
index 5b752e817bb7d..2cf403822dc53 100644
--- a/media/renderers/paint_canvas_video_renderer_unittest.cc
+++ b/media/renderers/paint_canvas_video_renderer_unittest.cc
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style license that can be
 // found in the LICENSE file.
 
+#include "base/containers/span.h"
+
 #ifdef UNSAFE_BUFFERS_BUILD
 // TODO(crbug.com/40285824): Remove this and convert code to safer constructs.
 #pragma allow_unsafe_buffers
@@ -89,7 +91,7 @@ static base::HeapArray<uint8_t> ReadbackTexture(gpu::gles2::GLES2Interface* gl,
                                                 const gfx::Size& size) {
   size_t pixel_count = size.width() * size.height();
   GLuint fbo = 0;
-  gl->GenFramebuffers(1, &fbo);
+  gl->GenFramebuffers(1, base::span<GLuint, 1>(&fbo));
   gl->BindFramebuffer(GL_FRAMEBUFFER, fbo);
   gl->FramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_2D,
                            texture, 0);
@@ -97,7 +99,7 @@ static base::HeapArray<uint8_t> ReadbackTexture(gpu::gles2::GLES2Interface* gl,
   uint8_t* raw_pixels = pixels.data();
   gl->ReadPixels(0, 0, size.width(), size.height(), GL_RGBA, GL_UNSIGNED_BYTE,
                  raw_pixels);
-  gl->DeleteFramebuffers(1, &fbo);
+  gl->DeleteFramebuffers(1, base::span<GLuint, 1>(&fbo));
   return pixels;
 }
 
diff --git a/third_party/blink/renderer/modules/webgl/webgl_framebuffer.cc b/third_party/blink/renderer/modules/webgl/webgl_framebuffer.cc
index b07f7e3ceab70..806d6ec22516c 100644
--- a/third_party/blink/renderer/modules/webgl/webgl_framebuffer.cc
+++ b/third_party/blink/renderer/modules/webgl/webgl_framebuffer.cc
@@ -25,6 +25,7 @@
 
 #include "third_party/blink/renderer/modules/webgl/webgl_framebuffer.h"
 
+#include "base/containers/span.h"
 #include "gpu/command_buffer/client/gles2_interface.h"
 #include "third_party/blink/renderer/modules/webgl/webgl_renderbuffer.h"
 #include "third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.h"
@@ -215,7 +216,7 @@ WebGLFramebuffer::WebGLFramebuffer(WebGLRenderingContextBase* ctx, bool opaque)
       opaque_(opaque),
       read_buffer_(GL_COLOR_ATTACHMENT0) {
   if (!ctx->isContextLost()) {
-    ctx->ContextGL()->GenFramebuffers(1, &object_);
+    ctx->ContextGL()->GenFramebuffers(1, base::span<GLuint, 1>(&object_));
   }
 }
 
@@ -434,7 +435,7 @@ void WebGLFramebuffer::DeleteObjectImpl(gpu::gles2::GLES2Interface* gl) {
   }
 
   // "gl" is null-checked at higher levels.
-  gl->DeleteFramebuffers(1, &object_);
+  gl->DeleteFramebuffers(1, base::span<GLuint, 1>(&object_));
   object_ = 0;
 }
 
diff --git a/third_party/blink/renderer/modules/webgl/webgl_renderbuffer.cc b/third_party/blink/renderer/modules/webgl/webgl_renderbuffer.cc
index 68981774d2fb4..ab8c39fc4eef1 100644
--- a/third_party/blink/renderer/modules/webgl/webgl_renderbuffer.cc
+++ b/third_party/blink/renderer/modules/webgl/webgl_renderbuffer.cc
@@ -25,6 +25,7 @@
 
 #include "third_party/blink/renderer/modules/webgl/webgl_renderbuffer.h"
 
+#include "base/containers/span.h"
 #include "gpu/command_buffer/client/gles2_interface.h"
 #include "third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.h"
 
@@ -39,7 +40,7 @@ WebGLRenderbuffer::WebGLRenderbuffer(WebGLRenderingContextBase* ctx)
       has_ever_been_bound_(false) {
   GLuint rbo;
   if (!ctx->isContextLost()) {
-    ctx->ContextGL()->GenRenderbuffers(1, &rbo);
+    ctx->ContextGL()->GenRenderbuffers(1, base::span<GLuint, 1>(&rbo));
     SetObject(rbo);
   }
 }
diff --git a/third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.cc b/third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.cc
index 22f2b7fda1666..1cee71f141dd9 100644
--- a/third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.cc
+++ b/third_party/blink/renderer/modules/webgl/webgl_rendering_context_base.cc
@@ -23,6 +23,8 @@
  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  */
 
+#include "base/containers/span.h"
+
 #ifdef UNSAFE_BUFFERS_BUILD
 // TODO(crbug.com/390223051): Remove C-library calls to fix the errors.
 #pragma allow_unsafe_libc_calls
@@ -5995,7 +5997,7 @@ void WebGLRenderingContextBase::TexImageViaGPU(
 
   if (!possible_direct_copy) {
     GLuint tmp_fbo;
-    ContextGL()->GenFramebuffers(1, &tmp_fbo);
+    ContextGL()->GenFramebuffers(1, base::span<GLuint, 1>(&tmp_fbo));
     ContextGL()->BindFramebuffer(GL_FRAMEBUFFER, tmp_fbo);
     ContextGL()->FramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0,
                                       GL_TEXTURE_2D, target_texture, 0);
@@ -6015,7 +6017,7 @@ void WebGLRenderingContextBase::TexImageViaGPU(
     ContextGL()->FramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0,
                                       GL_TEXTURE_2D, 0, 0);
     RestoreCurrentFramebuffer();
-    ContextGL()->DeleteFramebuffers(1, &tmp_fbo);
+    ContextGL()->DeleteFramebuffers(1, base::span<GLuint, 1>(&tmp_fbo));
     ContextGL()->DeleteTextures(1, &target_texture);
   }
 }
diff --git a/third_party/blink/renderer/platform/graphics/gpu/drawing_buffer.cc b/third_party/blink/renderer/platform/graphics/gpu/drawing_buffer.cc
index db73157ebddfb..c988542d69108 100644
--- a/third_party/blink/renderer/platform/graphics/gpu/drawing_buffer.cc
+++ b/third_party/blink/renderer/platform/graphics/gpu/drawing_buffer.cc
@@ -28,6 +28,8 @@
  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  */
 
+#include "base/containers/span.h"
+
 #ifdef UNSAFE_BUFFERS_BUILD
 // TODO(crbug.com/351564777): Remove this and convert code to safer constructs.
 #pragma allow_unsafe_buffers
@@ -970,15 +972,15 @@ bool DrawingBuffer::Initialize(const gfx::Size& size, bool use_multisampling) {
     has_eqaa_support = true;
 
   state_restorer_->SetFramebufferBindingDirty();
-  gl_->GenFramebuffers(1, &fbo_);
+  gl_->GenFramebuffers(1, base::span<GLuint, 1>(&fbo_));
   gl_->BindFramebuffer(GL_FRAMEBUFFER, fbo_);
   if (opengl_flip_y_extension_)
     gl_->FramebufferParameteri(GL_FRAMEBUFFER, GL_FRAMEBUFFER_FLIP_Y_MESA, 1);
 
   if (WantExplicitResolve()) {
-    gl_->GenFramebuffers(1, &multisample_fbo_);
+    gl_->GenFramebuffers(1, base::span<GLuint, 1>(&multisample_fbo_));
     gl_->BindFramebuffer(GL_FRAMEBUFFER, multisample_fbo_);
-    gl_->GenRenderbuffers(1, &multisample_renderbuffer_);
+    gl_->GenRenderbuffers(1, base::span<GLuint, 1>(&multisample_renderbuffer_));
     if (opengl_flip_y_extension_)
       gl_->FramebufferParameteri(GL_FRAMEBUFFER, GL_FRAMEBUFFER_FLIP_Y_MESA, 1);
   }
@@ -1237,10 +1239,10 @@ void DrawingBuffer::BeginDestruction() {
   // If the drawing buffer is being destroyed due to a real context loss these
   // calls will be ineffective, but won't be harmful.
   if (multisample_fbo_)
-    gl_->DeleteFramebuffers(1, &multisample_fbo_);
+    gl_->DeleteFramebuffers(1, base::span<GLuint, 1>(&multisample_fbo_));
 
   if (fbo_)
-    gl_->DeleteFramebuffers(1, &fbo_);
+    gl_->DeleteFramebuffers(1, base::span<GLuint, 1>(&fbo_));
 
   if (multisample_renderbuffer_)
     gl_->DeleteRenderbuffers(1, &multisample_renderbuffer_);
@@ -1337,7 +1339,7 @@ bool DrawingBuffer::ReallocateDefaultFramebuffer(const gfx::Size& size,
     gl_->BindFramebuffer(GL_FRAMEBUFFER,
                          multisample_fbo_ ? multisample_fbo_ : fbo_);
     if (!depth_stencil_buffer_)
-      gl_->GenRenderbuffers(1, &depth_stencil_buffer_);
+      gl_->GenRenderbuffers(1, base::span<GLuint, 1>(&depth_stencil_buffer_));
     gl_->BindRenderbuffer(GL_RENDERBUFFER, depth_stencil_buffer_);
     if (anti_aliasing_mode_ == kAntialiasingModeMSAAImplicitResolve) {
       gl_->RenderbufferStorageMultisampleEXT(GL_RENDERBUFFER, sample_count_,
@@ -1772,7 +1774,7 @@ sk_sp<SkData> DrawingBuffer::PaintRenderingResultsToDataArray(
   GLuint fbo = 0;
   state_restorer_->SetFramebufferBindingDirty();
   if (source_buffer == kFrontBuffer && front_color_buffer_) {
-    gl_->GenFramebuffers(1, &fbo);
+    gl_->GenFramebuffers(1, base::span<GLuint, 1>(&fbo));
     gl_->BindFramebuffer(GL_FRAMEBUFFER, fbo);
     front_color_buffer_->BeginAccess(gpu::SyncToken(), /*readonly=*/true);
     gl_->FramebufferTexture2D(
@@ -1796,7 +1798,7 @@ sk_sp<SkData> DrawingBuffer::PaintRenderingResultsToDataArray(
     gl_->FramebufferTexture2D(
         GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0,
         front_color_buffer_->shared_image->GetTextureTarget(), 0, 0);
-    gl_->DeleteFramebuffers(1, &fbo);
+    gl_->DeleteFramebuffers(1, base::span<GLuint, 1>(&fbo));
     front_color_buffer_->EndAccess();
   }
 
@@ -2059,7 +2061,7 @@ scoped_refptr<DrawingBuffer::ColorBuffer> DrawingBuffer::CreateColorBuffer(
     GLuint fbo = 0;
 
     state_restorer_->SetClearStateDirty();
-    gl_->GenFramebuffers(1, &fbo);
+    gl_->GenFramebuffers(1, base::span<GLuint, 1>(&fbo));
     gl_->BindFramebuffer(GL_FRAMEBUFFER, fbo);
     gl_->FramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0,
                               texture_target, color_buffer->texture_id(), 0);
@@ -2069,7 +2071,7 @@ scoped_refptr<DrawingBuffer::ColorBuffer> DrawingBuffer::CreateColorBuffer(
     gl_->Clear(GL_COLOR_BUFFER_BIT);
     gl_->FramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0,
                               texture_target, 0, 0);
-    gl_->DeleteFramebuffers(1, &fbo);
+    gl_->DeleteFramebuffers(1, base::span<GLuint, 1>(&fbo));
   }
 
   return color_buffer;
diff --git a/third_party/blink/renderer/platform/graphics/gpu/drawing_buffer_test.cc b/third_party/blink/renderer/platform/graphics/gpu/drawing_buffer_test.cc
index d30b6e2cf39f5..642c0610d7118 100644
--- a/third_party/blink/renderer/platform/graphics/gpu/drawing_buffer_test.cc
+++ b/third_party/blink/renderer/platform/graphics/gpu/drawing_buffer_test.cc
@@ -28,6 +28,8 @@
  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  */
 
+#include "base/containers/span.h"
+
 #ifdef UNSAFE_BUFFERS_BUILD
 // TODO(crbug.com/351564777): Remove this and convert code to safer constructs.
 #pragma allow_unsafe_buffers
@@ -555,7 +557,7 @@ class DepthStencilTrackingGLES2Interface
     return reinterpret_cast<const GLubyte*>("");
   }
 
-  void GenRenderbuffers(GLsizei n, GLuint* renderbuffers) override {
+  void GenRenderbuffers(GLsizei n, base::span<GLuint> renderbuffers) override {
     for (GLsizei i = 0; i < n; ++i)
       renderbuffers[i] = next_gen_renderbuffer_id_++;
   }
diff --git a/third_party/blink/renderer/platform/graphics/gpu/xr_webgl_drawing_buffer.cc b/third_party/blink/renderer/platform/graphics/gpu/xr_webgl_drawing_buffer.cc
index 7824663a4dd41..987e434c7a340 100644
--- a/third_party/blink/renderer/platform/graphics/gpu/xr_webgl_drawing_buffer.cc
+++ b/third_party/blink/renderer/platform/graphics/gpu/xr_webgl_drawing_buffer.cc
@@ -4,6 +4,7 @@
 
 #include "third_party/blink/renderer/platform/graphics/gpu/xr_webgl_drawing_buffer.h"
 
+#include "base/containers/span.h"
 #include "base/logging.h"
 #include "base/memory/raw_ptr.h"
 #include "build/build_config.h"
@@ -280,7 +281,7 @@ void XRWebGLDrawingBuffer::UseSharedBuffer(
     // Bind the shared texture to the destination framebuffer of
     // the explicit resolve step.
     if (!resolved_framebuffer_) {
-      gl->GenFramebuffers(1, &resolved_framebuffer_);
+      gl->GenFramebuffers(1, base::span<GLuint, 1>(&resolved_framebuffer_));
     }
     gl->BindFramebuffer(GL_FRAMEBUFFER, resolved_framebuffer_);
   } else {
@@ -418,7 +419,7 @@ void XRWebGLDrawingBuffer::Resize(const gfx::Size& new_size) {
       gl->DeleteRenderbuffers(1, &depth_stencil_buffer_);
       depth_stencil_buffer_ = 0;
     }
-    gl->GenRenderbuffers(1, &depth_stencil_buffer_);
+    gl->GenRenderbuffers(1, base::span<GLuint, 1>(&depth_stencil_buffer_));
     gl->BindRenderbuffer(GL_RENDERBUFFER, depth_stencil_buffer_);
 
     if (anti_aliasing_mode_ == kMSAAImplicitResolve) {
@@ -448,7 +449,7 @@ void XRWebGLDrawingBuffer::Resize(const gfx::Size& new_size) {
       multisample_renderbuffer_ = 0;
     }
 
-    gl->GenRenderbuffers(1, &multisample_renderbuffer_);
+    gl->GenRenderbuffers(1, base::span<GLuint, 1>(&multisample_renderbuffer_));
     gl->BindRenderbuffer(GL_RENDERBUFFER, multisample_renderbuffer_);
     gl->RenderbufferStorageMultisampleCHROMIUM(GL_RENDERBUFFER, sample_count_,
                                                multisample_format,
@@ -459,7 +460,7 @@ void XRWebGLDrawingBuffer::Resize(const gfx::Size& new_size) {
 
     // Now bind the resolve target framebuffer to attach the color textures to.
     if (!resolved_framebuffer_) {
-      gl->GenFramebuffers(1, &resolved_framebuffer_);
+      gl->GenFramebuffers(1, base::span<GLuint, 1>(&resolved_framebuffer_));
     }
     gl->BindFramebuffer(GL_FRAMEBUFFER, resolved_framebuffer_);
   }
```

## Build Failure Log

```

 9.76s Build Failure: 1 done 1 failed 67987 remaining - 0.10/s
 1 steps failed: exit=1
see ./out/linux/siso_output for full command line and output
 or ./out/linux/siso.INFO
use ./out/linux/siso_failed_commands.sh to re-run failed commands
real	0m10.033s
user	0m55.666s
sys	0m30.889s
ninja: Entering directory `out/linux'
init credentials done 49.866958ms
reapi instance: projects/rbe-chrome-untrusted/instances/default_instance
loading fs state done 1.27753727s
loading/recompacting deps log done 7.714Âµs
load siso config done 825.749181ms
load build.ninja done 1.021125175s
schedule pending:0+ready:1 (node:310590 edge:2)
build start: Ready 1 Pending 1
rebuild manifest finished	
schedule pending:0+ready:1 (node:310590 edge:9)
schedule pending:95564+ready:11453 (node:310590 edge:107019)
 1.11s schedule pending:102644+ready:15287 (node:310590 edge:117931)
build start: Ready 15287 Pending 102644
FAILED: 086fb01a-3885-4b41-8ec2-f2f6bfdc006e "./obj/gpu/command_buffer/client/gles2_interface/gles2_interface.o" CXX obj/gpu/command_buffer/client/gles2_interface/gles2_interface.o
err: exit=1
../../third_party/llvm-build/Release+Asserts/bin/clang++ -MMD -MF obj/gpu/command_buffer/client/gles2_interface/gles2_interface.o.d -DDCHECK_ALWAYS_ON=1 -DUSE_UDEV -DUSE_AURA=1 -DUSE_GLIB=1 -DUSE_OZONE=1 -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_GNU_SOURCE -DCR_CLANG_REVISION=\"llvmorg-21-init-5118-g52cd27e6-2\" -D_LIBCPP_HARDENING_MODE=_LIBCPP_HARDENING_MODE_EXTENSIVE -DCOMPONENT_BUILD -D_LIBCPP_INSTRUMENTED_WITH_ASAN=0 -DCR_LIBCXX_REVISION=4f05e20cbe1d02fa0871ac88b30eead9e38cab3a -DTMP_REBUILD_HACK -DCR_SYSROOT_KEY=20250129T203412Z-1 -D_DEBUG -DDYNAMIC_ANNOTATIONS_ENABLED=1 -DGLIB_VERSION_MAX_ALLOWED=GLIB_VERSION_2_56 -DGLIB_VERSION_MIN_REQUIRED=GLIB_VERSION_2_56 -DABSL_CONSUME_DLL -DABSL_FLAGS_STRIP_NAMES=0 -DCR_CXX_INCLUDE=\"third_party/rust/chromium_crates_io/vendor/cxx-1.0.146/include/cxx.h\" -DBORINGSSL_SHARED_LIBRARY -I../.. -Igen -I../../buildtools/third_party/libc++ -I../../third_party/khronos -I../../gpu -I../../third_party/perfetto/include -Igen/third_party/perfetto/build_config -Igen/third_party/perfetto -I../../base/allocator/partition_allocator/src -Igen/base/allocator/partition_allocator/src -I../../third_party/abseil-cpp -I../../third_party/boringssl/src/include -I../../third_party/protobuf/src -Wall -Wextra -Wimplicit-fallthrough -Wextra-semi -Wunreachable-code-aggressive -Wthread-safety -Wgnu -Wno-gnu-anonymous-struct -Wno-gnu-conditional-omitted-operand -Wno-gnu-include-next -Wno-gnu-label-as-value -Wno-gnu-redeclared-enum -Wno-gnu-statement-expression -Wno-gnu-zero-variadic-macro-arguments -Wno-zero-length-array -Wno-missing-field-initializers -Wno-unused-parameter -Wno-psabi -Wloop-analysis -Wno-unneeded-internal-declaration -Wno-cast-function-type -Wno-thread-safety-reference-return -Wno-nontrivial-memcall -Wshadow -Werror -fno-delete-null-pointer-checks -fno-strict-overflow -fno-ident -fno-strict-aliasing -fstack-protector -funwind-tables -fPIC -pthread -fcolor-diagnostics -fmerge-all-constants -fno-sized-deallocation -fcrash-diagnostics-dir=../../tools/clang/crashreports -mllvm -instcombine-lower-dbg-declare=0 -mllvm -split-threshold-for-reg-with-hint=0 -ffp-contract=off -Wa,--crel,--allow-experimental-crel -fcomplete-member-pointers -m64 -msse3 -Wno-builtin-macro-redefined -D__DATE__= -D__TIME__= -D__TIMESTAMP__= -ffile-compilation-dir=. -no-canonical-prefixes -ftrivial-auto-var-init=pattern -O0 -fno-omit-frame-pointer -gdwarf-4 -g2 -gdwarf-aranges -gsplit-dwarf -ggnu-pubnames -Xclang -fuse-ctor-homing -fvisibility=hidden -Wheader-hygiene -Wstring-conversion -Wtautological-overlap-compare -Xclang -add-plugin -Xclang find-bad-constructs -Xclang -plugin-arg-find-bad-constructs -Xclang span-ctor-from-string-literal -Xclang -plugin-arg-find-bad-constructs -Xclang raw-ref-template-as-trivial-member -Xclang -plugin-arg-find-bad-constructs -Xclang raw-span-template-as-trivial-member -Xclang -plugin-arg-find-bad-constructs -Xclang check-stack-allocated -Xclang -plugin-arg-find-bad-constructs -Xclang check-ipc -Xclang -add-plugin -Xclang raw-ptr-plugin -Xclang -plugin-arg-raw-ptr-plugin -Xclang check-raw-ptr-to-stack-allocated -Xclang -plugin-arg-raw-ptr-plugin -Xclang disable-check-raw-ptr-to-stack-allocated-error -Xclang -plugin-arg-raw-ptr-plugin -Xclang raw-ptr-exclude-path=../../third_party/dawn/ -Xclang -plugin-arg-raw-ptr-plugin -Xclang check-raw-ptr-fields -Xclang -plugin-arg-raw-ptr-plugin -Xclang check-span-fields -Xclang -plugin-arg-raw-ptr-plugin -Xclang check-raw-ref-fields -DUNSAFE_BUFFERS_BUILD -Xclang -add-plugin -Xclang unsafe-buffers -Xclang -plugin-arg-unsafe-buffers -Xclang ../../build/config/unsafe_buffers_paths.txt -isystem../../build/linux/debian_bullseye_amd64-sysroot/usr/include/glib-2.0 -isystem../../build/linux/debian_bullseye_amd64-sysroot/usr/lib/x86_64-linux-gnu/glib-2.0/include -Wno-invalid-offsetof -Wenum-compare-conditional -Wno-c++11-narrowing-const-reference -Wno-missing-template-arg-list-after-template-kw -Wno-undefined-bool-conversion -Wno-tautological-undefined-compare -std=c++20 -Wno-trigraphs -gsimple-template-names -fno-exceptions -fno-rtti -nostdinc++ -isystem../../third_party/libc++/src/include -isystem../../third_party/libc++abi/src/include --sysroot=../../build/linux/debian_bullseye_amd64-sysroot -fvisibility-inlines-hidden  -c ../../gpu/command_buffer/client/gles2_interface.cc -o obj/gpu/command_buffer/client/gles2_interface/gles2_interface.o
build step: cxx "./obj/gpu/command_buffer/client/gles2_interface/gles2_interface.o"
siso_rule: clang/cxx
stderr:
In file included from ../../gpu/command_buffer/client/gles2_interface.cc:5:
In file included from ../../gpu/command_buffer/client/gles2_interface.h:53:
In file included from ../../gpu/command_buffer/client/gles2_interface_autogen.h:16:
In file included from ../../base/containers/span.h:15:
In file included from ../../third_party/libc++/src/include/string.h:64:
../../build/linux/debian_bullseye_amd64-sysroot/usr/include/string.h:28:1: error: expected member name or ';' after declaration specifiers
   28 | __BEGIN_DECLS
      | ^~~~~~~~~~~~~
../../build/linux/debian_bullseye_amd64-sysroot/usr/include/x86_64-linux-gnu/sys/cdefs.h:114:31: note: expanded from macro '__BEGIN_DECLS'
  114 | # define __BEGIN_DECLS  extern "C" {
      |                         ~~~~~~ ^
In file included from ../../gpu/command_buffer/client/gles2_interface.cc:5:
In file included from ../../gpu/command_buffer/client/gles2_interface.h:53:
In file included from ../../gpu/command_buffer/client/gles2_interface_autogen.h:16:
In file included from ../../base/containers/span.h:17:
In file included from ../../third_party/libc++/src/include/algorithm:1852:
In file included from ../../third_party/libc++/src/include/__algorithm/find.h:32:
In file included from ../../third_party/libc++/src/include/cwchar:116:
In file included from ../../third_party/libc++/src/include/cwctype:58:
In file included from ../../third_party/libc++/src/include/wctype.h:66:
In file included from ../../build/linux/debian_bullseye_amd64-sysroot/usr/include/wctype.h:38:
../../build/linux/debian_bullseye_amd64-sysroot/usr/include/x86_64-linux-gnu/bits/wctype-wchar.h:87:1: error: expected member name or ';' after declaration specifiers
   87 | __BEGIN_DECLS
      | ^~~~~~~~~~~~~
../../build/linux/debian_bullseye_amd64-sysroot/usr/include/x86_64-linux-gnu/sys/cdefs.h:114:31: note: expanded from macro '__BEGIN_DECLS'
  114 | # define __BEGIN_DECLS  extern "C" {
      |                         ~~~~~~ ^
In file included from ../../gpu/command_buffer/client/gles2_interface.cc:5:
In file included from ../../gpu/command_buffer/client/gles2_interface.h:53:
In file included from ../../gpu/command_buffer/client/gles2_interface_autogen.h:16:
In file included from ../../base/containers/span.h:17:
In file included from ../../third_party/libc++/src/include/algorithm:1852:
In file included from ../../third_party/libc++/src/include/__algorithm/find.h:32:
In file included from ../../third_party/libc++/src/include/cwchar:118:
In file included from ../../third_party/libc++/src/include/wchar.h:116:
In file included from ../../build/linux/debian_bullseye_amd64-sysroot/usr/include/wchar.h:35:
In file included from ../../third_party/libc++/src/include/stddef.h:38:
In file included from ../../third_party/llvm-build/Release+Asserts/lib/clang/21/include/stddef.h:93:
../../third_party/llvm-build/Release+Asserts/lib/clang/21/include/__stddef_size_t.h:18:23: error: redefinition of 'size_t'
   18 | typedef __SIZE_TYPE__ size_t;
      |                       ^
../../third_party/llvm-build/Release+Asserts/lib/clang/21/include/stddef.h:93:10: note: '../../third_party/llvm-build/Release+Asserts/lib/clang/21/include/__stddef_size_t.h' included multiple times, additional include site here
   93 | #include <__stddef_size_t.h>
      |          ^
../../third_party/llvm-build/Release+Asserts/lib/clang/21/include/stddef.h:93:10: note: '../../third_party/llvm-build/Release+Asserts/lib/clang/21/include/__stddef_size_t.h' included multiple times, additional include site here
   93 | #include <__stddef_size_t.h>
      |          ^
../../third_party/llvm-build/Release+Asserts/lib/clang/21/include/__stddef_size_t.h:18:23: note: unguarded header; consider using #ifdef guards or #pragma once
   18 | typedef __SIZE_TYPE__ size_t;
      |                       ^
In file included from ../../gpu/command_buffer/client/gles2_interface.cc:5:
In file included from ../../gpu/command_buffer/client/gles2_interface.h:53:
In file included from ../../gpu/command_buffer/client/gles2_interface_autogen.h:16:
In file included from ../../base/containers/span.h:17:
In file included from ../../third_party/libc++/src/include/algorithm:1852:
In file included from ../../third_party/libc++/src/include/__algorithm/find.h:32:
In file included from ../../third_party/libc++/src/include/cwchar:118:
In file included from ../../third_party/libc++/src/include/wchar.h:116:
../../build/linux/debian_bullseye_amd64-sysroot/usr/include/wchar.h:79:1: error: expected member name or ';' after declaration specifiers
   79 | __BEGIN_DECLS
      | ^~~~~~~~~~~~~
../../build/linux/debian_bullseye_amd64-sysroot/usr/include/x86_64-linux-gnu/sys/cdefs.h:114:31: note: expanded from macro '__BEGIN_DECLS'
  114 | # define __BEGIN_DECLS  extern "C" {
      |                         ~~~~~~ ^
In file included from ../../gpu/command_buffer/client/gles2_interface.cc:5:
../../gpu/command_buffer/client/gles2_interface.h:37:7: error: missing '}' at end of definition of 'gpu::gles2::GLES2Interface'
   37 | class GLES2Interface : public InterfaceBase {
      |       ^
../../third_party/libc++/src/include/cwchar:132:1: note: still within definition of 'gpu::gles2::GLES2Interface' here
  132 | _LIBCPP_BEGIN_NAMESPACE_STD
      | ^
../../third_party/libc++/src/include/__config:583:39: note: expanded from macro '_LIBCPP_BEGIN_NAMESPACE_STD'
  583 |                                       namespace _LIBCPP_TYPE_VISIBILITY_DEFAULT std {                                  \
      |                                       ^
In file included from ../../gpu/command_buffer/client/gles2_interface.cc:5:
In file included from ../../gpu/command_buffer/client/gles2_interface.h:53:
In file included from ../../gpu/command_buffer/client/gles2_interface_autogen.h:16:
In file included from ../../base/containers/span.h:17:
In file included from ../../third_party/libc++/src/include/algorithm:1852:
In file included from ../../third_party/libc++/src/include/__algorithm/find.h:32:
../../third_party/libc++/src/include/cwchar:200:60: error: unknown type name 'size_t'
  200 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 size_t __constexpr_wcslen(const wchar_t* __str) {
      |                                                            ^
../../third_party/libc++/src/include/cwchar:215:65: error: unknown type name 'size_t'
  215 | __constexpr_wmemcmp(const wchar_t* __lhs, const wchar_t* __rhs, size_t __count) {
      |                                                                 ^
../../third_party/libc++/src/include/cwchar:233:103: error: unknown type name 'size_t'
  233 | _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 _Tp* __constexpr_wmemchr(_Tp* __str, _Up __value, size_t __count) {
      |                                                                                                       ^
../../third_party/libc++/src/include/cwchar:235:21: error: no template named '__libcpp_is_trivially_equality_comparable'
  235 |                     __libcpp_is_trivially_equality_comparable<_Tp, _Tp>::value,
      |                     ^
../../third_party/libc++/src/include/cwchar:239:8: error: use of undeclared identifier '__libcpp_is_constant_evaluated'; did you mean '__builtin_is_constant_evaluated'?
  239 |   if (!__libcpp_is_constant_evaluated()) {
      |        ^
../../third_party/libc++/src/include/cwchar:241:44: error: no member named 'addressof' in namespace 'gpu::gles2::std'
  241 |     __builtin_memcpy(&__value_buffer, std::addressof(__value), sizeof(wchar_t));
      |                                       ~~~~~^
../../third_party/libc++/src/include/cwchar:243:44: error: no template named '__copy_cv_t'
  243 |         __builtin_wmemchr(reinterpret_cast<__copy_cv_t<_Tp, wchar_t>*>(__str), __value_buffer, __count));
      |                                            ^
../../third_party/libc++/src/include/cwchar:246:32: error: use of undeclared identifier 'remove_cv_t'
  246 |   else if constexpr (is_same_v<remove_cv_t<_Tp>, wchar_t>)
      |                                ^
In file included from ../../gpu/command_buffer/client/gles2_interface.cc:5:
In file included from ../../gpu/command_buffer/client/gles2_interface.h:53:
In file included from ../../gpu/command_buffer/client/gles2_interface_autogen.h:16:
In file included from ../../base/containers/span.h:17:
In file included from ../../third_party/libc++/src/include/algorithm:1852:
../../third_party/libc++/src/include/__algorithm/find.h:49:14: error: no member named '__invoke' in namespace 'gpu::gles2::std'
   49 |     if (std::__invoke(__proj, *__first) == __value)
      |         ~~~~~^
../../third_party/libc++/src/include/__algorithm/find.h:58:25: error: no template named '__is_identity'
   58 |           __enable_if_t<__is_identity<_Proj>::value && __libcpp_is_trivially_equality_comparable<_Tp, _Up>::value &&
      |                         ^
../../third_party/libc++/src/include/__algorithm/find.h:58:56: error: no template named '__libcpp_is_trivially_equality_comparable'
   58 |           __enable_if_t<__is_identity<_Proj>::value && __libcpp_is_trivially_equality_comparable<_Tp, _Up>::value &&
      |                                                        ^
../../third_party/libc++/src/include/__algorithm/find.h:62:25: error: no member named '__constexpr_memchr' in namespace 'gpu::gles2::std'; did you mean '__constexpr_wmemchr'?
   62 |   if (auto __ret = std::__constexpr_memchr(__first, __value, __last - __first))
      |                    ~~~~~^
../../third_party/libc++/src/include/cwchar:233:58: note: '__constexpr_wmemchr' declared here
  233 | _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 _Tp* __constexpr_wmemchr(_Tp* __str, _Up __value, size_t __count) {
      |                                                          ^
In file included from ../../gpu/command_buffer/client/gles2_interface.cc:5:
In file included from ../../gpu/command_buffer/client/gles2_interface.h:53:
In file included from ../../gpu/command_buffer/client/gles2_interface_autogen.h:16:
In file included from ../../base/containers/span.h:17:
In file included from ../../third_party/libc++/src/include/algorithm:1852:
../../third_party/libc++/src/include/__algorithm/find.h:71:25: error: no template named '__is_identity'
   71 |           __enable_if_t<__is_identity<_Proj>::value && __libcpp_is_trivially_equality_comparable<_Tp, _Up>::value &&
      |                         ^
../../third_party/libc++/src/include/__algorithm/find.h:71:56: error: no template named '__libcpp_is_trivially_equality_comparable'
   71 |           __enable_if_t<__is_identity<_Proj>::value && __libcpp_is_trivially_equality_comparable<_Tp, _Up>::value &&
      |                                                        ^
fatal error: too many errors emitted, stopping now [-ferror-limit=]
20 errors generated.
build failed	
local:1 remote:0 cache:0 fallback:0 retry:0 skip:49943
reapi: ops: 1(err:0) / r:0(err:0) 0B / w:0(err:0) 0B
fs: ops: 78(err:44) / r:392(err:0) 2.76MiB / w:0(err:0) 0B
```
