# Build Failure Analysis: 2025_03_14_patch_1525

## First error

../../gpu/command_buffer/service/gles2_cmd_decoder.cc:9715:46: error: out-of-line definition of 'DoMultiDrawElements' does not match any declaration in 'gpu::gles2::GLES2DecoderImpl'

## Category
Rewriter needs to avoid spanifying functions if it requires spanifying excluded code.

## Reason
The rewriter changed the signature of the `DoMultiDrawElements` function to take a `base::span<const GLint> basevertices` parameter. However, the definition of `DoMultiDrawElements` is not in the same file as the declaration. The declaration is in `gpu/command_buffer/service/gles2_cmd_decoder_autogen.h`, which is autogenerated, and thus is excluded from the rewriter.

```cpp
error::Error GLES2DecoderImpl::DoMultiDrawElements(
    const char* function_name,
    bool instanced,
    GLenum mode,
    const GLsizei* counts,
    GLenum type,
    const int32_t* offsets,
    const GLsizei* primcounts,
    const GLint* basevertices, // This parameter is changed to span in gles2_cmd_decoder.cc
    const GLuint* baseinstances,
    GLsizei drawcount) 
```

## Solution
The rewriter should not attempt to spanify functions that have declarations in autogenerated files that are excluded from rewriting.

## Note
There are multiple errors stemming from the same root cause. The rewriter should avoid spanifying functions if it requires spanifying excluded code.
```
../../gpu/command_buffer/service/gles2_cmd_decoder.cc:9931:19: error: no matching conversion for functional-style cast from 'GLint *' (aka 'int *') to 'base::span<GLint, 1>' (aka 'span<int, 1>')
../../gpu/command_buffer/service/gles2_cmd_decoder.cc:9928:10: error: no matching member function for call to 'DoMultiDrawElements'
../../gpu/command_buffer/service/gles2_cmd_decoder.cc:9981:7: error: no matching member function for call to 'DoMultiDrawElements'